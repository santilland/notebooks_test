{"version":1,"kind":"Notebook","sha256":"de18f34f5e8c8095fd51bc3e1c77d7f39833aaee104c10a31b0fdb0594db00e8","slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-usecase-ndvi-timeline","location":"/external_notebooks/eurodatacube/notebooks/notebooks/curated/EDC_Usecase-NDVI_timeline.ipynb","dependencies":[],"frontmatter":{"title":"NDVI timeline","content_includes_title":true,"kernelspec":{"name":"conda-env-users-edc-2023.10-01-py","display_name":"Python 3","language":"python"},"github":"https://github.com/eoxhub-workspaces/documentation/","numbering":{"title":{"offset":5}},"edit_url":"https://github.com/eoxhub-workspaces/documentation//blob/main/external_notebooks/eurodatacube/notebooks/notebooks/curated/EDC_Usecase-NDVI_timeline.ipynb","exports":[{"format":"ipynb","filename":"EDC_Usecase-NDVI_timeline.ipynb","url":"/notebooks_test/build/EDC_Usecase-NDVI_tim-eb3eae1bcbbb2efa6b804f69566613b1.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:55:43.942374Z","iopub.status.busy":"2023-10-24T07:55:43.942156Z","iopub.status.idle":"2023-10-24T07:55:44.025074Z","shell.execute_reply":"2023-10-24T07:55:44.024683Z"},"papermill":{"duration":0.110646,"end_time":"2023-10-24T07:55:44.026108","exception":false,"start_time":"2023-10-24T07:55:43.915462","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"from edc import check_compatibility\ncheck_compatibility(\"user-2023.10-01\", dependencies=[\"SH\"])","visibility":"show","key":"lLIYIJQR0A"},{"type":"output","id":"RkEmoHtpAeedtDJIb_9nr","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"<script type=\"text/javascript\">\n        function toggle(id) {\n            el = document.getElementById(id);\n            el.style.display = el.style.display === \"none\" ? \"block\" : \"none\";\n        }\n    </script>","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"This notebook is compatible with this base image version (user-2023.10-01).","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"text/markdown":{"content":"\n\n---------\n\nThe following environment variables are available:\n\n* `SH_CLIENT_ID`, `SH_INSTANCE_ID`, `SH_CLIENT_NAME`, `SH_CLIENT_SECRET`\n","content_type":"text/markdown"},"text/plain":{"content":"<IPython.core.display.Markdown object>","content_type":"text/plain"}}}],"visibility":"show","key":"beWycViQxF"}],"visibility":"show","key":"nBcnREQ7JQ"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.024954,"end_time":"2023-10-24T07:55:44.100647","exception":false,"start_time":"2023-10-24T07:55:44.075693","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"NDVI timeline","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FCPaopAY8P"}],"identifier":"ndvi-timeline","label":"NDVI timeline","html_id":"ndvi-timeline","implicit":true,"key":"Ao58eaxx4J"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"This notebook presents an example on how a user can exploit the xcube client library to access and analyse data served via Euro Data Cube service API.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Y5JnkVgf5B"}],"key":"GpCZbeUQEE"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Thematically, this notebook illustrates how to generate a timeline of NDVI values calculated from Sentinel-2 bands. The normalized difference vegetation index (NDVI) is a simple graphical indicator that can be used to analyze remote sensing measurements acquired by a space platform, assessing whether or not the target being observed contains live green vegetation.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"wEiKmuc4G2"}],"key":"EXavR7lxPx"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"It demonstrates how xcube tools and Euro Data Cube complement each other. While Euro Data Cube services are used to access the data, xcube tools are utilized for analysis and visualization.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"nQSV3sISiL"}],"key":"V8x3TOBgns"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Specifically, following actions are demonstrated by this notebook:","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"gTU37QT87Q"}],"key":"jKxIj8N46n"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":10,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Defining a new data cube for a given time range, region, and spatial resolution.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"MPxpefQIxI"}],"key":"Zigld3NPs5"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Adding a new data layer to cube - calculated value of NDVI","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"f2avWoYZL7"}],"key":"sC8LInNbXk"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Filling the cube with the data: requesting satellite imagery and calcualting NDVI layer","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"zqZCftZOP9"}],"key":"AEnzdCeKQI"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Displaying imageries, time series and linear plots for selected bands, area-of-interest and time","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"iWgkamhWoO"}],"key":"yYmR5JhAYy"}],"key":"lEDeXZApZa"}],"visibility":"show","key":"fZJeXcKX9e"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.02279,"end_time":"2023-10-24T07:55:44.171901","exception":false,"start_time":"2023-10-24T07:55:44.149111","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Importing dependancies","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vCEiHAFhLZ"}],"identifier":"importing-dependancies","label":"Importing dependancies","html_id":"importing-dependancies","implicit":true,"key":"VVrZGwnF95"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"The user needs to first import the dependancies.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"nngEfu0b7b"}],"key":"QC0f6wQAYa"}],"visibility":"show","key":"X8Z8a82JFA"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:55:44.245896Z","iopub.status.busy":"2023-10-24T07:55:44.245612Z","iopub.status.idle":"2023-10-24T07:55:46.578952Z","shell.execute_reply":"2023-10-24T07:55:46.578485Z"},"papermill":{"duration":2.358901,"end_time":"2023-10-24T07:55:46.580476","exception":false,"start_time":"2023-10-24T07:55:44.221575","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# xcube_sh imports\nfrom xcube_sh.cube import open_cube\nfrom xcube_sh.config import CubeConfig\nfrom xcube_sh.observers import Observers\nfrom xcube_sh.viewer import ViewerServer\n\n# xcube imports\nfrom xcube.core.maskset import MaskSet\nfrom xcube.core.geom import mask_dataset_by_geometry\nfrom xcube.core.geom import clip_dataset_by_geometry\n\n# Various utilities\nimport json\nfrom datetime import date, timedelta\nimport xarray as xr\nimport shapely.geometry\nimport IPython.display\nimport zarr\nimport numpy as np","visibility":"show","key":"aCaF9sbGGT"},{"type":"output","id":"2On7bpeGfHqexqj-wc86M","data":[],"visibility":"show","key":"onwSWxadPc"}],"visibility":"show","key":"w9ho6rsSPf"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.023589,"end_time":"2023-10-24T07:55:46.641696","exception":false,"start_time":"2023-10-24T07:55:46.618107","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"To present the timeline of NDVI values, you will need to create a linear chart.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uJUGuGYWDR"}],"key":"x7BY6sgevH"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"To create the chart, it´s neccessary to import the Matplot library (matplotlib) first. The matplotlib is a plotting library which renders the plots.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"bHRFSXhUkI"}],"key":"gBpstovgp4"}],"visibility":"show","key":"ylqeVsB3ol"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:55:46.704055Z","iopub.status.busy":"2023-10-24T07:55:46.703732Z","iopub.status.idle":"2023-10-24T07:55:47.221780Z","shell.execute_reply":"2023-10-24T07:55:47.221295Z"},"papermill":{"duration":0.544289,"end_time":"2023-10-24T07:55:47.223297","exception":false,"start_time":"2023-10-24T07:55:46.679008","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"import matplotlib.pyplot as plt","visibility":"show","key":"C21SO7D59J"},{"type":"output","id":"zDPvc2ynYT07myPr8EWWJ","data":[],"visibility":"show","key":"RKNwX0hy3L"}],"visibility":"show","key":"A6Hd66uMnM"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.022464,"end_time":"2023-10-24T07:55:47.283389","exception":false,"start_time":"2023-10-24T07:55:47.260925","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Specification of a geographical area of interest","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KuaKJ6o4Ow"}],"identifier":"specification-of-a-geographical-area-of-interest","label":"Specification of a geographical area of interest","html_id":"specification-of-a-geographical-area-of-interest","implicit":true,"key":"xERd5xqMZN"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"The next step is to specify the area of interest - i.e. a geographical area, which the cube should cover and for which the NDVI will be calculated.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"eFqYhNSGnt"}],"key":"pnQR1nt7eR"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"The area of interest is specified via bounding box. You have to specify geographical coordinates of each corner of this bounding box.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"JrB9My0di2"}],"key":"WUFk4ZHk44"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"For this demo, we are focussing on small coastal area near Kiel in Northern Germany (Baltic Sea).","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"q8gShtOzSE"}],"key":"UtZ2ock7Sn"}],"visibility":"show","key":"BzZKSbf7tX"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:55:47.343761Z","iopub.status.busy":"2023-10-24T07:55:47.342911Z","iopub.status.idle":"2023-10-24T07:55:47.346262Z","shell.execute_reply":"2023-10-24T07:55:47.345842Z"},"papermill":{"duration":0.027373,"end_time":"2023-10-24T07:55:47.347195","exception":false,"start_time":"2023-10-24T07:55:47.319822","status":"completed"},"tags":["parameters"]},"children":[{"type":"code","lang":"python","executable":true,"value":"x1 = 10.00 # degree\ny1 = 54.27  # degree\nx2 = 10.40  # degree\ny2 = 54.50  # degree\n\ndays = 30","visibility":"show","key":"emvRdry98D"},{"type":"output","id":"fnkdIloLZzPRwpGf8_-TI","data":[],"visibility":"show","key":"zXrL1WA4Nf"}],"visibility":"show","key":"RXZvAOjtqy"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:55:47.409235Z","iopub.status.busy":"2023-10-24T07:55:47.408903Z","iopub.status.idle":"2023-10-24T07:55:47.411611Z","shell.execute_reply":"2023-10-24T07:55:47.411113Z"},"papermill":{"duration":0.029298,"end_time":"2023-10-24T07:55:47.412705","exception":false,"start_time":"2023-10-24T07:55:47.383407","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"bbox = x1, y1, x2, y2","visibility":"show","key":"Z6Pj7tPRuZ"},{"type":"output","id":"0CUitvpSwTCMzHw1Rhigi","data":[],"visibility":"show","key":"mcGb2hu6UD"}],"visibility":"show","key":"O9oxbqKkTL"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.021494,"end_time":"2023-10-24T07:55:47.472518","exception":false,"start_time":"2023-10-24T07:55:47.451024","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualisation of area of interest","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tLr9QHUZ0m"}],"identifier":"visualisation-of-area-of-interest","label":"Visualisation of area of interest","html_id":"visualisation-of-area-of-interest","implicit":true,"key":"SJ6eltRRQi"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"To check whether the area of interest has been specified correctly, you can integrate a simple map allowing visualisation of this area.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"z5PGJyahJS"}],"key":"cEJ3onxnom"}],"visibility":"show","key":"aJZbVovHm1"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.023026,"end_time":"2023-10-24T07:55:47.528305","exception":false,"start_time":"2023-10-24T07:55:47.505279","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize the bounding box.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"W8tlZ6lTrB"}],"key":"K1rr1PjAVc"}],"visibility":"show","key":"hELvnaC4rd"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:55:47.586769Z","iopub.status.busy":"2023-10-24T07:55:47.586501Z","iopub.status.idle":"2023-10-24T07:55:47.591096Z","shell.execute_reply":"2023-10-24T07:55:47.590630Z"},"papermill":{"duration":0.02873,"end_time":"2023-10-24T07:55:47.592143","exception":false,"start_time":"2023-10-24T07:55:47.563413","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"IPython.display.GeoJSON(shapely.geometry.box(*bbox).__geo_interface__)","visibility":"show","key":"F54G1RErJP"},{"type":"output","id":"-IsZN-R95ijRW_4xTwMYD","data":[{"output_type":"display_data","metadata":{"application/geo+json":{"expanded":false,"root":"root"}},"data":{"application/geo+json":{"content":"{\"coordinates\":[[[10.4,54.27],[10.4,54.5],[10,54.5],[10,54.27],[10.4,54.27]]],\"type\":\"Polygon\"}","content_type":"application/geo+json"},"text/plain":{"content":"<IPython.display.GeoJSON object>","content_type":"text/plain"}}}],"visibility":"show","key":"eiefFYFNbU"}],"visibility":"show","key":"DRRBYmsP89"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.023705,"end_time":"2023-10-24T07:55:47.654024","exception":false,"start_time":"2023-10-24T07:55:47.630319","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Setting the spatial resolution of the cube","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kclF2rujLf"}],"identifier":"setting-the-spatial-resolution-of-the-cube","label":"Setting the spatial resolution of the cube","html_id":"setting-the-spatial-resolution-of-the-cube","implicit":true,"key":"ns8AGmD292"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"The next step is to specify the spatial resolution (pixel size) on which the raster data (in this case Sentinel-2 imageries) should be resampled and stored in.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"JPVtPINAJf"}],"key":"hDrYVEUI0O"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"In this case, the desired resolution is roughly 10 meters per pixel:","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"rx6IhLTLbo"}],"key":"uaPHhXEveN"}],"visibility":"show","key":"qanyddJHzo"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:55:47.715246Z","iopub.status.busy":"2023-10-24T07:55:47.714806Z","iopub.status.idle":"2023-10-24T07:55:47.717677Z","shell.execute_reply":"2023-10-24T07:55:47.717228Z"},"papermill":{"duration":0.028277,"end_time":"2023-10-24T07:55:47.718719","exception":false,"start_time":"2023-10-24T07:55:47.690442","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"spatial_res = 0.00018   # = 10.038 meters in degree>","visibility":"show","key":"ISddNP7ISe"},{"type":"output","id":"EfzrgBz8At8drenh0DzPw","data":[],"visibility":"show","key":"Wt7cIolZC1"}],"visibility":"show","key":"Uvaq3O5P5v"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.022008,"end_time":"2023-10-24T07:55:47.776555","exception":false,"start_time":"2023-10-24T07:55:47.754547","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Configuring the data content of the cube","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"z89KXsr6yC"}],"identifier":"configuring-the-data-content-of-the-cube","label":"Configuring the data content of the cube","html_id":"configuring-the-data-content-of-the-cube","implicit":true,"key":"de2aHznrRt"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Now we specify the properties of our cube.\nFirst, the satellite and processing level of data to be integrated is specified. In this case, the Sentinel-2 Level 2A data will be used.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"B9Qa50ntLS"}],"key":"J2PuFQsZXu"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"In the second row, the spectral bands are selected, which should be integarated. As we need to calculate NDVI index, we will need red and NIR bands (B04 and B08 of Sentinel-2).","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"cT9M7G4n1w"}],"key":"bHbZ8FJCT6"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Also, the time range and time period of the cube is specified in this step. In this case, we will be interested in data acquired between 14.5. and 31.7. 2018. A custom days time period will be used.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"NlJAdd1YnS"}],"key":"M3d7bJa5aE"}],"visibility":"show","key":"L7x0i3PqSD"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:55:47.841501Z","iopub.status.busy":"2023-10-24T07:55:47.841127Z","iopub.status.idle":"2023-10-24T07:55:47.845041Z","shell.execute_reply":"2023-10-24T07:55:47.844637Z"},"papermill":{"duration":0.031038,"end_time":"2023-10-24T07:55:47.846006","exception":false,"start_time":"2023-10-24T07:55:47.814968","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"end_date = date(2018, 6, 28)\ntime_range = [(end_date - timedelta(days=days)).strftime(\"%Y-%m-%d\"), end_date.strftime(\"%Y-%m-%d\")]\ncube_config = CubeConfig(dataset_name='S2L2A',\n                         band_names=['B04', 'B08'],\n                         tile_size=[512, 512],\n                         bbox=bbox,\n                         spatial_res=spatial_res,\n                         time_range=time_range,\n                         time_period='5D')","visibility":"show","key":"pS7JnCvWjQ"},{"type":"output","id":"Yj9HhsSJ-y17lNp0GX1v0","data":[],"visibility":"show","key":"Q9dHvCEqxS"}],"visibility":"show","key":"Re63jWBMbH"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.022309,"end_time":"2023-10-24T07:55:47.903099","exception":false,"start_time":"2023-10-24T07:55:47.880790","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Defining a “request collector”","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xrO1SbOYXf"}],"identifier":"defining-a-request-collector","label":"Defining a “request collector”","html_id":"defining-a-request-collector","implicit":true,"key":"L9QSO7XPej"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We define a ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"N8rSanlnM4"},{"type":"inlineCode","value":"request_collector","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"UF6CBcv2Yq"},{"type":"text","value":" as an observer for SentinelHub (SH) requests made, so we can show SH usage statistics.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"dOLOhdXXaA"}],"key":"hXqHvf1cKy"}],"visibility":"show","key":"GuzMcNspwd"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:55:47.964209Z","iopub.status.busy":"2023-10-24T07:55:47.963804Z","iopub.status.idle":"2023-10-24T07:55:47.966424Z","shell.execute_reply":"2023-10-24T07:55:47.966021Z"},"papermill":{"duration":0.028051,"end_time":"2023-10-24T07:55:47.967452","exception":false,"start_time":"2023-10-24T07:55:47.939401","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"request_collector = Observers.request_collector()","visibility":"show","key":"zGLewlCJum"},{"type":"output","id":"iNBI63SB5x71BNTUrE96S","data":[],"visibility":"show","key":"iG9iBLpOSk"}],"visibility":"show","key":"BygXsOCguq"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.023255,"end_time":"2023-10-24T07:55:48.029435","exception":false,"start_time":"2023-10-24T07:55:48.006180","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Loading data into the cube","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"btFTlDOO9p"}],"identifier":"loading-data-into-the-cube","label":"Loading data into the cube","html_id":"loading-data-into-the-cube","implicit":true,"key":"FcTjp2Mpmp"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Now, when the cube is correctly specified, we can open it. A lazy loading technique is used - it means that the data is loaded to the cube only when we actually use it (for some calcualtion, vizualization etc.).","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"x3FRpHMjRA"}],"key":"qGpdi9RDd6"}],"visibility":"show","key":"oa1dMs7Vee"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:55:48.089969Z","iopub.status.busy":"2023-10-24T07:55:48.089581Z","iopub.status.idle":"2023-10-24T07:55:48.212634Z","shell.execute_reply":"2023-10-24T07:55:48.211940Z"},"papermill":{"duration":0.149007,"end_time":"2023-10-24T07:55:48.214664","exception":false,"start_time":"2023-10-24T07:55:48.065657","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"cube = open_cube(cube_config, observer=request_collector)","visibility":"show","key":"TQ8CKb5U6v"},{"type":"output","id":"9sW0s2Duz9H1Qek5TPeZ5","data":[],"visibility":"show","key":"t9AetLs5n8"}],"visibility":"show","key":"pbhAVFbmgt"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.024807,"end_time":"2023-10-24T07:55:48.279514","exception":false,"start_time":"2023-10-24T07:55:48.254707","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Verifying the content of the cube","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AwqU7XeVCA"}],"identifier":"verifying-the-content-of-the-cube","label":"Verifying the content of the cube","html_id":"verifying-the-content-of-the-cube","implicit":true,"key":"Sxb50QH3xc"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Once the cube is opened, we can check whether it has been created in accordance with our expectations.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"uKADKM7i0f"}],"key":"bzwZC3N6sD"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"The Cube Dataset information can be displayed, enabling to verify that the cube is specified correctly.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"zkxjMlZpME"}],"key":"fd7vIQhw7G"}],"visibility":"show","key":"vuU8UZgjLY"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:55:48.343709Z","iopub.status.busy":"2023-10-24T07:55:48.343410Z","iopub.status.idle":"2023-10-24T07:55:48.370009Z","shell.execute_reply":"2023-10-24T07:55:48.369507Z"},"papermill":{"duration":0.051047,"end_time":"2023-10-24T07:55:48.371097","exception":false,"start_time":"2023-10-24T07:55:48.320050","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"cube","visibility":"show","key":"uzUUkYcKzP"},{"type":"output","id":"86kDf2M4GQhvh9T766Ihb","data":[{"output_type":"execute_result","execution_count":11,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"10cf4a1ae36886489d1c7dc491e8a3e9","path":"/notebooks_test/build/10cf4a1ae36886489d1c7dc491e8a3e9.html"},"text/plain":{"content":"<xarray.Dataset>\nDimensions:    (time: 7, lat: 1536, lon: 2560, bnds: 2)\nCoordinates:\n  * lat        (lat) float64 54.55 54.55 54.55 54.55 ... 54.27 54.27 54.27 54.27\n  * lon        (lon) float64 10.0 10.0 10.0 10.0 ... 10.46 10.46 10.46 10.46\n  * time       (time) datetime64[ns] 2018-05-31T12:00:00 ... 2018-06-30T12:00:00\n    time_bnds  (time, bnds) datetime64[ns] dask.array<chunksize=(7, 2), meta=np.ndarray>\nDimensions without coordinates: bnds\nData variables:\n    B04        (time, lat, lon) float32 dask.array<chunksize=(1, 512, 512), meta=np.ndarray>\n    B08        (time, lat, lon) float32 dask.array<chunksize=(1, 512, 512), meta=np.ndarray>\nAttributes: (12/13)\n    Conventions:               CF-1.7\n    title:                     S2L2A Data Cube Subset\n    history:                   [{'program': 'xcube_sh.chunkstore.SentinelHubC...\n    date_created:              2023-10-24T07:55:48.151977\n    time_coverage_start:       2018-05-29T00:00:00+00:00\n    time_coverage_end:         2018-07-03T00:00:00+00:00\n    ...                        ...\n    time_coverage_resolution:  P5DT0H0M0S\n    geospatial_lon_min:        10.0\n    geospatial_lat_min:        54.27\n    geospatial_lon_max:        10.4608\n    geospatial_lat_max:        54.54648\n    processing_level:          L2A","content_type":"text/plain"}}}],"visibility":"show","key":"ZbnHaSWlpt"}],"visibility":"show","key":"MBMVbFI0Gi"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.037843,"end_time":"2023-10-24T07:55:48.461259","exception":false,"start_time":"2023-10-24T07:55:48.423416","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"No requests have been made yet. Requests are made only if data is actually required.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nqtU63qf8t"}],"key":"X1PdRzTyOy"}],"visibility":"show","key":"TuMvWkg8mM"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.038972,"end_time":"2023-10-24T07:55:48.556183","exception":false,"start_time":"2023-10-24T07:55:48.517211","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Displaying information on specific band in the cube","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"pDW7IN4huV"}],"identifier":"displaying-information-on-specific-band-in-the-cube","label":"Displaying information on specific band in the cube","html_id":"displaying-information-on-specific-band-in-the-cube","implicit":true,"key":"SXBO89zFPU"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"It is possible to check each band loaded into the cube separately. In this case, we will check the band 04 (RED) and then band 08 (NIR)","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"GBLUUqUKut"}],"key":"eN8cwAIPeM"}],"visibility":"show","key":"sO6c15lg8b"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:55:48.658306Z","iopub.status.busy":"2023-10-24T07:55:48.657822Z","iopub.status.idle":"2023-10-24T07:55:48.670190Z","shell.execute_reply":"2023-10-24T07:55:48.669675Z"},"papermill":{"duration":0.055741,"end_time":"2023-10-24T07:55:48.671265","exception":false,"start_time":"2023-10-24T07:55:48.615524","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"cube.B04","visibility":"show","key":"W2XyIKsYcg"},{"type":"output","id":"KuITdZyDiCZ5MUggQVWXR","data":[{"output_type":"execute_result","execution_count":12,"metadata":{},"data":{"text/html":{"content":"<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));\n  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));\n  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));\n  --xr-border-color: var(--jp-border-color2, #e0e0e0);\n  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);\n  --xr-background-color: var(--jp-layout-color0, white);\n  --xr-background-color-row-even: var(--jp-layout-color1, white);\n  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);\n}\n\nhtml[theme=dark],\nbody[data-theme=dark],\nbody.vscode-dark {\n  --xr-font-color0: rgba(255, 255, 255, 1);\n  --xr-font-color2: rgba(255, 255, 255, 0.54);\n  --xr-font-color3: rgba(255, 255, 255, 0.38);\n  --xr-border-color: #1F1F1F;\n  --xr-disabled-color: #515151;\n  --xr-background-color: #111111;\n  --xr-background-color-row-even: #111111;\n  --xr-background-color-row-odd: #313131;\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 20px 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: none;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: '►';\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: '▼';\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: '(';\n}\n\n.xr-dim-list:after {\n  content: ')';\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: ',';\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  margin-bottom: 0;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  background-color: var(--xr-background-color) !important;\n  padding-bottom: 5px !important;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;B04&#x27; (time: 7, lat: 1536, lon: 2560)&gt;\ndask.array&lt;open_dataset-B04, shape=(7, 1536, 2560), dtype=float32, chunksize=(1, 512, 512), chunktype=numpy.ndarray&gt;\nCoordinates:\n  * lat      (lat) float64 54.55 54.55 54.55 54.55 ... 54.27 54.27 54.27 54.27\n  * lon      (lon) float64 10.0 10.0 10.0 10.0 10.0 ... 10.46 10.46 10.46 10.46\n  * time     (time) datetime64[ns] 2018-05-31T12:00:00 ... 2018-06-30T12:00:00\nAttributes:\n    sample_type:   FLOAT32\n    units:         reflectance\n    wavelength:    664.75\n    wavelength_a:  664.6\n    wavelength_b:  664.9\n    bandwidth:     31.0\n    bandwidth_a:   31\n    bandwidth_b:   31\n    resolution:    10</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'B04'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 7</li><li><span class='xr-has-index'>lat</span>: 1536</li><li><span class='xr-has-index'>lon</span>: 2560</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-a150ad1a-1a62-4f58-b68a-b5726b0892f8' class='xr-array-in' type='checkbox' checked><label for='section-a150ad1a-1a62-4f58-b68a-b5726b0892f8' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>dask.array&lt;chunksize=(1, 512, 512), meta=np.ndarray&gt;</span></div><div class='xr-array-data'><table>\n    <tr>\n        <td>\n            <table style=\"border-collapse: collapse;\">\n                <thead>\n                    <tr>\n                        <td> </td>\n                        <th> Array </th>\n                        <th> Chunk </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    \n                    <tr>\n                        <th> Bytes </th>\n                        <td> 105.00 MiB </td>\n                        <td> 1.00 MiB </td>\n                    </tr>\n                    \n                    <tr>\n                        <th> Shape </th>\n                        <td> (7, 1536, 2560) </td>\n                        <td> (1, 512, 512) </td>\n                    </tr>\n                    <tr>\n                        <th> Dask graph </th>\n                        <td colspan=\"2\"> 105 chunks in 2 graph layers </td>\n                    </tr>\n                    <tr>\n                        <th> Data type </th>\n                        <td colspan=\"2\"> float32 numpy.ndarray </td>\n                    </tr>\n                </tbody>\n            </table>\n        </td>\n        <td>\n        <svg width=\"194\" height=\"136\" style=\"stroke:rgb(0,0,0);stroke-width:1\" >\n\n  <!-- Horizontal lines -->\n  <line x1=\"10\" y1=\"0\" x2=\"24\" y2=\"14\" style=\"stroke-width:2\" />\n  <line x1=\"10\" y1=\"24\" x2=\"24\" y2=\"38\" />\n  <line x1=\"10\" y1=\"48\" x2=\"24\" y2=\"62\" />\n  <line x1=\"10\" y1=\"72\" x2=\"24\" y2=\"86\" style=\"stroke-width:2\" />\n\n  <!-- Vertical lines -->\n  <line x1=\"10\" y1=\"0\" x2=\"10\" y2=\"72\" style=\"stroke-width:2\" />\n  <line x1=\"12\" y1=\"2\" x2=\"12\" y2=\"74\" />\n  <line x1=\"14\" y1=\"4\" x2=\"14\" y2=\"76\" />\n  <line x1=\"16\" y1=\"6\" x2=\"16\" y2=\"78\" />\n  <line x1=\"18\" y1=\"8\" x2=\"18\" y2=\"80\" />\n  <line x1=\"20\" y1=\"10\" x2=\"20\" y2=\"82\" />\n  <line x1=\"22\" y1=\"12\" x2=\"22\" y2=\"84\" />\n  <line x1=\"24\" y1=\"14\" x2=\"24\" y2=\"86\" style=\"stroke-width:2\" />\n\n  <!-- Colored Rectangle -->\n  <polygon points=\"10.0,0.0 24.9485979497544,14.948597949754403 24.9485979497544,86.9485979497544 10.0,72.0\" style=\"fill:#ECB172A0;stroke-width:0\"/>\n\n  <!-- Horizontal lines -->\n  <line x1=\"10\" y1=\"0\" x2=\"130\" y2=\"0\" style=\"stroke-width:2\" />\n  <line x1=\"12\" y1=\"2\" x2=\"132\" y2=\"2\" />\n  <line x1=\"14\" y1=\"4\" x2=\"134\" y2=\"4\" />\n  <line x1=\"16\" y1=\"6\" x2=\"136\" y2=\"6\" />\n  <line x1=\"18\" y1=\"8\" x2=\"138\" y2=\"8\" />\n  <line x1=\"20\" y1=\"10\" x2=\"140\" y2=\"10\" />\n  <line x1=\"22\" y1=\"12\" x2=\"142\" y2=\"12\" />\n  <line x1=\"24\" y1=\"14\" x2=\"144\" y2=\"14\" style=\"stroke-width:2\" />\n\n  <!-- Vertical lines -->\n  <line x1=\"10\" y1=\"0\" x2=\"24\" y2=\"14\" style=\"stroke-width:2\" />\n  <line x1=\"34\" y1=\"0\" x2=\"48\" y2=\"14\" />\n  <line x1=\"58\" y1=\"0\" x2=\"72\" y2=\"14\" />\n  <line x1=\"82\" y1=\"0\" x2=\"96\" y2=\"14\" />\n  <line x1=\"106\" y1=\"0\" x2=\"120\" y2=\"14\" />\n  <line x1=\"130\" y1=\"0\" x2=\"144\" y2=\"14\" style=\"stroke-width:2\" />\n\n  <!-- Colored Rectangle -->\n  <polygon points=\"10.0,0.0 130.0,0.0 144.9485979497544,14.948597949754403 24.9485979497544,14.948597949754403\" style=\"fill:#ECB172A0;stroke-width:0\"/>\n\n  <!-- Horizontal lines -->\n  <line x1=\"24\" y1=\"14\" x2=\"144\" y2=\"14\" style=\"stroke-width:2\" />\n  <line x1=\"24\" y1=\"38\" x2=\"144\" y2=\"38\" />\n  <line x1=\"24\" y1=\"62\" x2=\"144\" y2=\"62\" />\n  <line x1=\"24\" y1=\"86\" x2=\"144\" y2=\"86\" style=\"stroke-width:2\" />\n\n  <!-- Vertical lines -->\n  <line x1=\"24\" y1=\"14\" x2=\"24\" y2=\"86\" style=\"stroke-width:2\" />\n  <line x1=\"48\" y1=\"14\" x2=\"48\" y2=\"86\" />\n  <line x1=\"72\" y1=\"14\" x2=\"72\" y2=\"86\" />\n  <line x1=\"96\" y1=\"14\" x2=\"96\" y2=\"86\" />\n  <line x1=\"120\" y1=\"14\" x2=\"120\" y2=\"86\" />\n  <line x1=\"144\" y1=\"14\" x2=\"144\" y2=\"86\" style=\"stroke-width:2\" />\n\n  <!-- Colored Rectangle -->\n  <polygon points=\"24.9485979497544,14.948597949754403 144.9485979497544,14.948597949754403 144.9485979497544,86.9485979497544 24.9485979497544,86.9485979497544\" style=\"fill:#ECB172A0;stroke-width:0\"/>\n\n  <!-- Text -->\n  <text x=\"84.948598\" y=\"106.948598\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" >2560</text>\n  <text x=\"164.948598\" y=\"50.948598\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" transform=\"rotate(-90,164.948598,50.948598)\">1536</text>\n  <text x=\"7.474299\" y=\"99.474299\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" transform=\"rotate(45,7.474299,99.474299)\">7</text>\n</svg>\n        </td>\n    </tr>\n</table></div></div></li><li class='xr-section-item'><input id='section-d62aa464-d95e-4179-9248-249cbbe26bf5' class='xr-section-summary-in' type='checkbox'  checked><label for='section-d62aa464-d95e-4179-9248-249cbbe26bf5' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>lat</span></div><div class='xr-var-dims'>(lat)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>54.55 54.55 54.55 ... 54.27 54.27</div><input id='attrs-eee8edcd-9f69-4d6c-b254-e256e7bcf4a0' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-eee8edcd-9f69-4d6c-b254-e256e7bcf4a0' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d3311b34-f892-4c6d-ad39-34f970c4a3e8' class='xr-var-data-in' type='checkbox'><label for='data-d3311b34-f892-4c6d-ad39-34f970c4a3e8' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>decimal_degrees</dd><dt><span>long_name :</span></dt><dd>latitude</dd><dt><span>standard_name :</span></dt><dd>latitude</dd></dl></div><div class='xr-var-data'><pre>array([54.54639, 54.54621, 54.54603, ..., 54.27045, 54.27027, 54.27009])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>lon</span></div><div class='xr-var-dims'>(lon)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>10.0 10.0 10.0 ... 10.46 10.46</div><input id='attrs-dcd2a129-db03-48cc-83f4-616daac16d9a' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-dcd2a129-db03-48cc-83f4-616daac16d9a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-12dcc596-b8e7-4d59-9397-ae45bbd2339d' class='xr-var-data-in' type='checkbox'><label for='data-12dcc596-b8e7-4d59-9397-ae45bbd2339d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>decimal_degrees</dd><dt><span>long_name :</span></dt><dd>longitude</dd><dt><span>standard_name :</span></dt><dd>longitude</dd></dl></div><div class='xr-var-data'><pre>array([10.00009, 10.00027, 10.00045, ..., 10.46035, 10.46053, 10.46071])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2018-05-31T12:00:00 ... 2018-06-...</div><input id='attrs-3650c925-e8a0-4327-a840-79e147b74eb8' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-3650c925-e8a0-4327-a840-79e147b74eb8' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c7902e7a-ad4c-49f4-8214-8c71d8d6a8f5' class='xr-var-data-in' type='checkbox'><label for='data-c7902e7a-ad4c-49f4-8214-8c71d8d6a8f5' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>time</dd><dt><span>bounds :</span></dt><dd>time_bnds</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;2018-05-31T12:00:00.000000000&#x27;, &#x27;2018-06-05T12:00:00.000000000&#x27;,\n       &#x27;2018-06-10T12:00:00.000000000&#x27;, &#x27;2018-06-15T12:00:00.000000000&#x27;,\n       &#x27;2018-06-20T12:00:00.000000000&#x27;, &#x27;2018-06-25T12:00:00.000000000&#x27;,\n       &#x27;2018-06-30T12:00:00.000000000&#x27;], dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-b262e574-14ce-4aef-8602-e9d91d6426a3' class='xr-section-summary-in' type='checkbox'  ><label for='section-b262e574-14ce-4aef-8602-e9d91d6426a3' class='xr-section-summary' >Indexes: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>lat</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-18d90074-9a2b-444e-88df-feaf1ef092a8' class='xr-index-data-in' type='checkbox'/><label for='index-18d90074-9a2b-444e-88df-feaf1ef092a8' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Float64Index([          54.54639,           54.54621,           54.54603,\n                        54.54585,           54.54567,           54.54549,\n                        54.54531,           54.54513,           54.54495,\n                        54.54477,\n              ...\n              54.271710000000006, 54.271530000000006, 54.271350000000005,\n              54.271170000000005, 54.270990000000005, 54.270810000000004,\n              54.270630000000004, 54.270450000000004, 54.270270000000004,\n                        54.27009],\n             dtype=&#x27;float64&#x27;, name=&#x27;lat&#x27;, length=1536))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>lon</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-81a3b766-63df-4080-b374-72e75faf07f0' class='xr-index-data-in' type='checkbox'/><label for='index-81a3b766-63df-4080-b374-72e75faf07f0' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Float64Index([          10.00009,           10.00027,           10.00045,\n              10.000630000000001,           10.00081,           10.00099,\n                        10.00117,           10.00135,           10.00153,\n              10.001710000000001,\n              ...\n                        10.45909,           10.45927,           10.45945,\n                        10.45963, 10.459810000000001, 10.459990000000001,\n                        10.46017,           10.46035,           10.46053,\n                        10.46071],\n             dtype=&#x27;float64&#x27;, name=&#x27;lon&#x27;, length=2560))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-76a2d26e-c28b-46eb-90ff-e9666d2cddf4' class='xr-index-data-in' type='checkbox'/><label for='index-76a2d26e-c28b-46eb-90ff-e9666d2cddf4' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;2018-05-31 12:00:00&#x27;, &#x27;2018-06-05 12:00:00&#x27;,\n               &#x27;2018-06-10 12:00:00&#x27;, &#x27;2018-06-15 12:00:00&#x27;,\n               &#x27;2018-06-20 12:00:00&#x27;, &#x27;2018-06-25 12:00:00&#x27;,\n               &#x27;2018-06-30 12:00:00&#x27;],\n              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;time&#x27;, freq=None))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-6a425b3a-03c0-4f5d-8ef5-6100ba00a78f' class='xr-section-summary-in' type='checkbox'  checked><label for='section-6a425b3a-03c0-4f5d-8ef5-6100ba00a78f' class='xr-section-summary' >Attributes: <span>(9)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>sample_type :</span></dt><dd>FLOAT32</dd><dt><span>units :</span></dt><dd>reflectance</dd><dt><span>wavelength :</span></dt><dd>664.75</dd><dt><span>wavelength_a :</span></dt><dd>664.6</dd><dt><span>wavelength_b :</span></dt><dd>664.9</dd><dt><span>bandwidth :</span></dt><dd>31.0</dd><dt><span>bandwidth_a :</span></dt><dd>31</dd><dt><span>bandwidth_b :</span></dt><dd>31</dd><dt><span>resolution :</span></dt><dd>10</dd></dl></div></li></ul></div></div>","content_type":"text/html"},"text/plain":{"content":"<xarray.DataArray 'B04' (time: 7, lat: 1536, lon: 2560)>\ndask.array<open_dataset-B04, shape=(7, 1536, 2560), dtype=float32, chunksize=(1, 512, 512), chunktype=numpy.ndarray>\nCoordinates:\n  * lat      (lat) float64 54.55 54.55 54.55 54.55 ... 54.27 54.27 54.27 54.27\n  * lon      (lon) float64 10.0 10.0 10.0 10.0 10.0 ... 10.46 10.46 10.46 10.46\n  * time     (time) datetime64[ns] 2018-05-31T12:00:00 ... 2018-06-30T12:00:00\nAttributes:\n    sample_type:   FLOAT32\n    units:         reflectance\n    wavelength:    664.75\n    wavelength_a:  664.6\n    wavelength_b:  664.9\n    bandwidth:     31.0\n    bandwidth_a:   31\n    bandwidth_b:   31\n    resolution:    10","content_type":"text/plain"}}}],"visibility":"show","key":"vNTebF7Hfa"}],"visibility":"show","key":"xkG0N8OUPB"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:55:48.757273Z","iopub.status.busy":"2023-10-24T07:55:48.756996Z","iopub.status.idle":"2023-10-24T07:55:48.768990Z","shell.execute_reply":"2023-10-24T07:55:48.768481Z"},"papermill":{"duration":0.047866,"end_time":"2023-10-24T07:55:48.770100","exception":false,"start_time":"2023-10-24T07:55:48.722234","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"cube.B08","visibility":"show","key":"t5qQPpNxei"},{"type":"output","id":"yKwAjGAbjfgD3KXRhV4Ri","data":[{"output_type":"execute_result","execution_count":13,"metadata":{},"data":{"text/html":{"content":"<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));\n  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));\n  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));\n  --xr-border-color: var(--jp-border-color2, #e0e0e0);\n  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);\n  --xr-background-color: var(--jp-layout-color0, white);\n  --xr-background-color-row-even: var(--jp-layout-color1, white);\n  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);\n}\n\nhtml[theme=dark],\nbody[data-theme=dark],\nbody.vscode-dark {\n  --xr-font-color0: rgba(255, 255, 255, 1);\n  --xr-font-color2: rgba(255, 255, 255, 0.54);\n  --xr-font-color3: rgba(255, 255, 255, 0.38);\n  --xr-border-color: #1F1F1F;\n  --xr-disabled-color: #515151;\n  --xr-background-color: #111111;\n  --xr-background-color-row-even: #111111;\n  --xr-background-color-row-odd: #313131;\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 20px 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: none;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: '►';\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: '▼';\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: '(';\n}\n\n.xr-dim-list:after {\n  content: ')';\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: ',';\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  margin-bottom: 0;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  background-color: var(--xr-background-color) !important;\n  padding-bottom: 5px !important;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;B08&#x27; (time: 7, lat: 1536, lon: 2560)&gt;\ndask.array&lt;open_dataset-B08, shape=(7, 1536, 2560), dtype=float32, chunksize=(1, 512, 512), chunktype=numpy.ndarray&gt;\nCoordinates:\n  * lat      (lat) float64 54.55 54.55 54.55 54.55 ... 54.27 54.27 54.27 54.27\n  * lon      (lon) float64 10.0 10.0 10.0 10.0 10.0 ... 10.46 10.46 10.46 10.46\n  * time     (time) datetime64[ns] 2018-05-31T12:00:00 ... 2018-06-30T12:00:00\nAttributes:\n    sample_type:   FLOAT32\n    units:         reflectance\n    wavelength:    832.85\n    wavelength_a:  832.8\n    wavelength_b:  832.9\n    bandwidth:     106.0\n    bandwidth_a:   106\n    bandwidth_b:   106\n    resolution:    10</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'B08'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 7</li><li><span class='xr-has-index'>lat</span>: 1536</li><li><span class='xr-has-index'>lon</span>: 2560</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-b1a9e504-b548-4d19-83e9-51e880363537' class='xr-array-in' type='checkbox' checked><label for='section-b1a9e504-b548-4d19-83e9-51e880363537' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>dask.array&lt;chunksize=(1, 512, 512), meta=np.ndarray&gt;</span></div><div class='xr-array-data'><table>\n    <tr>\n        <td>\n            <table style=\"border-collapse: collapse;\">\n                <thead>\n                    <tr>\n                        <td> </td>\n                        <th> Array </th>\n                        <th> Chunk </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    \n                    <tr>\n                        <th> Bytes </th>\n                        <td> 105.00 MiB </td>\n                        <td> 1.00 MiB </td>\n                    </tr>\n                    \n                    <tr>\n                        <th> Shape </th>\n                        <td> (7, 1536, 2560) </td>\n                        <td> (1, 512, 512) </td>\n                    </tr>\n                    <tr>\n                        <th> Dask graph </th>\n                        <td colspan=\"2\"> 105 chunks in 2 graph layers </td>\n                    </tr>\n                    <tr>\n                        <th> Data type </th>\n                        <td colspan=\"2\"> float32 numpy.ndarray </td>\n                    </tr>\n                </tbody>\n            </table>\n        </td>\n        <td>\n        <svg width=\"194\" height=\"136\" style=\"stroke:rgb(0,0,0);stroke-width:1\" >\n\n  <!-- Horizontal lines -->\n  <line x1=\"10\" y1=\"0\" x2=\"24\" y2=\"14\" style=\"stroke-width:2\" />\n  <line x1=\"10\" y1=\"24\" x2=\"24\" y2=\"38\" />\n  <line x1=\"10\" y1=\"48\" x2=\"24\" y2=\"62\" />\n  <line x1=\"10\" y1=\"72\" x2=\"24\" y2=\"86\" style=\"stroke-width:2\" />\n\n  <!-- Vertical lines -->\n  <line x1=\"10\" y1=\"0\" x2=\"10\" y2=\"72\" style=\"stroke-width:2\" />\n  <line x1=\"12\" y1=\"2\" x2=\"12\" y2=\"74\" />\n  <line x1=\"14\" y1=\"4\" x2=\"14\" y2=\"76\" />\n  <line x1=\"16\" y1=\"6\" x2=\"16\" y2=\"78\" />\n  <line x1=\"18\" y1=\"8\" x2=\"18\" y2=\"80\" />\n  <line x1=\"20\" y1=\"10\" x2=\"20\" y2=\"82\" />\n  <line x1=\"22\" y1=\"12\" x2=\"22\" y2=\"84\" />\n  <line x1=\"24\" y1=\"14\" x2=\"24\" y2=\"86\" style=\"stroke-width:2\" />\n\n  <!-- Colored Rectangle -->\n  <polygon points=\"10.0,0.0 24.9485979497544,14.948597949754403 24.9485979497544,86.9485979497544 10.0,72.0\" style=\"fill:#ECB172A0;stroke-width:0\"/>\n\n  <!-- Horizontal lines -->\n  <line x1=\"10\" y1=\"0\" x2=\"130\" y2=\"0\" style=\"stroke-width:2\" />\n  <line x1=\"12\" y1=\"2\" x2=\"132\" y2=\"2\" />\n  <line x1=\"14\" y1=\"4\" x2=\"134\" y2=\"4\" />\n  <line x1=\"16\" y1=\"6\" x2=\"136\" y2=\"6\" />\n  <line x1=\"18\" y1=\"8\" x2=\"138\" y2=\"8\" />\n  <line x1=\"20\" y1=\"10\" x2=\"140\" y2=\"10\" />\n  <line x1=\"22\" y1=\"12\" x2=\"142\" y2=\"12\" />\n  <line x1=\"24\" y1=\"14\" x2=\"144\" y2=\"14\" style=\"stroke-width:2\" />\n\n  <!-- Vertical lines -->\n  <line x1=\"10\" y1=\"0\" x2=\"24\" y2=\"14\" style=\"stroke-width:2\" />\n  <line x1=\"34\" y1=\"0\" x2=\"48\" y2=\"14\" />\n  <line x1=\"58\" y1=\"0\" x2=\"72\" y2=\"14\" />\n  <line x1=\"82\" y1=\"0\" x2=\"96\" y2=\"14\" />\n  <line x1=\"106\" y1=\"0\" x2=\"120\" y2=\"14\" />\n  <line x1=\"130\" y1=\"0\" x2=\"144\" y2=\"14\" style=\"stroke-width:2\" />\n\n  <!-- Colored Rectangle -->\n  <polygon points=\"10.0,0.0 130.0,0.0 144.9485979497544,14.948597949754403 24.9485979497544,14.948597949754403\" style=\"fill:#ECB172A0;stroke-width:0\"/>\n\n  <!-- Horizontal lines -->\n  <line x1=\"24\" y1=\"14\" x2=\"144\" y2=\"14\" style=\"stroke-width:2\" />\n  <line x1=\"24\" y1=\"38\" x2=\"144\" y2=\"38\" />\n  <line x1=\"24\" y1=\"62\" x2=\"144\" y2=\"62\" />\n  <line x1=\"24\" y1=\"86\" x2=\"144\" y2=\"86\" style=\"stroke-width:2\" />\n\n  <!-- Vertical lines -->\n  <line x1=\"24\" y1=\"14\" x2=\"24\" y2=\"86\" style=\"stroke-width:2\" />\n  <line x1=\"48\" y1=\"14\" x2=\"48\" y2=\"86\" />\n  <line x1=\"72\" y1=\"14\" x2=\"72\" y2=\"86\" />\n  <line x1=\"96\" y1=\"14\" x2=\"96\" y2=\"86\" />\n  <line x1=\"120\" y1=\"14\" x2=\"120\" y2=\"86\" />\n  <line x1=\"144\" y1=\"14\" x2=\"144\" y2=\"86\" style=\"stroke-width:2\" />\n\n  <!-- Colored Rectangle -->\n  <polygon points=\"24.9485979497544,14.948597949754403 144.9485979497544,14.948597949754403 144.9485979497544,86.9485979497544 24.9485979497544,86.9485979497544\" style=\"fill:#ECB172A0;stroke-width:0\"/>\n\n  <!-- Text -->\n  <text x=\"84.948598\" y=\"106.948598\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" >2560</text>\n  <text x=\"164.948598\" y=\"50.948598\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" transform=\"rotate(-90,164.948598,50.948598)\">1536</text>\n  <text x=\"7.474299\" y=\"99.474299\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" transform=\"rotate(45,7.474299,99.474299)\">7</text>\n</svg>\n        </td>\n    </tr>\n</table></div></div></li><li class='xr-section-item'><input id='section-b4f9dd0b-bfce-4019-9088-2cb83bdf3dc8' class='xr-section-summary-in' type='checkbox'  checked><label for='section-b4f9dd0b-bfce-4019-9088-2cb83bdf3dc8' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>lat</span></div><div class='xr-var-dims'>(lat)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>54.55 54.55 54.55 ... 54.27 54.27</div><input id='attrs-7d6f3cec-c88c-41eb-b7da-ea814eb90062' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-7d6f3cec-c88c-41eb-b7da-ea814eb90062' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-84d6e8a6-7764-44eb-b70c-ea32a2c986ff' class='xr-var-data-in' type='checkbox'><label for='data-84d6e8a6-7764-44eb-b70c-ea32a2c986ff' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>decimal_degrees</dd><dt><span>long_name :</span></dt><dd>latitude</dd><dt><span>standard_name :</span></dt><dd>latitude</dd></dl></div><div class='xr-var-data'><pre>array([54.54639, 54.54621, 54.54603, ..., 54.27045, 54.27027, 54.27009])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>lon</span></div><div class='xr-var-dims'>(lon)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>10.0 10.0 10.0 ... 10.46 10.46</div><input id='attrs-73b4c000-2989-409f-b770-2dd6f78644de' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-73b4c000-2989-409f-b770-2dd6f78644de' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-1a4c1f99-1803-4c0a-8c31-d0ebc1775256' class='xr-var-data-in' type='checkbox'><label for='data-1a4c1f99-1803-4c0a-8c31-d0ebc1775256' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>decimal_degrees</dd><dt><span>long_name :</span></dt><dd>longitude</dd><dt><span>standard_name :</span></dt><dd>longitude</dd></dl></div><div class='xr-var-data'><pre>array([10.00009, 10.00027, 10.00045, ..., 10.46035, 10.46053, 10.46071])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2018-05-31T12:00:00 ... 2018-06-...</div><input id='attrs-e136e6e9-3004-4909-b95b-0459751ad735' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-e136e6e9-3004-4909-b95b-0459751ad735' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-cbb25957-9a02-47d8-8aeb-1450d5bb4bdf' class='xr-var-data-in' type='checkbox'><label for='data-cbb25957-9a02-47d8-8aeb-1450d5bb4bdf' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>time</dd><dt><span>bounds :</span></dt><dd>time_bnds</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;2018-05-31T12:00:00.000000000&#x27;, &#x27;2018-06-05T12:00:00.000000000&#x27;,\n       &#x27;2018-06-10T12:00:00.000000000&#x27;, &#x27;2018-06-15T12:00:00.000000000&#x27;,\n       &#x27;2018-06-20T12:00:00.000000000&#x27;, &#x27;2018-06-25T12:00:00.000000000&#x27;,\n       &#x27;2018-06-30T12:00:00.000000000&#x27;], dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-fea67543-2c97-4f18-8ee5-a51aa5d021fb' class='xr-section-summary-in' type='checkbox'  ><label for='section-fea67543-2c97-4f18-8ee5-a51aa5d021fb' class='xr-section-summary' >Indexes: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>lat</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-2d4442f2-6a8f-4f9e-9b42-c7ba75f75731' class='xr-index-data-in' type='checkbox'/><label for='index-2d4442f2-6a8f-4f9e-9b42-c7ba75f75731' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Float64Index([          54.54639,           54.54621,           54.54603,\n                        54.54585,           54.54567,           54.54549,\n                        54.54531,           54.54513,           54.54495,\n                        54.54477,\n              ...\n              54.271710000000006, 54.271530000000006, 54.271350000000005,\n              54.271170000000005, 54.270990000000005, 54.270810000000004,\n              54.270630000000004, 54.270450000000004, 54.270270000000004,\n                        54.27009],\n             dtype=&#x27;float64&#x27;, name=&#x27;lat&#x27;, length=1536))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>lon</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-4903729b-5980-46b9-a7c5-8e5046167812' class='xr-index-data-in' type='checkbox'/><label for='index-4903729b-5980-46b9-a7c5-8e5046167812' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Float64Index([          10.00009,           10.00027,           10.00045,\n              10.000630000000001,           10.00081,           10.00099,\n                        10.00117,           10.00135,           10.00153,\n              10.001710000000001,\n              ...\n                        10.45909,           10.45927,           10.45945,\n                        10.45963, 10.459810000000001, 10.459990000000001,\n                        10.46017,           10.46035,           10.46053,\n                        10.46071],\n             dtype=&#x27;float64&#x27;, name=&#x27;lon&#x27;, length=2560))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-7ccd8d67-367c-44a5-af64-d6a1732a7cde' class='xr-index-data-in' type='checkbox'/><label for='index-7ccd8d67-367c-44a5-af64-d6a1732a7cde' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;2018-05-31 12:00:00&#x27;, &#x27;2018-06-05 12:00:00&#x27;,\n               &#x27;2018-06-10 12:00:00&#x27;, &#x27;2018-06-15 12:00:00&#x27;,\n               &#x27;2018-06-20 12:00:00&#x27;, &#x27;2018-06-25 12:00:00&#x27;,\n               &#x27;2018-06-30 12:00:00&#x27;],\n              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;time&#x27;, freq=None))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-93152620-332b-45dd-b1d1-c18a58f4b7f9' class='xr-section-summary-in' type='checkbox'  checked><label for='section-93152620-332b-45dd-b1d1-c18a58f4b7f9' class='xr-section-summary' >Attributes: <span>(9)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>sample_type :</span></dt><dd>FLOAT32</dd><dt><span>units :</span></dt><dd>reflectance</dd><dt><span>wavelength :</span></dt><dd>832.85</dd><dt><span>wavelength_a :</span></dt><dd>832.8</dd><dt><span>wavelength_b :</span></dt><dd>832.9</dd><dt><span>bandwidth :</span></dt><dd>106.0</dd><dt><span>bandwidth_a :</span></dt><dd>106</dd><dt><span>bandwidth_b :</span></dt><dd>106</dd><dt><span>resolution :</span></dt><dd>10</dd></dl></div></li></ul></div></div>","content_type":"text/html"},"text/plain":{"content":"<xarray.DataArray 'B08' (time: 7, lat: 1536, lon: 2560)>\ndask.array<open_dataset-B08, shape=(7, 1536, 2560), dtype=float32, chunksize=(1, 512, 512), chunktype=numpy.ndarray>\nCoordinates:\n  * lat      (lat) float64 54.55 54.55 54.55 54.55 ... 54.27 54.27 54.27 54.27\n  * lon      (lon) float64 10.0 10.0 10.0 10.0 10.0 ... 10.46 10.46 10.46 10.46\n  * time     (time) datetime64[ns] 2018-05-31T12:00:00 ... 2018-06-30T12:00:00\nAttributes:\n    sample_type:   FLOAT32\n    units:         reflectance\n    wavelength:    832.85\n    wavelength_a:  832.8\n    wavelength_b:  832.9\n    bandwidth:     106.0\n    bandwidth_a:   106\n    bandwidth_b:   106\n    resolution:    10","content_type":"text/plain"}}}],"visibility":"show","key":"SUUQ0Fvp5X"}],"visibility":"show","key":"aSLpl5CRR4"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.056235,"end_time":"2023-10-24T07:55:48.882655","exception":false,"start_time":"2023-10-24T07:55:48.826420","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Displaying values for each time step in the time serie (band 04)","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"McRDnfulPq"}],"identifier":"displaying-values-for-each-time-step-in-the-time-serie-band-04","label":"Displaying values for each time step in the time serie (band 04)","html_id":"displaying-values-for-each-time-step-in-the-time-serie-band-04","implicit":true,"key":"yrb3iukrSB"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Once the cube is built and time serie generated, we can display the spectral values for each time step of the serie.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"uqoyxiljG7"}],"key":"v1U7PVM3Ij"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"For this example we’ll select a point at latitude=54.40, longitude=10.1 inside our area of interest (or geographical extent of the cube).","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"wxPDDQooCc"}],"key":"lD6A40plry"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"In this case, the nearest-neighbor interpolation methods is used by xcube. Nearest neighbour interpolation is the simplest approach to interpolation. This method simply determines the “nearest” neighbouring pixel, and assumes the intensity value of it.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"St4Y4a0HLM"}],"key":"DxEH54T3ig"}],"visibility":"show","key":"vPbvwB21ld"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:55:48.988706Z","iopub.status.busy":"2023-10-24T07:55:48.988430Z","iopub.status.idle":"2023-10-24T07:55:55.043168Z","shell.execute_reply":"2023-10-24T07:55:55.042536Z"},"papermill":{"duration":6.101596,"end_time":"2023-10-24T07:55:55.044323","exception":false,"start_time":"2023-10-24T07:55:48.942727","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"timeseriesB04 = cube.B04.sel(lat=54.40, lon=10.1, method='nearest').to_series()\ntimeseriesB04","visibility":"show","key":"n5LpDHxryI"},{"type":"output","id":"voF_Rbc8mwgeqAOS-4nX6","data":[{"output_type":"execute_result","execution_count":14,"metadata":{},"data":{"text/plain":{"content":"time\n2018-05-31 12:00:00    0.0474\n2018-06-05 12:00:00    0.0335\n2018-06-10 12:00:00    0.1854\n2018-06-15 12:00:00    0.9370\n2018-06-20 12:00:00    0.0423\n2018-06-25 12:00:00    0.0264\n2018-06-30 12:00:00    0.0273\nName: B04, dtype: float32","content_type":"text/plain"}}}],"visibility":"show","key":"yUYuB1BkL4"}],"visibility":"show","key":"cwsymsGAiJ"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.040101,"end_time":"2023-10-24T07:55:55.151365","exception":false,"start_time":"2023-10-24T07:55:55.111264","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Displaying values for each time step in the time serie in a linear plot (band 04)","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"LLoWTN9jBu"}],"identifier":"displaying-values-for-each-time-step-in-the-time-serie-in-a-linear-plot-band-04","label":"Displaying values for each time step in the time serie in a linear plot (band 04)","html_id":"displaying-values-for-each-time-step-in-the-time-serie-in-a-linear-plot-band-04","implicit":true,"key":"ossLL8ofLl"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Once the maplot library is imported, the same spectral values for each step of the time serie can be displayed also in a linear chart.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"b7Jh7FBgzy"}],"key":"Lzlrfjjd3T"}],"visibility":"show","key":"xzMXQzF60v"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:55:55.259996Z","iopub.status.busy":"2023-10-24T07:55:55.259588Z","iopub.status.idle":"2023-10-24T07:55:55.445330Z","shell.execute_reply":"2023-10-24T07:55:55.444715Z"},"papermill":{"duration":0.23651,"end_time":"2023-10-24T07:55:55.446685","exception":false,"start_time":"2023-10-24T07:55:55.210175","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"plt.plot(timeseriesB04)\nplt.xticks(rotation='vertical')\nplt.figsize=(15, 6)\nplt.show()","visibility":"show","key":"HvzpcvDaj6"},{"type":"output","id":"sS1t9w7ducNOu2pE6gF9A","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"93310e90282db3a99533461e4d584e40","path":"/notebooks_test/build/93310e90282db3a99533461e4d584e40.png"},"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"}}}],"visibility":"show","key":"SMzHjPdIs0"}],"visibility":"show","key":"KHRHqkA9EX"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.037957,"end_time":"2023-10-24T07:55:55.537175","exception":false,"start_time":"2023-10-24T07:55:55.499218","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The time serie can be plotted in a similar manner also for the band 08:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zCTKxQ8Bx3"}],"key":"Seu0oZJfW7"}],"visibility":"show","key":"QznIwFZ9gG"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:55:55.630292Z","iopub.status.busy":"2023-10-24T07:55:55.629918Z","iopub.status.idle":"2023-10-24T07:55:58.719582Z","shell.execute_reply":"2023-10-24T07:55:58.718991Z"},"papermill":{"duration":3.131743,"end_time":"2023-10-24T07:55:58.720648","exception":false,"start_time":"2023-10-24T07:55:55.588905","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"timeseriesB08 = cube.B08.sel(lat=54.40, lon=10.1, method='nearest').to_series()\ntimeseriesB08","visibility":"show","key":"GX0DnTzHZd"},{"type":"output","id":"oHOqqTSo_Fqc3djgbLP34","data":[{"output_type":"execute_result","execution_count":16,"metadata":{},"data":{"text/plain":{"content":"time\n2018-05-31 12:00:00    0.3685\n2018-06-05 12:00:00    0.4162\n2018-06-10 12:00:00    0.4167\n2018-06-15 12:00:00    1.0302\n2018-06-20 12:00:00    0.2234\n2018-06-25 12:00:00    0.4174\n2018-06-30 12:00:00    0.4007\nName: B08, dtype: float32","content_type":"text/plain"}}}],"visibility":"show","key":"Z9kj0hCqFN"}],"visibility":"show","key":"K6IEODLt6M"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:55:58.817827Z","iopub.status.busy":"2023-10-24T07:55:58.817394Z","iopub.status.idle":"2023-10-24T07:55:59.028506Z","shell.execute_reply":"2023-10-24T07:55:59.028118Z"},"papermill":{"duration":0.252298,"end_time":"2023-10-24T07:55:59.029620","exception":false,"start_time":"2023-10-24T07:55:58.777322","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"plt.plot(timeseriesB08)\nplt.xticks(rotation='vertical')\nplt.figsize=(15, 6)\nplt.show()","visibility":"show","key":"sDosdCDfcw"},{"type":"output","id":"hzMlOizr5sFkjQnlccqw4","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"9e34a845d3facc8611b01ce95a7145f7","path":"/notebooks_test/build/9e34a845d3facc8611b01ce95a7145f7.png"},"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"}}}],"visibility":"show","key":"cQHib2Hu8H"}],"visibility":"show","key":"nXWT0Rq9WF"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.048453,"end_time":"2023-10-24T07:55:59.141348","exception":false,"start_time":"2023-10-24T07:55:59.092895","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Displaing cube data for selected band and time step as imageries","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nINQsU1QB0"}],"identifier":"displaing-cube-data-for-selected-band-and-time-step-as-imageries","label":"Displaing cube data for selected band and time step as imageries","html_id":"displaing-cube-data-for-selected-band-and-time-step-as-imageries","implicit":true,"key":"Awj6XYWL7F"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"We can also display the data for any combination of selected spectral band and time step of the times serie contained in the cube as an imagery. We may need this to check the data visually, over entire area of interest (geographical extent of the cube).\nFor example we’ll select the time step 21.5.2018 and display the data as image for both spectral bands contianed in the cube (B04 RED and B08 NIR).","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"UPYJomaq71"}],"key":"fepwdtN1Xm"}],"visibility":"show","key":"FaxaSt8Zx9"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:55:59.254008Z","iopub.status.busy":"2023-10-24T07:55:59.253726Z","iopub.status.idle":"2023-10-24T07:56:08.895754Z","shell.execute_reply":"2023-10-24T07:56:08.895017Z"},"papermill":{"duration":9.696673,"end_time":"2023-10-24T07:56:08.902987","exception":false,"start_time":"2023-10-24T07:55:59.206314","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"cube.B04.sel(time='2018-05-21 10:00:00', method='nearest').plot.imshow(vmin=0.0, vmax=0.2, cmap='gray', figsize=(16, 10))","visibility":"show","key":"ktanUgByOu"},{"type":"output","id":"QJNRCGxjv3FA7Yr_DcfJG","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"5af3afad3b7de80c51a29e984213adab","path":"/notebooks_test/build/5af3afad3b7de80c51a29e984213adab.png"},"text/plain":{"content":"<Figure size 1600x1000 with 2 Axes>","content_type":"text/plain"}}}],"visibility":"show","key":"HiBHNEQojZ"}],"visibility":"show","key":"pRvcqzK0nC"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:56:09.083160Z","iopub.status.busy":"2023-10-24T07:56:09.082741Z","iopub.status.idle":"2023-10-24T07:56:18.650897Z","shell.execute_reply":"2023-10-24T07:56:18.650288Z"},"papermill":{"duration":9.646895,"end_time":"2023-10-24T07:56:18.655708","exception":false,"start_time":"2023-10-24T07:56:09.008813","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"cube.B08.sel(time='2018-05-21 10:00:00', method='nearest').plot.imshow(vmin=0.2, vmax=0.6, cmap='gray', figsize=(16, 10))","visibility":"show","key":"lG02KJvxnD"},{"type":"output","id":"_V_QSGOQJxznSHpSPhp_U","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"be81b7f759446e702ce7e6e601713462","path":"/notebooks_test/build/be81b7f759446e702ce7e6e601713462.png"},"text/plain":{"content":"<Figure size 1600x1000 with 2 Axes>","content_type":"text/plain"}}}],"visibility":"show","key":"S3y3jwmRfn"}],"visibility":"show","key":"f8zY7u68TR"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.097505,"end_time":"2023-10-24T07:56:18.867568","exception":false,"start_time":"2023-10-24T07:56:18.770063","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Displaing statistics for SentinelHub request","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kCTRwP1qAb"}],"identifier":"displaing-statistics-for-sentinelhub-request","label":"Displaing statistics for SentinelHub request","html_id":"displaing-statistics-for-sentinelhub-request","implicit":true,"key":"XByroHDXQ8"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Now SentinelHub data requests have been made. We can easilly display statistics on this request.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"E6X7uf2zDn"}],"key":"vdbyonDuaY"}],"visibility":"show","key":"ricvUgcr4a"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:56:19.077209Z","iopub.status.busy":"2023-10-24T07:56:19.076568Z","iopub.status.idle":"2023-10-24T07:56:19.080826Z","shell.execute_reply":"2023-10-24T07:56:19.080306Z"},"papermill":{"duration":0.106354,"end_time":"2023-10-24T07:56:19.081954","exception":false,"start_time":"2023-10-24T07:56:18.975600","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"request_collector.stats","visibility":"show","key":"W4mvGbMfhm"},{"type":"output","id":"9x_kQE7VnnoQVGfkAXTNZ","data":[{"output_type":"execute_result","execution_count":20,"metadata":{},"data":{"text/html":{"content":"<html><table><tr><td>Number of requests:</td><td>42</td></tr><tr><td>Request duration min:</td><td>307.69 ms</td></tr><tr><td>Request duration max:</td><td>3463.46 ms</td></tr><tr><td>Request duration median:</td><td>492.37 ms</td></tr><tr><td>Request duration mean:</td><td>635.06 ms</td></tr><tr><td>Request duration std:</td><td>491.01 ms</td></tr></table></html>","content_type":"text/html"},"text/plain":{"content":"<xcube_sh.observers._RequestStats at 0x7ff3d770d850>","content_type":"text/plain"}}}],"visibility":"show","key":"cWDRQy6XKf"}],"visibility":"show","key":"AHourO6FeW"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.095372,"end_time":"2023-10-24T07:56:19.292017","exception":false,"start_time":"2023-10-24T07:56:19.196645","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Preparing values for new NDVI layer","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DsWi9jv6r1"}],"identifier":"preparing-values-for-new-ndvi-layer","label":"Preparing values for new NDVI layer","html_id":"preparing-values-for-new-ndvi-layer","implicit":true,"key":"TXdVlYOsYG"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Now we will prepare values for the new NDVI layer, based on combination of the bands already contained in our cube.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"cO0RNX4jte"}],"key":"s1EUrefMYa"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"We are going to compute NDVI indexes from bands B04 and B08 of Sentinel-2 (S2L2A), using following well-know prescription:","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"KinpG5eGo0"}],"key":"AIkUUMqGmD"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Normalized Difference Vegetation Index (NDVI) = (NIR-RED)/(NIR+RED). In our case, Sentinel-2 bandwise speaking, NDVI = (B08-B04)/(B08+B04).","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"sQwPIjsh1B"}],"key":"zdHJoXTFD6"}],"visibility":"show","key":"d181XTevtP"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:56:19.494080Z","iopub.status.busy":"2023-10-24T07:56:19.493586Z","iopub.status.idle":"2023-10-24T07:56:19.506218Z","shell.execute_reply":"2023-10-24T07:56:19.505652Z"},"papermill":{"duration":0.108236,"end_time":"2023-10-24T07:56:19.507356","exception":false,"start_time":"2023-10-24T07:56:19.399120","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"ndvi=(cube.B08-cube.B04)/(cube.B04+cube.B08)","visibility":"show","key":"l1gupGnTFe"},{"type":"output","id":"Cth7CQelTu7nB_cQWoe7r","data":[],"visibility":"show","key":"iE16RKy5CC"}],"visibility":"show","key":"xpNotEGRb7"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.091724,"end_time":"2023-10-24T07:56:19.719607","exception":false,"start_time":"2023-10-24T07:56:19.627883","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Specifying properties of new NDVI layer","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"S67bvHhnY0"}],"identifier":"specifying-properties-of-new-ndvi-layer","label":"Specifying properties of new NDVI layer","html_id":"specifying-properties-of-new-ndvi-layer","implicit":true,"key":"uDOG6pLhlX"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We can also specify some properties of the new NDVI layer, which should be added into our cube - in this case, we set the “long name” and units of the layer.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"SqLmIRvWf2"}],"key":"AyHaZGCm5g"}],"visibility":"show","key":"n51wpHTMV7"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:56:19.937391Z","iopub.status.busy":"2023-10-24T07:56:19.937129Z","iopub.status.idle":"2023-10-24T07:56:19.940192Z","shell.execute_reply":"2023-10-24T07:56:19.939614Z"},"papermill":{"duration":0.110976,"end_time":"2023-10-24T07:56:19.941425","exception":false,"start_time":"2023-10-24T07:56:19.830449","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"ndvi.attrs['long_name']='Normalized Difference Vegetation Index'\nndvi.attrs['units']='unitless'","visibility":"show","key":"lcKIi3BHgv"},{"type":"output","id":"HCT7EK0m0lqg6vw-XwBo2","data":[],"visibility":"show","key":"K4a4dgooVZ"}],"visibility":"show","key":"C0YWzOrrxc"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.09555,"end_time":"2023-10-24T07:56:20.152255","exception":false,"start_time":"2023-10-24T07:56:20.056705","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Adding a new NDVI layer to cube","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PmFh5EYA6W"}],"identifier":"adding-a-new-ndvi-layer-to-cube","label":"Adding a new NDVI layer to cube","html_id":"adding-a-new-ndvi-layer-to-cube","implicit":true,"key":"SdE3sZNUMY"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Now the values are calculated and the properties specified, we can easilly add the new NDVI layer into our cube.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Glssy6zoY8"}],"key":"WhNtWlxNjP"}],"visibility":"show","key":"XcpDWH8O3a"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:56:20.350844Z","iopub.status.busy":"2023-10-24T07:56:20.350588Z","iopub.status.idle":"2023-10-24T07:56:20.354825Z","shell.execute_reply":"2023-10-24T07:56:20.354425Z"},"papermill":{"duration":0.097508,"end_time":"2023-10-24T07:56:20.355882","exception":false,"start_time":"2023-10-24T07:56:20.258374","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"cube['NDVI']=ndvi","visibility":"show","key":"CfusePvJZE"},{"type":"output","id":"TT4YqbORYSp4rGpVvQaA1","data":[],"visibility":"show","key":"EK52ige6zz"}],"visibility":"show","key":"k1zs160C2U"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.096339,"end_time":"2023-10-24T07:56:20.556477","exception":false,"start_time":"2023-10-24T07:56:20.460138","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Displaying information for NDVI layer","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MPIV0CHfXt"}],"identifier":"displaying-information-for-ndvi-layer","label":"Displaying information for NDVI layer","html_id":"displaying-information-for-ndvi-layer","implicit":true,"key":"ZztOd4ahmN"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Again, as in case of original bands 04 and 08, we can ceck the properties of the NDVI layer.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"cu7OG7kOCN"}],"key":"AcuCYuupw7"}],"visibility":"show","key":"e5H8mIETY1"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:56:20.761871Z","iopub.status.busy":"2023-10-24T07:56:20.761595Z","iopub.status.idle":"2023-10-24T07:56:20.773525Z","shell.execute_reply":"2023-10-24T07:56:20.773022Z"},"papermill":{"duration":0.110874,"end_time":"2023-10-24T07:56:20.775131","exception":false,"start_time":"2023-10-24T07:56:20.664257","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"cube.NDVI","visibility":"show","key":"RiGiqMH2aY"},{"type":"output","id":"fdRTBvJjy7E0PkPNiQ7ya","data":[{"output_type":"execute_result","execution_count":24,"metadata":{},"data":{"text/html":{"content":"<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));\n  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));\n  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));\n  --xr-border-color: var(--jp-border-color2, #e0e0e0);\n  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);\n  --xr-background-color: var(--jp-layout-color0, white);\n  --xr-background-color-row-even: var(--jp-layout-color1, white);\n  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);\n}\n\nhtml[theme=dark],\nbody[data-theme=dark],\nbody.vscode-dark {\n  --xr-font-color0: rgba(255, 255, 255, 1);\n  --xr-font-color2: rgba(255, 255, 255, 0.54);\n  --xr-font-color3: rgba(255, 255, 255, 0.38);\n  --xr-border-color: #1F1F1F;\n  --xr-disabled-color: #515151;\n  --xr-background-color: #111111;\n  --xr-background-color-row-even: #111111;\n  --xr-background-color-row-odd: #313131;\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 20px 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: none;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: '►';\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: '▼';\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: '(';\n}\n\n.xr-dim-list:after {\n  content: ')';\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: ',';\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  margin-bottom: 0;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  background-color: var(--xr-background-color) !important;\n  padding-bottom: 5px !important;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;NDVI&#x27; (time: 7, lat: 1536, lon: 2560)&gt;\ndask.array&lt;truediv, shape=(7, 1536, 2560), dtype=float32, chunksize=(1, 512, 512), chunktype=numpy.ndarray&gt;\nCoordinates:\n  * lat      (lat) float64 54.55 54.55 54.55 54.55 ... 54.27 54.27 54.27 54.27\n  * lon      (lon) float64 10.0 10.0 10.0 10.0 10.0 ... 10.46 10.46 10.46 10.46\n  * time     (time) datetime64[ns] 2018-05-31T12:00:00 ... 2018-06-30T12:00:00\nAttributes:\n    long_name:  Normalized Difference Vegetation Index\n    units:      unitless</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'NDVI'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 7</li><li><span class='xr-has-index'>lat</span>: 1536</li><li><span class='xr-has-index'>lon</span>: 2560</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-df228f9c-689a-46e6-9d15-c8c5620a2ad2' class='xr-array-in' type='checkbox' checked><label for='section-df228f9c-689a-46e6-9d15-c8c5620a2ad2' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>dask.array&lt;chunksize=(1, 512, 512), meta=np.ndarray&gt;</span></div><div class='xr-array-data'><table>\n    <tr>\n        <td>\n            <table style=\"border-collapse: collapse;\">\n                <thead>\n                    <tr>\n                        <td> </td>\n                        <th> Array </th>\n                        <th> Chunk </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    \n                    <tr>\n                        <th> Bytes </th>\n                        <td> 105.00 MiB </td>\n                        <td> 1.00 MiB </td>\n                    </tr>\n                    \n                    <tr>\n                        <th> Shape </th>\n                        <td> (7, 1536, 2560) </td>\n                        <td> (1, 512, 512) </td>\n                    </tr>\n                    <tr>\n                        <th> Dask graph </th>\n                        <td colspan=\"2\"> 105 chunks in 7 graph layers </td>\n                    </tr>\n                    <tr>\n                        <th> Data type </th>\n                        <td colspan=\"2\"> float32 numpy.ndarray </td>\n                    </tr>\n                </tbody>\n            </table>\n        </td>\n        <td>\n        <svg width=\"194\" height=\"136\" style=\"stroke:rgb(0,0,0);stroke-width:1\" >\n\n  <!-- Horizontal lines -->\n  <line x1=\"10\" y1=\"0\" x2=\"24\" y2=\"14\" style=\"stroke-width:2\" />\n  <line x1=\"10\" y1=\"24\" x2=\"24\" y2=\"38\" />\n  <line x1=\"10\" y1=\"48\" x2=\"24\" y2=\"62\" />\n  <line x1=\"10\" y1=\"72\" x2=\"24\" y2=\"86\" style=\"stroke-width:2\" />\n\n  <!-- Vertical lines -->\n  <line x1=\"10\" y1=\"0\" x2=\"10\" y2=\"72\" style=\"stroke-width:2\" />\n  <line x1=\"12\" y1=\"2\" x2=\"12\" y2=\"74\" />\n  <line x1=\"14\" y1=\"4\" x2=\"14\" y2=\"76\" />\n  <line x1=\"16\" y1=\"6\" x2=\"16\" y2=\"78\" />\n  <line x1=\"18\" y1=\"8\" x2=\"18\" y2=\"80\" />\n  <line x1=\"20\" y1=\"10\" x2=\"20\" y2=\"82\" />\n  <line x1=\"22\" y1=\"12\" x2=\"22\" y2=\"84\" />\n  <line x1=\"24\" y1=\"14\" x2=\"24\" y2=\"86\" style=\"stroke-width:2\" />\n\n  <!-- Colored Rectangle -->\n  <polygon points=\"10.0,0.0 24.9485979497544,14.948597949754403 24.9485979497544,86.9485979497544 10.0,72.0\" style=\"fill:#ECB172A0;stroke-width:0\"/>\n\n  <!-- Horizontal lines -->\n  <line x1=\"10\" y1=\"0\" x2=\"130\" y2=\"0\" style=\"stroke-width:2\" />\n  <line x1=\"12\" y1=\"2\" x2=\"132\" y2=\"2\" />\n  <line x1=\"14\" y1=\"4\" x2=\"134\" y2=\"4\" />\n  <line x1=\"16\" y1=\"6\" x2=\"136\" y2=\"6\" />\n  <line x1=\"18\" y1=\"8\" x2=\"138\" y2=\"8\" />\n  <line x1=\"20\" y1=\"10\" x2=\"140\" y2=\"10\" />\n  <line x1=\"22\" y1=\"12\" x2=\"142\" y2=\"12\" />\n  <line x1=\"24\" y1=\"14\" x2=\"144\" y2=\"14\" style=\"stroke-width:2\" />\n\n  <!-- Vertical lines -->\n  <line x1=\"10\" y1=\"0\" x2=\"24\" y2=\"14\" style=\"stroke-width:2\" />\n  <line x1=\"34\" y1=\"0\" x2=\"48\" y2=\"14\" />\n  <line x1=\"58\" y1=\"0\" x2=\"72\" y2=\"14\" />\n  <line x1=\"82\" y1=\"0\" x2=\"96\" y2=\"14\" />\n  <line x1=\"106\" y1=\"0\" x2=\"120\" y2=\"14\" />\n  <line x1=\"130\" y1=\"0\" x2=\"144\" y2=\"14\" style=\"stroke-width:2\" />\n\n  <!-- Colored Rectangle -->\n  <polygon points=\"10.0,0.0 130.0,0.0 144.9485979497544,14.948597949754403 24.9485979497544,14.948597949754403\" style=\"fill:#ECB172A0;stroke-width:0\"/>\n\n  <!-- Horizontal lines -->\n  <line x1=\"24\" y1=\"14\" x2=\"144\" y2=\"14\" style=\"stroke-width:2\" />\n  <line x1=\"24\" y1=\"38\" x2=\"144\" y2=\"38\" />\n  <line x1=\"24\" y1=\"62\" x2=\"144\" y2=\"62\" />\n  <line x1=\"24\" y1=\"86\" x2=\"144\" y2=\"86\" style=\"stroke-width:2\" />\n\n  <!-- Vertical lines -->\n  <line x1=\"24\" y1=\"14\" x2=\"24\" y2=\"86\" style=\"stroke-width:2\" />\n  <line x1=\"48\" y1=\"14\" x2=\"48\" y2=\"86\" />\n  <line x1=\"72\" y1=\"14\" x2=\"72\" y2=\"86\" />\n  <line x1=\"96\" y1=\"14\" x2=\"96\" y2=\"86\" />\n  <line x1=\"120\" y1=\"14\" x2=\"120\" y2=\"86\" />\n  <line x1=\"144\" y1=\"14\" x2=\"144\" y2=\"86\" style=\"stroke-width:2\" />\n\n  <!-- Colored Rectangle -->\n  <polygon points=\"24.9485979497544,14.948597949754403 144.9485979497544,14.948597949754403 144.9485979497544,86.9485979497544 24.9485979497544,86.9485979497544\" style=\"fill:#ECB172A0;stroke-width:0\"/>\n\n  <!-- Text -->\n  <text x=\"84.948598\" y=\"106.948598\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" >2560</text>\n  <text x=\"164.948598\" y=\"50.948598\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" transform=\"rotate(-90,164.948598,50.948598)\">1536</text>\n  <text x=\"7.474299\" y=\"99.474299\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" transform=\"rotate(45,7.474299,99.474299)\">7</text>\n</svg>\n        </td>\n    </tr>\n</table></div></div></li><li class='xr-section-item'><input id='section-38b1e33b-eeb1-4487-82f8-8889762e3c9d' class='xr-section-summary-in' type='checkbox'  checked><label for='section-38b1e33b-eeb1-4487-82f8-8889762e3c9d' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>lat</span></div><div class='xr-var-dims'>(lat)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>54.55 54.55 54.55 ... 54.27 54.27</div><input id='attrs-df7e9e72-1000-43fc-b79b-2e36aa2c335e' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-df7e9e72-1000-43fc-b79b-2e36aa2c335e' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c3d493db-7403-4bb6-97ec-2b1b1359a45b' class='xr-var-data-in' type='checkbox'><label for='data-c3d493db-7403-4bb6-97ec-2b1b1359a45b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>decimal_degrees</dd><dt><span>long_name :</span></dt><dd>latitude</dd><dt><span>standard_name :</span></dt><dd>latitude</dd></dl></div><div class='xr-var-data'><pre>array([54.54639, 54.54621, 54.54603, ..., 54.27045, 54.27027, 54.27009])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>lon</span></div><div class='xr-var-dims'>(lon)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>10.0 10.0 10.0 ... 10.46 10.46</div><input id='attrs-27511074-ed7c-4c84-8ac7-dfb4522f7364' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-27511074-ed7c-4c84-8ac7-dfb4522f7364' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-9022c2fb-d889-4b13-a4b5-5b07d61a68e7' class='xr-var-data-in' type='checkbox'><label for='data-9022c2fb-d889-4b13-a4b5-5b07d61a68e7' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>decimal_degrees</dd><dt><span>long_name :</span></dt><dd>longitude</dd><dt><span>standard_name :</span></dt><dd>longitude</dd></dl></div><div class='xr-var-data'><pre>array([10.00009, 10.00027, 10.00045, ..., 10.46035, 10.46053, 10.46071])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2018-05-31T12:00:00 ... 2018-06-...</div><input id='attrs-ae360962-ef60-42ad-bb10-c21807d91b2d' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-ae360962-ef60-42ad-bb10-c21807d91b2d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-7fe71338-c286-4632-89a5-7efbeb7370b0' class='xr-var-data-in' type='checkbox'><label for='data-7fe71338-c286-4632-89a5-7efbeb7370b0' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>time</dd><dt><span>bounds :</span></dt><dd>time_bnds</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;2018-05-31T12:00:00.000000000&#x27;, &#x27;2018-06-05T12:00:00.000000000&#x27;,\n       &#x27;2018-06-10T12:00:00.000000000&#x27;, &#x27;2018-06-15T12:00:00.000000000&#x27;,\n       &#x27;2018-06-20T12:00:00.000000000&#x27;, &#x27;2018-06-25T12:00:00.000000000&#x27;,\n       &#x27;2018-06-30T12:00:00.000000000&#x27;], dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-c1c5b5a5-7065-424f-871e-a7a4f776f558' class='xr-section-summary-in' type='checkbox'  ><label for='section-c1c5b5a5-7065-424f-871e-a7a4f776f558' class='xr-section-summary' >Indexes: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>lat</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-b35b67d8-59c6-4058-9ddd-c150dd0f2a6e' class='xr-index-data-in' type='checkbox'/><label for='index-b35b67d8-59c6-4058-9ddd-c150dd0f2a6e' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Float64Index([          54.54639,           54.54621,           54.54603,\n                        54.54585,           54.54567,           54.54549,\n                        54.54531,           54.54513,           54.54495,\n                        54.54477,\n              ...\n              54.271710000000006, 54.271530000000006, 54.271350000000005,\n              54.271170000000005, 54.270990000000005, 54.270810000000004,\n              54.270630000000004, 54.270450000000004, 54.270270000000004,\n                        54.27009],\n             dtype=&#x27;float64&#x27;, name=&#x27;lat&#x27;, length=1536))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>lon</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-12c08595-d867-4ed2-ba19-ab157d9d9345' class='xr-index-data-in' type='checkbox'/><label for='index-12c08595-d867-4ed2-ba19-ab157d9d9345' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Float64Index([          10.00009,           10.00027,           10.00045,\n              10.000630000000001,           10.00081,           10.00099,\n                        10.00117,           10.00135,           10.00153,\n              10.001710000000001,\n              ...\n                        10.45909,           10.45927,           10.45945,\n                        10.45963, 10.459810000000001, 10.459990000000001,\n                        10.46017,           10.46035,           10.46053,\n                        10.46071],\n             dtype=&#x27;float64&#x27;, name=&#x27;lon&#x27;, length=2560))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-5c020e40-f3be-4bb2-8447-a3b3ac1ae8b2' class='xr-index-data-in' type='checkbox'/><label for='index-5c020e40-f3be-4bb2-8447-a3b3ac1ae8b2' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;2018-05-31 12:00:00&#x27;, &#x27;2018-06-05 12:00:00&#x27;,\n               &#x27;2018-06-10 12:00:00&#x27;, &#x27;2018-06-15 12:00:00&#x27;,\n               &#x27;2018-06-20 12:00:00&#x27;, &#x27;2018-06-25 12:00:00&#x27;,\n               &#x27;2018-06-30 12:00:00&#x27;],\n              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;time&#x27;, freq=None))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-8d846eb6-57d3-491e-9692-dfae60de574e' class='xr-section-summary-in' type='checkbox'  checked><label for='section-8d846eb6-57d3-491e-9692-dfae60de574e' class='xr-section-summary' >Attributes: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Normalized Difference Vegetation Index</dd><dt><span>units :</span></dt><dd>unitless</dd></dl></div></li></ul></div></div>","content_type":"text/html"},"text/plain":{"content":"<xarray.DataArray 'NDVI' (time: 7, lat: 1536, lon: 2560)>\ndask.array<truediv, shape=(7, 1536, 2560), dtype=float32, chunksize=(1, 512, 512), chunktype=numpy.ndarray>\nCoordinates:\n  * lat      (lat) float64 54.55 54.55 54.55 54.55 ... 54.27 54.27 54.27 54.27\n  * lon      (lon) float64 10.0 10.0 10.0 10.0 10.0 ... 10.46 10.46 10.46 10.46\n  * time     (time) datetime64[ns] 2018-05-31T12:00:00 ... 2018-06-30T12:00:00\nAttributes:\n    long_name:  Normalized Difference Vegetation Index\n    units:      unitless","content_type":"text/plain"}}}],"visibility":"show","key":"qpRaTdTBJQ"}],"visibility":"show","key":"GB4ZJsm4Ww"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.091068,"end_time":"2023-10-24T07:56:20.980633","exception":false,"start_time":"2023-10-24T07:56:20.889565","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Displayng time serie of NDVI","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"k7290vQ4iZ"}],"identifier":"displayng-time-serie-of-ndvi","label":"Displayng time serie of NDVI","html_id":"displayng-time-serie-of-ndvi","implicit":true,"key":"OKBQuQcYD8"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Also, we can display time serie of values of NDVI band at selected location for all time steps.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"XPuNV4ysdl"}],"key":"tsz7nyw6q3"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"For example we’ll select the point at latitude=54.40, longitude=10.1\nNearest-neighbor interpolation is used by xcube to find closest satellite pixel at each time step.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"XDclUD9LIh"}],"key":"nMMD4BncSr"}],"visibility":"show","key":"wjhoTwVEkZ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:56:21.186493Z","iopub.status.busy":"2023-10-24T07:56:21.186082Z","iopub.status.idle":"2023-10-24T07:56:21.252400Z","shell.execute_reply":"2023-10-24T07:56:21.251792Z"},"papermill":{"duration":0.168124,"end_time":"2023-10-24T07:56:21.253649","exception":false,"start_time":"2023-10-24T07:56:21.085525","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"timeseriesNDVI = cube.NDVI.sel(lat=54.40, lon=10.1, method='nearest').to_series()\ntimeseriesNDVI","visibility":"show","key":"BTFbb8xKbb"},{"type":"output","id":"2Bp2z1VmVt73gZUPjkvPz","data":[{"output_type":"execute_result","execution_count":25,"metadata":{},"data":{"text/plain":{"content":"time\n2018-05-31 12:00:00    0.772061\n2018-06-05 12:00:00    0.851012\n2018-06-10 12:00:00    0.384155\n2018-06-15 12:00:00    0.047377\n2018-06-20 12:00:00    0.681596\n2018-06-25 12:00:00    0.881028\n2018-06-30 12:00:00    0.872430\nName: NDVI, dtype: float32","content_type":"text/plain"}}}],"visibility":"show","key":"x8TSPzmxXQ"}],"visibility":"show","key":"u5el1WXtVE"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.091093,"end_time":"2023-10-24T07:56:21.459522","exception":false,"start_time":"2023-10-24T07:56:21.368429","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Displayng time serie of NDVI in linear plot","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GavwxAcfO5"}],"identifier":"displayng-time-serie-of-ndvi-in-linear-plot","label":"Displayng time serie of NDVI in linear plot","html_id":"displayng-time-serie-of-ndvi-in-linear-plot","implicit":true,"key":"ug31aXgZe8"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Now, when we computed the NDVI values for each step in the time serie, we can easily display them in linear plot, as in case of original Sentinel-2 bands.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"zXv8pNfG2Q"}],"key":"hYLVFBQLgN"}],"visibility":"show","key":"XNFUyN8t3n"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:56:21.684531Z","iopub.status.busy":"2023-10-24T07:56:21.684267Z","iopub.status.idle":"2023-10-24T07:56:21.905128Z","shell.execute_reply":"2023-10-24T07:56:21.904529Z"},"papermill":{"duration":0.312508,"end_time":"2023-10-24T07:56:21.906347","exception":false,"start_time":"2023-10-24T07:56:21.593839","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"plt.plot(timeseriesNDVI)\nplt.xticks(rotation='vertical')\nplt.figsize=(15, 6)\nplt.show()","visibility":"show","key":"Ch0CVPzcRS"},{"type":"output","id":"UPvRUgMWHSYwplYU3ItJz","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"1f44c922cb3801c4198b9f2743734d76","path":"/notebooks_test/build/1f44c922cb3801c4198b9f2743734d76.png"},"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"}}}],"visibility":"show","key":"s8Fq8swGxa"}],"visibility":"show","key":"qGrv8EQiCF"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.096415,"end_time":"2023-10-24T07:56:22.110361","exception":false,"start_time":"2023-10-24T07:56:22.013946","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Plotting time-series NDVI data produces a temporal curve that summarizes the various stages that green vegetation undergoes during a complete growing season.\nSuch curves can be analyzed to extract key phenological variables, or metrics, about a particular season, such as the start, peak and end of the growing season. These characteristics may correspond directly to conventional, ground-based phenological events like growing (the NDVI values grows), mowing, harvesting or ploughing (NDVI values drops rapidly) and provide indications of ecosystem dynamics.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"M29nhuV7Y2"}],"key":"d3J73vREO8"}],"visibility":"show","key":"kfgq4Gygiv"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.089673,"end_time":"2023-10-24T07:56:22.316638","exception":false,"start_time":"2023-10-24T07:56:22.226965","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Displaying NDVI at selected time step as image","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ixUSDzsAtX"}],"identifier":"displaying-ndvi-at-selected-time-step-as-image","label":"Displaying NDVI at selected time step as image","html_id":"displaying-ndvi-at-selected-time-step-as-image","implicit":true,"key":"eEo1olL3Bj"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"To check the NDVI values over whole area of interest, we can display the NDVI values for any selected time step of the time serie as image in selected color scale.\nFor example we’ll select the time step 21.5.2018.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"cSwNTAYJZf"}],"key":"Fd1EbtJZIO"}],"visibility":"show","key":"T5mo46Cw8n"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:56:22.520564Z","iopub.status.busy":"2023-10-24T07:56:22.520144Z","iopub.status.idle":"2023-10-24T07:56:23.195186Z","shell.execute_reply":"2023-10-24T07:56:23.194695Z"},"papermill":{"duration":0.780291,"end_time":"2023-10-24T07:56:23.203154","exception":false,"start_time":"2023-10-24T07:56:22.422863","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"cube.NDVI.sel(time='2018-05-21 10:00:00', method='nearest').plot.imshow(vmin=-1, vmax=1, cmap='RdYlGn', figsize=(16, 10))\n#cube.NDVI.sel(time='2018-06-25 10:00:00', method='nearest').plot.imshow(vmin=-1, vmax=1, cmap='RdYlGn', figsize=(16, 10))\n#cube.NDVI.sel(time='2018-07-25 10:00:00', method='nearest').plot.imshow(vmin=-1, vmax=1, cmap='RdYlGn', figsize=(16, 10))","visibility":"show","key":"GYM4CVkg6g"},{"type":"output","id":"mVYHha1vuvue6wX5Wilqk","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"89d3e4180dd5f1fd64700539c0a5f472","path":"/notebooks_test/build/89d3e4180dd5f1fd64700539c0a5f472.png"},"text/plain":{"content":"<Figure size 1600x1000 with 2 Axes>","content_type":"text/plain"}}}],"visibility":"show","key":"YytklJybsp"}],"visibility":"show","key":"xZHkX87L4o"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.128103,"end_time":"2023-10-24T07:56:23.464173","exception":false,"start_time":"2023-10-24T07:56:23.336070","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Displaying NDVI for all time steps in the serie as image","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ft8ZpsDPV6"}],"identifier":"displaying-ndvi-for-all-time-steps-in-the-serie-as-image","label":"Displaying NDVI for all time steps in the serie as image","html_id":"displaying-ndvi-for-all-time-steps-in-the-serie-as-image","implicit":true,"key":"Be4IFIEFLS"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"To check the NDVI values over whole area of interest for all time step in the time serie,\nwe can display the NDVI values for all selected time steps of the serie as image in the same color scale beside each other.\nThis allows us to visually compare the development of NDVI values over whole time serie and to compare various time steps with each other.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jZt6IUYAdO"}],"key":"zTzvsbgSWY"}],"visibility":"show","key":"e3OPBJURj9"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-10-24T07:56:23.715525Z","iopub.status.busy":"2023-10-24T07:56:23.715078Z","iopub.status.idle":"2023-10-24T07:57:42.378550Z","shell.execute_reply":"2023-10-24T07:57:42.377830Z"},"papermill":{"duration":78.788304,"end_time":"2023-10-24T07:57:42.385134","exception":false,"start_time":"2023-10-24T07:56:23.596830","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"img=cube.NDVI.plot.imshow(col='time', col_wrap=4, vmin=-1, vmax=1,cmap='RdYlGn')","visibility":"show","key":"Ars0unyQHS"},{"type":"output","id":"XMH0rxwn-OX56gAC_CzVN","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"a30e15aee092e1bf7951d950c9500f93","path":"/notebooks_test/build/a30e15aee092e1bf7951d950c9500f93.png"},"text/plain":{"content":"<Figure size 1300x600 with 9 Axes>","content_type":"text/plain"}}}],"visibility":"show","key":"FX0HyX9DPP"}],"visibility":"show","key":"RiQ9ZfxtPk"}],"key":"V6lI8x873H"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"EDC Sentinel Hub - XCUBE integration","url":"/external-notebooks/eurodatacube/notebooks/notebooks/curated/edc-sentinel-hub-xcube-integration","group":"Curated"},"next":{"title":"Using eo-learn in EDC: a starter’s guide.","url":"/external-notebooks/eurodatacube/notebooks/notebooks/curated/eo-learn","group":"Curated"}}},"domain":"http://localhost:3000"}