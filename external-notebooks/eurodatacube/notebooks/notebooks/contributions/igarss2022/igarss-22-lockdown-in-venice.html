<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Environmental Impacts of Lockdown in Venice, Italy during 2020 - Location for eodashboard notebooks</title><meta property="og:title" content="Environmental Impacts of Lockdown in Venice, Italy during 2020 - Location for eodashboard notebooks"/><meta name="generator" content="mystmd"/><meta name="keywords" content=""/><link rel="stylesheet" href="/notebooks_test/build/_assets/app-HG4THSM4.css"/><link rel="stylesheet" href="/notebooks_test/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="/notebooks_test/favicon.ico"/><link rel="stylesheet" href="/notebooks_test/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="block px-2 py-1 text-black underline">Skip to article content</a></div><div class="bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><a class="flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/notebooks_test/"><span class="text-md sm:text-xl tracking-tight sm:mr-5">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R3iop:" data-state="closed" class="flex items-center h-10 aspect-square sm:w-64 text-left text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="hidden sm:block grow">Search</span><div aria-hidden="true" class="items-center hidden mx-1 font-mono text-sm text-gray-400 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-8 h-8 mx-3" title="Toggle theme between light and dark mode." aria-label="Toggle theme between light and dark mode."><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><article class="article content article-grid grid-gap"><main class="article-grid subgrid-gap col-screen"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="mb-8 pt-9"><div class="flex items-center h-6 mb-5 text-sm font-light"><div class="flex-grow"></div><a href="https://github.com/eoxhub-workspaces/documentation/" title="GitHub Repository: eoxhub-workspaces/documentation/" target="_blank" rel="noopener noreferrer" class="text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a><div class="inline-block mr-1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block"><title>Jupyter Notebook</title><path d="M20.2 1.7c0 .8-.5 1.4-1.3 1.5-.8 0-1.4-.5-1.5-1.3 0-.8.5-1.4 1.3-1.5.8-.1 1.5.5 1.5 1.3zM12 17.9c-3.7 0-7-1.3-8.7-3.3 1.8 4.8 7.1 7.3 11.9 5.5 2.5-.9 4.5-2.9 5.5-5.5-1.7 2-4.9 3.3-8.7 3.3zM12 5.1c3.7 0 7 1.3 8.7 3.3-1.8-4.8-7.1-7.3-11.9-5.5-2.5.9-4.5 2.9-5.5 5.5 1.7-2 5-3.3 8.7-3.3zM6.9 21.8c.1 1-.7 1.8-1.7 1.9-1 .1-1.8-.7-1.9-1.7 0-1 .7-1.8 1.7-1.9 1-.1 1.8.7 1.9 1.7zM3.7 4.6c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1c0 .5-.4 1-1 1z"></path></svg></div><div class="relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="relative ml-2 -mr-1" id="headlessui-menu-button-:Rd4fop:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="mb-0">Environmental Impacts of Lockdown in Venice, Italy during 2020</h1></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><div id="rIHWgBYhqE" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">from eoxhub import check_compatibility
check_compatibility(&quot;user-2023.03-02&quot;, dependencies=[&quot;SH&quot;, &quot;GEODB&quot;])</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="zcf_l9eplO4LnKzo3BOsE" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="mcr7S06tMX" class="relative group/block"><h1 id="environmental-impacts-of-lockdown-in-venice-italy-during-2020" class="relative group"><span class="heading-text">Environmental Impacts of Lockdown in Venice, Italy during 2020</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#environmental-impacts-of-lockdown-in-venice-italy-during-2020" title="Link to this Section" aria-label="Link to this Section">¶</a></h1><h2 id="geo-storytelling-with-eodashboard-and-the-euro-data-cube-notebook-2" class="relative group"><span class="heading-text">Geo-storytelling with EODASHBOARD and the Euro Data Cube - Notebook #2</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#geo-storytelling-with-eodashboard-and-the-euro-data-cube-notebook-2" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="iBCuaeoupm" class="relative group/block"><p>This notebook looks at the impact of the mobility restrictions imposed in the Italian region Veneto during the Covid-19 pandemic to restrict the spread of the virus.</p><p>It uses Earth Observation data from ESA, NASA and JAXA from the <a target="_blank" rel="noreferrer" href="https://eodashboard.org" class="">EO Dashboard</a>, together with other geospatial data as well as non-EO information.</p><p>To read more about the tri-agency collaboration visit <a target="_blank" rel="noreferrer" href="https://eodashboard.org" class="">https://<wbr/>eodashboard<wbr/>.org</a>.</p></div><div id="bwTBQAT2WV" class="relative group/block"><h2 id="in-this-notebook" class="relative group"><span class="heading-text">In this Notebook:</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#in-this-notebook" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><ol start="1"><li><span data-state="closed"><a href="#covid-mobility-data-from-google" class="hover-link">We download and plot open data about mobility over the region of Veneto and determine extreme values associated with the lockdown</a></span></li><li><span data-state="closed"><a href="#requesting-vessel-density-data" class="hover-link">We then access vessel density data in the venice Lagoon and evaluate the reduction in vessel traffic during the lockdown</a></span></li><li><a target="_blank" rel="noreferrer" href="#Using-the-NASA-API-to-retreive-nightlights-data" class="">Using the extreme value’s date as a proxy for the period of reduced activity, we request NASA nightlight data and visually inspect if changes are visible</a></li><li><a target="_blank" rel="noreferrer" href="#Retreiving-Sentinel-2-imagery-over-the-Island-of-Venice" class="">We inspect whether an environmental impact of the activity reduciton is visible in the water quality in the lagoon by visually inspecting Copernicus Sentinel-2 imagery</a></li><li><span data-state="closed"><a href="#requesting-water-quality-data-from-jaxa" class="hover-link">We proceed to access and visualise Chlorophyll-a concentration maps in the Venice lagoon</a></span></li><li><a target="_blank" rel="noreferrer" href="#Retreiving-water-quality-time-series-from-GeoDB" class="">We access water quality time series and inspect the Chlorophyll-a variation compared to the climatology</a></li></ol></div><div id="DFKEmtM0kO" class="relative group/block"><h3 id="permissions-and-package-download" class="relative group"><span class="heading-text">Permissions and Package Download</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#permissions-and-package-download" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="RZTmRU8yL8" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">#Import necessary packages

import concurrent.futures
import datetime as dt
from ipyleaflet import basemaps, Map, GeoJSON
import json
import requests as re
import matplotlib.pyplot as plt
import pprint
import time
import datetime
import csv
import requests
import numpy as np
import sys
import pandas as pd
import geojson
import requests as re
from ipyleaflet import Map, basemaps, basemap_to_tiles, TileLayer, SplitMapControl
import warnings
warnings.filterwarnings(&#x27;ignore&#x27;)

from bokeh.plotting import figure, show, output_notebook
from bokeh.models import ColumnDataSource
from bokeh.palettes import Spectral3
from bokeh.palettes import Spectral6
from bokeh.transform import factor_cmap
from __future__ import print_function
from ipywidgets import interact, interactive, fixed, interact_manual
import ipywidgets as widgets
import matplotlib.patches as mpatches


# Configure plots for inline use in Jupyter Notebook
%matplotlib inline</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="9dkh_uRtQ-0iTLnKn7ITY" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="TcbY2VSBn4" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Time Series data in Step 6. are store in the geodatabase, so we check if the xcube_geodb service is active

from edc import check_compatibility
from xcube_geodb.core.geodb import GeoDBClient
geodb = GeoDBClient()
geodb.whoami</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="4nvrbopEJaqRbIBoast4o" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div class="font-mono text-sm whitespace-pre-wrap"><code><span>&#x27;geodb_418dfeac-15f0-4606-9edb-fd9eb722bf04&#x27;</span></code></div></div></div><div id="UMARaEBsfF" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Sentinel-2 imagery and the water quality maps that we use in Steps 4. and 5. will be accessed from the Sentinel Hub. 
# Here we make sure that the data needed for the authentication to use the Sentinel Hub services is available, and we establish a session 

import os
from oauthlib.oauth2 import BackendApplicationClient
from requests_oauthlib import OAuth2Session
# Your client credentials
client_id = os.environ[&#x27;SH_CLIENT_ID&#x27;]
client_secret = os.environ[&#x27;SH_CLIENT_SECRET&#x27;]
# Create a session
client = BackendApplicationClient(client_id=client_id)
oauth = OAuth2Session(client=client)
# Get token for the session
token = oauth.fetch_token(token_url=&#x27;https://services.sentinel-hub.com/oauth/token&#x27;,
                          client_id=client_id, client_secret=client_secret)
# All requests using this session will have an access token automatically added
resp = oauth.get(&quot;https://services.sentinel-hub.com/oauth/tokeninfo&quot;)
# Sentinel Hub
from sentinelhub import (MimeType, CRS, BBox, SentinelHubRequest, SentinelHubDownloadClient, 
                         DataCollection, bbox_to_dimensions, DownloadRequest, SHConfig)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="BfFQ7nvPqCSPrYmYL9rcY" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="W34fBfixIA" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Pass Sentinel Hub credentials to SHConfig
config = SHConfig()
config.sh_client_id = os.environ[&quot;SH_CLIENT_ID&quot;]
config.sh_client_secret = os.environ[&quot;SH_CLIENT_SECRET&quot;]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="wUmvvPt2eE_YSTsZtWVDh" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="w5Mhl8c2zU" class="relative group/block"><h2 id="covid-mobility-data-from-google" class="relative group"><span class="heading-text">Covid Mobility Data from Google</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#covid-mobility-data-from-google" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Google provides open data on mobility, called “Google COVID-19 Community Mobility Reports”. To access the original data source, visit: <a target="_blank" rel="noreferrer" href="https://www.google.com/covid19/mobility/" class="">https://<wbr/>www<wbr/>.google<wbr/>.com<wbr/>/covid19<wbr/>/mobility/</a></p><p>In EO Dashboard this indicator is called “Mobility Data” and provides country-level aggregated charts. On EO Dashboard it can be accessed at: <a target="_blank" rel="noreferrer" href="https://eodashboard.org/explore?indicator=GG" class="">https://<wbr/>eodashboard<wbr/>.org<wbr/>/explore<wbr/>?indicator<wbr/>=GG</a>.</p><p>All charts and maps on EO Dashboard provide an “embed link” and we will use this together with the IFrame library to inspect the mobility trends at country level for Italy.</p><p><strong>Tip: try interacting with the chart, zoom in/out, activate/deactivate categories by clicking on the legend items, hover over the chart to get more details</strong></p></div><div id="VOuvWnJfKy" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># How Mobility data is presented in EO Dashboard

from IPython.display import IFrame
IFrame(&#x27;https://eodashboard.org/iframe?poi=IT-GG&#x27;, width=800, height=500)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="0y2QiSsP140cocMgcptmo" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="Ztd0jMxW0i" class="relative group/block"><h3 id="mobility-in-veneto" class="relative group"><span class="heading-text">Mobility in Veneto</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#mobility-in-veneto" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>We want to focus only on the region of Veneto, not the entire country, as we will use the COVID Mobility data to relate lockdowns to changing behaviour in the region and especially in the Venice lagoon.</p><p>We use this data to estimate the times where the lockdown restrictions were at their highest and inturn relate this to activity and finaly water quality.</p><p>The Covid Mobility data covers the larger area of Veneto, which includes the region of Venice. Below we display the region using NUTS data:</p></div><div id="R8ox16vgl9" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import requests
# First let us get the area information of the country from the administratives zones
# You can find all the different NUTS levels, resolution here: https://gisco-services.ec.europa.eu/distribution/v2/nuts/nuts-2021-files.html

response = requests.get(
    &quot;https://gisco-services.ec.europa.eu/distribution/v2/nuts/geojson/NUTS_RG_10M_2021_4326_LEVL_2.geojson&quot;
)

data = response.json()

# Now lets find the geometry information for one country
match = [x for x in data[&quot;features&quot;] if x[&quot;properties&quot;][&quot;NUTS_ID&quot;] == &#x27;ITH3&#x27;][0]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="R8MYir7GhHeOXtF9PVb50" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="i31JY1gzc8" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import shapely.geometry
import IPython.display
IPython.display.GeoJSON(match)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="-gg4T7EaWrTZMHHmMY36X" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="uYAVjtXvDs" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Download google mobilty dataset

url = &#x27;https://www.gstatic.com/covid19/mobility/Global_Mobility_Report.csv&#x27;

gfile = requests.get(url, allow_redirects=True)
open(&#x27;gmobility_data.csv&#x27;, &#x27;wb&#x27;).write(gfile.content)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="Uv6iqVavY0jHBuWp1i_1U" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div class="font-mono text-sm whitespace-pre-wrap"><code><span>1144240623</span></code></div></div></div><div id="OVz6BlPsWK" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># open dataset and retrieve the data
with open(&#x27;gmobility_data.csv&#x27;) as csvfile:
    reader = csv.DictReader(csvfile, delimiter=&quot;,&quot;, quotechar=&#x27;&quot;&#x27;)
    country_data = {}
    # Le us say we interested in retail_and_recreation_percent_change_from_baseline in 3 countries, France, Italy and Austria
    countries = [&quot;IT&quot;]
    for key in countries:
        country_data[key] = []
    # We iterate through the csv rows and extract the wanted data
    for row in reader:
        # For now we skip subregional data and only look at overall country data
        # this is the case for countries that have no information on the following 3 parameters
        if row[&quot;sub_region_1&quot;] == &#x27;Veneto&#x27; and row[&quot;sub_region_2&quot;] == &#x27;&#x27; and row[&quot;metro_area&quot;] == &#x27;&#x27; :
            location_key = row[&quot;country_region_code&quot;]

            if location_key in countries:
                country_data[location_key].append((
                    datetime.datetime.strptime(row[&quot;date&quot;], &quot;%Y-%m-%d&quot;), # convert to date object
                    float(row[&quot;retail_and_recreation_percent_change_from_baseline&quot;]) #convert to float
                ))</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="hH-LOTqG-qIEq45fE6yYJ" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="bR7n1dNFNc" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># creating a pandas dataframe to store the data
veneto = pd.DataFrame(country_data[key], columns=[&#x27;date&#x27;,&#x27;retail_and_recreation_percent_change_from_baseline&#x27;])
veneto[&#x27;date&#x27;] =  pd.to_datetime(veneto[&#x27;date&#x27;], infer_datetime_format=True)
veneto_ts = veneto.set_index(&#x27;date&#x27;) </code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="cO0dEiNBn3Ns680V5HJTT" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="sY63PpqXr2" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># resampling the data
weekly_veneto = veneto_ts.resample(&#x27;W&#x27;).mean()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="k2LZFbck86tcdd_gaPGw8" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="Dl6Wo5Wect" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># plotting the data
weekly_veneto.plot(y=&#x27;retail_and_recreation_percent_change_from_baseline&#x27;, figsize=(15,8))</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="bCuwJ8lNGWcNcGg3h3lxs" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div class="font-mono text-sm whitespace-pre-wrap"><code><span>&lt;Axes: xlabel=&#x27;date&#x27;&gt;</span></code></div><img src="/notebooks_test/build/6812f43b037e7f4ba513bba01b1afef0.png" alt="&lt;Figure size 1500x800 with 1 Axes&gt;"/></div></div><div id="H514LDAMNI" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># We output the date of the lowest value
weekly_veneto.retail_and_recreation_percent_change_from_baseline.idxmin()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="muM0I9lxWVjTwwm2_mVuc" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div class="font-mono text-sm whitespace-pre-wrap"><code><span>Timestamp(&#x27;2020-04-05 00:00:00&#x27;, freq=&#x27;W-SUN&#x27;)</span></code></div></div></div><div id="ulsTZCH1uv" class="relative group/block"><p>We can see from the figure the drop in the activity from the baseline within the region and use this to help understand the impacts of this change.</p></div><div id="okryq3y1bG" class="relative group/block"><h2 id="requesting-vessel-density-data" class="relative group"><span class="heading-text">Requesting Vessel Density Data</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#requesting-vessel-density-data" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="fSbLH0T2L4" class="relative group/block"><p>We retrieve vessel data from the Euro Data Cube for Venice lagoon.</p><p>This data layer is covering only the European region and can be visualised on the EO Dashboard instance focused only on Europe. This instance is branded “Rapid Action on Covid 19 and EO (RACE)” and includes some of the datasets from the ESA-NASA-JAXA instance as well as other Europe-centric datasets.
This dashboard instance is accessble at <a target="_blank" rel="noreferrer" href="https://race.esa.int" class="">https://<wbr/>race<wbr/>.esa<wbr/>.int</a>.</p><p>The vessel density data visualisation in the RACE Dashboard can be inspected here: <a target="_blank" rel="noreferrer" href="https://race.esa.int/?poi=World-E13o" class="">https://<wbr/>race<wbr/>.esa<wbr/>.int<wbr/>/<wbr/>?poi<wbr/>=<wbr/>World<wbr/>-E13o</a></p></div><div id="DjILo0fpgM" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># let&#x27;s use the IFrame to embed the vesel density map
# for a better experience, access this indicator direclty on the RACE Dashboard, at: https://race.esa.int/?poi=World-E13o 
# there you will be able to use the Draw AOI feature to generate times sereis of vessel density on your custom area.

# the view below is offering limitted functionalities.
# the 4 tabs: ALL, CARGO, TANKER, OTHERS

IFrame(&#x27;https://race.esa.int/iframe?poi=World-E13o&#x27;, width=800, height=500)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="z-erGj2GVa2gouceCajUk" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="ePPkqYvdLB" class="relative group/block"><h3 id="getting-the-actual-vessel-density-map-data" class="relative group"><span class="heading-text">Getting the actual vessel density map data</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#getting-the-actual-vessel-density-map-data" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>The vessel data is accessible using the Sentinel Hub service, and can be retrieve using the byoc (bring your own COG) code availble in the <a target="_blank" rel="noreferrer" href="https://collections.eurodatacube.com/" class="">Eurodatacube Collections</a>.</p></div><div id="Y8biJDnMPR" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># define the area

def bbox(coord_list):
     box = []
     for i in (0,1):
         res = sorted(coord_list, key=lambda x:x[i])
         box.append((res[0][i],res[-1][i]))
     ret = f&quot;({box[0][0]} {box[1][0]}, {box[0][1]} {box[1][1]})&quot;
     return ret

# Parse the json here

import geojson
import shapely.wkt

# We have the POLYGON pre-defined for the Venice Lagoon. It is the same one that is used in EO Dashboard to display the Venice Water Quality Maps.

area = shapely.wkt.loads(&#x27;POLYGON((12.174395 44.778037,12.196361 44.816998,12.085149 45.405263,12.426024 45.583514,13.153667 45.779148,13.603981 45.811687,13.804426 45.675662,13.823647 45.596962,13.626039 45.443008,13.549156 45.433376,13.626039 45.323461,13.713905 45.095238,13.78383 44.980605,13.830519 44.892158,13.8 44.5,12.234821 44.481556,12.06659 44.581469,12.174395 44.778037))&#x27;)
gj_feat = geojson.Feature(geometry=area, properties={})

IPython.display.GeoJSON(gj_feat)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="6MefC9M96p67tgNltVaq5" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="NiyskNp9Av" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># we create a bounding box for the geojson 

line = bbox(list(geojson.utils.coords(gj_feat)))
print(line)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="bb7GcrQg7qY4d5Dc0jofm" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>(12.06659 44.481556, 13.830519 45.811687)
</span></code></pre></div></div></div><div id="vmaALXQ1It" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># use the coordinates to define the boundinbox for the Venice Laggon in the Adriatic 
adriatic = [
  12.06659,
  44.481556,
  13.830519,
  45.811687
]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="2RVL0SsjEQs9XJEBpGyCd" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="yF3dgKKZ3d" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># set the resolution and create a Sentinel Hub bbox and size object

resolution = 100
adriatic_bbox = BBox(bbox=adriatic, crs=CRS.WGS84)
adriatic_size = bbox_to_dimensions(adriatic_bbox, resolution=resolution)

print(f&#x27;Image shape at {resolution} m resolution: {adriatic_bbox} pixels&#x27;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="lTST7ki9clphxUGckhJ2Y" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Image shape at 100 m resolution: 12.06659,44.481556,13.830519,45.811687 pixels
</span></code></pre></div><div><pre class="text-sm font-thin font-system"><code><span>/tmp/ipykernel_2519/62629348.py:7: SHDeprecationWarning: The string representation of `BBox` will change to match its `repr` representation.
  print(f&#x27;Image shape at {resolution} m resolution: {adriatic_bbox} pixels&#x27;)
</span></code></pre></div></div></div><div id="nr0qgzOZAt" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Define the plot_image function
def plot_image(image, factor=1.0, clip_range = None, **kwargs):
    &quot;&quot;&quot;
    Utility function for plotting RGB images.
    &quot;&quot;&quot;
    fig, ax = plt.subplots(nrows=1, ncols=1, figsize=(15, 15))
    if clip_range is not None:
        ax.imshow(np.clip(image * factor, *clip_range), **kwargs)
    else:
        ax.imshow(image * factor, **kwargs)
    
    ax.set_xticks([])
    ax.set_yticks([])</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="S9lvfN6JhlEaniMWwmvG7" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="lfZK46ZLgI" class="relative group/block"><h4 id="request-vessel-density-data-from-the-sentinel-hub" class="relative group"><span class="heading-text">Request vessel density data from the Sentinel Hub</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#request-vessel-density-data-from-the-sentinel-hub" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>First we build the evalscript to request the data</p></div><div id="ARM7PgBYKW" class="relative group/block"><h3 id="variables-to-be-inicted-in-the-script-for-retrieving-the-sh-images-and-bands" class="relative group"><span class="heading-text">variables to be inicted in the script for retrieving the SH images  and bands</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#variables-to-be-inicted-in-the-script-for-retrieving-the-sh-images-and-bands" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="OWtai40U8J" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">### Parameters for the scripts for retrieving images from SH
band = &quot;All&quot;
collectionID = &quot;beee9b47-b1ab-4044-baa5-0958d3465f12&quot;
start_date_cov = &quot;2020-03-15&quot;
end_date_cov= &quot;2020-04-15&quot; 
start_date_pre = &quot;2020-01-15&quot;
end_date_pre= &quot;2020-02-15&quot; </code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="dchetEaNUzvh73d6JZgId" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="t6S9nMlujI" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">evalscript_vessels = &quot;&quot;&quot;
    //VERSION=3
    function setup() {
    return {
        input: [{
          bands: [&quot;%s&quot;, &quot;dataMask&quot;], // this sets which bands to use
        }],
        output: { // this defines the output image type
          bands: 4,
          sampleType: &quot;UINT8&quot;
        }
    };
}

function evaluatePixel(sample) {

  var arr = colorBlend(sample.%s,    [0.5, 2, 5 , 10, 20 , 100],    
  [[0,155,143],[0,219,0],[255,252,0],[244,154,0],[208,19,0], [161,0,0] ]); 
  if (sample.dataMask==1)  arr.push(255);
  else arr.push(0);
  return arr;
}

    &quot;&quot;&quot;%(band,band)
print(evalscript_vessels)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="F64UFsxnlf9LKEC9STnvo" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>
    //VERSION=3
    function setup() {
    return {
        input: [{
          bands: [&quot;All&quot;, &quot;dataMask&quot;], // this sets which bands to use
        }],
        output: { // this defines the output image type
          bands: 4,
          sampleType: &quot;UINT8&quot;
        }
    };
}

function evaluatePixel(sample) {

  var arr = colorBlend(sample.All,    [0.5, 2, 5 , 10, 20 , 100],    
  [[0,155,143],[0,219,0],[255,252,0],[244,154,0],[208,19,0], [161,0,0] ]); 
  if (sample.dataMask==1)  arr.push(255);
  else arr.push(0);
  return arr;
}

    
</span></code></pre></div></div></div><div id="C33t4rpWbP" class="relative group/block"><p>Now we request data over the lockdown period, remember we detected a low point in activity of 2020-04-05.</p></div><div id="Yr82CBINXw" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">request_vessels_covid = SentinelHubRequest(
    evalscript=evalscript_vessels,
    input_data=[
        SentinelHubRequest.input_data(
            data_collection=DataCollection.define_byoc(collectionID),
            time_interval=(start_date_cov, end_date_cov),
        )
    ],
    responses=[
        SentinelHubRequest.output_response(&#x27;default&#x27;, MimeType.PNG)
    ],
    bbox=adriatic_bbox,
    size=adriatic_size,
    config=config
)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="Ei5w4zcJ3RPjmUfJjTodl" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="Kr3fSO9buL" class="relative group/block"><p>We set the pre-covid period one month before.</p></div><div id="OMfoGQMHyx" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">request_vessels_pre = SentinelHubRequest(
    evalscript=evalscript_vessels,
    input_data=[
        SentinelHubRequest.input_data(
            data_collection=DataCollection.define_byoc(&#x27;beee9b47-b1ab-4044-baa5-0958d3465f12&#x27;),
            time_interval=(start_date_pre, end_date_pre),
        )
    ],
    responses=[
        SentinelHubRequest.output_response(&#x27;default&#x27;, MimeType.PNG)
    ],
    bbox=adriatic_bbox,
    size=adriatic_size,
    config=config
)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="9gyxA1CiP72Jd0d2Bnshe" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="gx9ICbc3RJ" class="relative group/block"><h4 id="request-vessel-density-map-data-during-lockdown" class="relative group"><span class="heading-text">Request vessel density map data during lockdown</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#request-vessel-density-map-data-during-lockdown" title="Link to this Section" aria-label="Link to this Section">¶</a></h4></div><div id="KSAZaK4d87" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">vessel_covid = request_vessels_covid.get_data()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="6LHvW74jD2djZDCxRgVxE" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="bF7HskUVl7" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">image = vessel_covid[0]
print(f&#x27;Image type: {image.dtype}&#x27;)

# plot function
covid_data = request_vessels_covid.get_data()
plot_image(covid_data[0], factor=1 / 255)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="0ITPg-oZO2B0kS0GZksFg" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Image type: uint8
</span></code></pre></div><img src="/notebooks_test/build/da5642acb1a717a8bf53da7172fd9203.png" alt="&lt;Figure size 1500x1500 with 1 Axes&gt;"/></div></div><div id="KwYBZBtWDA" class="relative group/block"><h4 id="request-vessel-density-map-data-before-lockdown" class="relative group"><span class="heading-text">Request vessel density map data before lockdown</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#request-vessel-density-map-data-before-lockdown" title="Link to this Section" aria-label="Link to this Section">¶</a></h4></div><div id="OA2XPTyXix" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">vessel_pre = request_vessels_pre.get_data()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="sliE9IMrKnXbL0EJo9SSc" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="qrWWCEhHWo" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">image = vessel_pre[0]
print(f&#x27;Image type: {image.dtype}&#x27;)

# plot function
pre_data = request_vessels_pre.get_data()
plot_image(pre_data[0], factor=1 / 255)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="ZApjkPp2cgdHvqEzlVowf" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Image type: uint8
</span></code></pre></div><img src="/notebooks_test/build/4d5a9431641fb52295b731a3e3270a13.png" alt="&lt;Figure size 1500x1500 with 1 Axes&gt;"/></div></div><div id="zfCMkHNXQs" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># get the range of values for the vessel density maps

import numpy as np
min_pre = np.amin(pre_data[0])
max_pre = np.amax(pre_data[0])

min_post = np.amin(covid_data[0])
max_post = np.amax(covid_data[0])

print (&quot;min value pre-lockdown:&quot;, min_pre, &quot;max value pre-lockdown:&quot;, max_pre)
print (&quot;min value lockdown:&quot;, min_post, &quot;max value lockdown:&quot;, max_post)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="gKrsSny-UpCOtRbLlsI2Z" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>min value pre-lockdown: 0 max value pre-lockdown: 255
min value lockdown: 0 max value lockdown: 255
</span></code></pre></div></div></div><div id="LUUiqSFOq7" class="relative group/block"><p>The red areas indicate areas with high vessel density and the dark green areas with low density.
From the two images we can see a clear reduction in vessel density with the data corresponding to reduced acrivity in the Veneto region.</p><p>From the <a target="_blank" rel="noreferrer" href="https://www.emodnet-humanactivities.eu/documents/Vessel%20density%20maps_method_v1.5.pdfhttps://www.emodnet-humanactivities.eu/documents/Vessel%20density%20maps_method_v1.5.pdf" class="">dataset documentation</a> we know that the units of density in the published maps are <code>total ship time in hours spent in a cell over the whole month</code>. As the cells are 1 km , this is immediately per square km.</p><p>So every pixel in the original data has a value of <code>N = nr_hours x nr_ships x nr_days_in_month</code></p><p>In order to obtain the density as the average number of instantaneous ships per square km, the values of the published monthly maps must be divided by the total number of hours in the month, which is 28, 30 or 31 times 24 hours depending on the month. For the published yearly average maps, the values must be multiplied by 12 and divided by 365 times 24 hours (for 2017).</p><p>To convert to ship density per square degree instead of per square km, the published numbers can be multiplied by the factor ( 60 * 1.852 )2 cos( latitude ).</p><p><strong>Note that in the plotted images above, the pixel values range between [0, 255]. This is due to the fact that all values above 100 hours have been capped at 255</strong>.</p></div><div id="vlTtE4KQ7J" class="relative group/block"><h3 id="exercise-1-use-eo-dashboard-race-dashboard-to-extract-vessel-density-time-series" class="relative group"><span class="heading-text">Exercise 1: Use EO Dashboard/ RACE Dashboard to extract vessel density time series</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#exercise-1-use-eo-dashboard-race-dashboard-to-extract-vessel-density-time-series" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="ymvlt87LUq" class="relative group/block"><p>Vessel data can be accessed on the RACE Dashboard at <a target="_blank" rel="noreferrer" href="https://race.esa.int/?poi=World-E13o" class="">https://<wbr/>race<wbr/>.esa<wbr/>.int<wbr/>/<wbr/>?poi<wbr/>=<wbr/>World<wbr/>-E13o</a></p><p>Using the Draw AOI feature, generate a time series chart. Note that the polygon information is included in the URL.
Use the information from the previously defined bounding box to customise the AOI, then regenerate the graph.
Download the CSV and import it into your workspace.</p><p>Read the CSV and plot the graph.
Can you determine significant changes in the vessel traffic from the plot?</p></div><div id="tRes3mDu4S" class="relative group/block"><h2 id="using-the-nasa-api-to-retrieve-nightlights-data" class="relative group"><span class="heading-text">Using the NASA API to retrieve nightlights data</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#using-the-nasa-api-to-retrieve-nightlights-data" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Let’s inspect the Nightlights data over Venice. To inspect other locations and learn more about these datasets access this <a target="_blank" rel="noreferrer" href="https://eodashboard.org/story?id=nightlights" class="">Nightlights Story on EO Dashboard</a></p></div><div id="DZReJsCjfF" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">IFrame(&#x27;https://eodashboard.org/explore?indicator=N5&amp;poi=IT01-N5&#x27;, width=800, height=500)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="NSFKmPli0A2Bm-xH5sF1H" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="MygMkfdmH8" class="relative group/block"><p>Now we retrieve nightlights data from the NASA API to check if there is a reduction in activity in the island of Venice over the covid period. The High Definition Nightlights dataset is processed to eliminate light sources like moonlight reflectance and other interferences. The darker shades are places with less light while the lighter shades of yellow are areas with more light.</p><p>The endpoints include a STAC API, which is a catalog endpoint to retrieve metadata on available datasets: <a target="_blank" rel="noreferrer" href="https://staging-stac.delta-backend.com/docs/" class="">https://<wbr/>staging<wbr/>-stac<wbr/>.delta<wbr/>-backend<wbr/>.com<wbr/>/docs/</a></p><p>The other is to render the data for which we find information in the STAC API: <a target="_blank" rel="noreferrer" href="https://staging-raster.delta-backend.com/docs/" class="">https://<wbr/>staging<wbr/>-raster<wbr/>.delta<wbr/>-backend<wbr/>.com<wbr/>/docs/</a></p></div><div id="JKz3e511XC" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># endpoints for nasa api
STAC_ENDPOINT_URL = &quot;https://staging-stac.delta-backend.com&quot;
RASTER_ENDPOINT_URL = &quot;https://staging-raster.delta-backend.com&quot;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="JszYFkmQGOzsiS2L5Bfa8" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="HhfPttbWH1" class="relative group/block"><h4 id="request-metadata-for-the-nightlights-data" class="relative group"><span class="heading-text">Request metadata for the nightlights data</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#request-metadata-for-the-nightlights-data" title="Link to this Section" aria-label="Link to this Section">¶</a></h4></div><div id="Ac48YqpFYT" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># summary of the metadata for the indicator of interest
nightlights_collection_summary = re.get(f&quot;{STAC_ENDPOINT_URL}/collections/nightlights-hd-monthly&quot;).json()
nightlights_collection_summary</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="Q1t-ROdO36sEEM-dSSuhH" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div class="font-mono text-sm whitespace-pre-wrap"><code><span>{&#x27;id&#x27;: &#x27;nightlights-hd-monthly&#x27;,
 &#x27;type&#x27;: &#x27;Collection&#x27;,
 &#x27;links&#x27;: [{&#x27;rel&#x27;: &#x27;items&#x27;,
   &#x27;type&#x27;: &#x27;application/geo+json&#x27;,
   &#x27;href&#x27;: &#x27;https://staging-stac.delta-backend.com/collections/nightlights-hd-monthly/items&#x27;},
  {&#x27;rel&#x27;: &#x27;parent&#x27;,
   &#x27;type&#x27;: &#x27;application/json&#x27;,
   &#x27;href&#x27;: &#x27;https://staging-stac.delta-backend.com/&#x27;},
  {&#x27;rel&#x27;: &#x27;root&#x27;,
   &#x27;type&#x27;: &#x27;application/json&#x27;,
   &#x27;href&#x27;: &#x27;https://staging-stac.delta-backend.com/&#x27;},
  {&#x27;rel&#x27;: &#x27;self&#x27;,
   &#x27;type&#x27;: &#x27;application/json&#x27;,
   &#x27;href&#x27;: &#x27;https://staging-stac.delta-backend.com/collections/nightlights-hd-monthly&#x27;}],
 &#x27;title&#x27;: &#x27;Black Marble High Definition Nightlights Monthly Dataset&#x27;,
 &#x27;extent&#x27;: {&#x27;spatial&#x27;: {&#x27;bbox&#x27;: [[-180, -90, 180, 90]]},
  &#x27;temporal&#x27;: {&#x27;interval&#x27;: [[&#x27;2017-07-21T00:00:00Z&#x27;,
     &#x27;2021-09-30T23:59:59Z&#x27;]]}},
 &#x27;license&#x27;: &#x27;MIT&#x27;,
 &#x27;summaries&#x27;: {&#x27;datetime&#x27;: [&#x27;2019-01-01T00:00:00Z&#x27;, &#x27;2022-03-01T00:00:00Z&#x27;],
  &#x27;cog_default&#x27;: {&#x27;max&#x27;: 255, &#x27;min&#x27;: 0}},
 &#x27;description&#x27;: &#x27;The High Definition Nightlights dataset is processed to eliminate light sources, including moonlight reflectance and other interferences. Darker colors indicate fewer night lights and less activity. Lighter colors indicate more night lights and more activity.&#x27;,
 &#x27;item_assets&#x27;: {&#x27;cog_default&#x27;: {&#x27;type&#x27;: &#x27;image/tiff; application=geotiff; profile=cloud-optimized&#x27;,
   &#x27;roles&#x27;: [&#x27;data&#x27;, &#x27;layer&#x27;],
   &#x27;title&#x27;: &#x27;Default COG Layer&#x27;,
   &#x27;description&#x27;: &#x27;Cloud optimized default layer to display on map&#x27;}},
 &#x27;stac_version&#x27;: &#x27;1.0.0&#x27;,
 &#x27;stac_extensions&#x27;: [],
 &#x27;dashboard:is_periodic&#x27;: True,
 &#x27;dashboard:time_density&#x27;: &#x27;month&#x27;}</span></code></div></div></div><div id="t4KEsycdG2" class="relative group/block"><h4 id="request-nightlights-data-before-lockdown" class="relative group"><span class="heading-text">Request nightlights data before lockdown</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#request-nightlights-data-before-lockdown" title="Link to this Section" aria-label="Link to this Section">¶</a></h4></div><div id="JmNrmt3sn8" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># retrieving a pre-covid image from the STAC API

response_pre = re.post(
    f&quot;{STAC_ENDPOINT_URL}/search&quot;, 
    json={
        &quot;collections&quot;: [&quot;nightlights-hd-monthly&quot;],
        &quot;query&quot;: {&quot;datetime&quot;: {&quot;eq&quot;:&quot;2019-04-01T00:00:00&quot;}},
        &quot;limit&quot;: 100
    }
).json()
item_pre = response_pre[&quot;features&quot;][0]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="tnr88TouReOHfBfeIiA50" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="NhL5osYLam" class="relative group/block"><p>In order to render the image correctly you must define the visualisation parameters, which will differ between datasets. Here in the <a target="_blank" rel="noreferrer" href="https://staging-raster.delta-backend.com/docs#/Cloud%20Optimized%20GeoTIFF/preview_cog_preview__format__get" class="">documentation</a> you can input the correct visualisation parameters and generate an output, this will help you to form the request within the notebook.</p></div><div id="agr7qorbWo" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># rendering the image with the RASTER API
tiles_pre_covid = re.get(
    f&quot;{RASTER_ENDPOINT_URL}/stac/tilejson.json?collection={item_pre[&#x27;collection&#x27;]}&amp;item={item_pre[&#x27;id&#x27;]}&amp;assets=cog_default&amp;bidx=1&amp;unscale=false&amp;resampling=nearest&amp;max_size=1024&amp;rescale=0%2C255&amp;colormap_name=plasma&quot;, 
).json()
tiles_pre_covid</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="yHZFyyjCn4MVD0jCVRdJ-" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div class="font-mono text-sm whitespace-pre-wrap"><code><span>{&#x27;tilejson&#x27;: &#x27;2.2.0&#x27;,
 &#x27;version&#x27;: &#x27;1.0.0&#x27;,
 &#x27;scheme&#x27;: &#x27;xyz&#x27;,
 &#x27;tiles&#x27;: [&#x27;https://staging-raster.delta-backend.com/stac/tiles/WebMercatorQuad/{z}/{x}/{y}@1x?collection=nightlights-hd-monthly&amp;item=finalBMHD_ScaledVenice_201904&amp;assets=cog_default&amp;bidx=1&amp;unscale=false&amp;resampling=nearest&amp;max_size=1024&amp;rescale=0%2C255&amp;colormap_name=plasma&#x27;],
 &#x27;minzoom&#x27;: 0,
 &#x27;maxzoom&#x27;: 24,
 &#x27;bounds&#x27;: [11.7631744, 45.06062636, 12.79039608, 45.79310055],
 &#x27;center&#x27;: [12.27678524, 45.426863455, 0]}</span></code></div></div></div><div id="uIIlMBvAZT" class="relative group/block"><h4 id="request-nightlights-data-during-lockdown" class="relative group"><span class="heading-text">Request nightlights data during lockdown</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#request-nightlights-data-during-lockdown" title="Link to this Section" aria-label="Link to this Section">¶</a></h4></div><div id="hYN2kpaJeW" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># retrieving a covid image from the STAC API

response_nasa_covid = re.post(
    f&quot;{STAC_ENDPOINT_URL}/search&quot;, 
    json={
        &quot;collections&quot;: [&quot;nightlights-hd-monthly&quot;],
        &quot;query&quot;: {&quot;datetime&quot;: {&quot;eq&quot;:&quot;2020-04-01T00:00:00&quot;}},
        &quot;limit&quot;: 100
    }
).json()
item_covid = response_nasa_covid[&quot;features&quot;][0]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="uh6ZyDOCUNGGxqgVkmLfw" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="KR1GEc7xWz" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">tiles_covid = re.get(
    f&quot;{RASTER_ENDPOINT_URL}/stac/tilejson.json?collection={item_covid[&#x27;collection&#x27;]}&amp;item={item_covid[&#x27;id&#x27;]}&amp;assets=cog_default&amp;bidx=1&amp;unscale=false&amp;resampling=nearest&amp;max_size=1024&amp;rescale=0%2C255&amp;colormap_name=plasma&quot;, 
).json()
tiles_covid</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="aD0Iq9rSrb302nPptI1Av" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div class="font-mono text-sm whitespace-pre-wrap"><code><span>{&#x27;tilejson&#x27;: &#x27;2.2.0&#x27;,
 &#x27;version&#x27;: &#x27;1.0.0&#x27;,
 &#x27;scheme&#x27;: &#x27;xyz&#x27;,
 &#x27;tiles&#x27;: [&#x27;https://staging-raster.delta-backend.com/stac/tiles/WebMercatorQuad/{z}/{x}/{y}@1x?collection=nightlights-hd-monthly&amp;item=finalBMHD_ScaledVenice_202004&amp;assets=cog_default&amp;bidx=1&amp;unscale=false&amp;resampling=nearest&amp;max_size=1024&amp;rescale=0%2C255&amp;colormap_name=plasma&#x27;],
 &#x27;minzoom&#x27;: 0,
 &#x27;maxzoom&#x27;: 24,
 &#x27;bounds&#x27;: [11.7631744, 45.06062636, 12.79039608, 45.79310055],
 &#x27;center&#x27;: [12.27678524, 45.426863455, 0]}</span></code></div></div></div><div id="Fopmmf9yNQ" class="relative group/block"><h3 id="directly-compare-the-two-images" class="relative group"><span class="heading-text">Directly compare the two images</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#directly-compare-the-two-images" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="Rm82M00qwo" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># set map parameters
center = [45.438558, 12.333421]
zoom = 13</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="YI9QPSoi0l_vZ5qOXK_r5" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="Uke2zDyY6j" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># display interactive map
m = Map(center=center, zoom=zoom)
m</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="VwOU2Dx_oQy23JWY0Til_" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="bZg78aRj7c" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">left = TileLayer(url=tiles_pre_covid[&quot;tiles&quot;][0])
right = TileLayer(url=tiles_covid[&quot;tiles&quot;][0])

control = SplitMapControl(left_layer=left, right_layer=right)
m.add_control(control)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="Aco4Lz_mfhLbcPOmxtbeD" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="YArTmZnShh" class="relative group/block"><p>The darker areas indicate a reduction in luminosity and the yellow areas higher luminosity, when comparing the two images we can see a reduction in activity over the covid period.</p></div><div id="ItmywzsRZz" class="relative group/block"><h3 id="retrieving-sentinel-2-imagery-over-the-island-of-venice" class="relative group"><span class="heading-text">Retrieving Sentinel 2 imagery over the Island of Venice</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#retrieving-sentinel-2-imagery-over-the-island-of-venice" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Now we have identified the drop in activity due to the lockdown conditions we can retrieve the satellite images to see if there is a corresponding impact visable.</p><p><a target="_blank" rel="noreferrer" href="https://sentinel.esa.int/web/sentinel/missions/sentinel-2" class="">Sentinel-2</a> is a multispectral satellite with 13 spectral bands, launched in 2016. We use the Red, Green and Blue bands to contruct a true colour image over the island of Vencie from August 2019 to August 2020.</p><p>This data is stored in the Sentinel Hub, for more infomation on the dataset and parameters visit the <a target="_blank" rel="noreferrer" href="https://docs.sentinel-hub.com/api/latest/data/sentinel-2-l1c/" class="">documentation.</a></p></div><div id="AdOBNneQWm" class="relative group/block"><p>First we define a bounding box for our area of intrest. An easy way to do this is using the <a target="_blank" rel="noreferrer" href="https://apps.sentinel-hub.com/requests-builder/" class="">SH Request Builder.</a></p></div><div id="QrwMoIFj7U" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># defining our bbox over the island of Venice

venice = [
  12.296613,
  45.411707,
  12.393469,
  45.469281
]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="U6HjbSvHq3Dy2dzSvGCp8" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="RJxfz9fp31" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">#Set the resolution and create a sentinel hub bbox and size object

resolution = 10
venice_bbox = BBox(bbox=venice, crs=CRS.WGS84)
venice_size = bbox_to_dimensions(venice_bbox, resolution=resolution)

print(f&#x27;Image shape at {resolution} m resolution: {venice_bbox} pixels&#x27;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="JI63LX9jQ4h91-qbbgMqO" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Image shape at 10 m resolution: 12.296613,45.411707,12.393469,45.469281 pixels
</span></code></pre></div><div><pre class="text-sm font-thin font-system"><code><span>/tmp/ipykernel_2519/289685052.py:7: SHDeprecationWarning: The string representation of `BBox` will change to match its `repr` representation.
  print(f&#x27;Image shape at {resolution} m resolution: {venice_bbox} pixels&#x27;)
</span></code></pre></div></div></div><div id="tpqOZyJJUA" class="relative group/block"><p>Below we use the <a target="_blank" rel="noreferrer" href="https://docs.sentinel-hub.com/api/latest/evalscript/v3/" class="">Evalscript</a> to define the metadata and preprocessing for RGB Sentinel-2 imagery from the Sentinelhub.</p></div><div id="oGhrJWeVja" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">evalscript_true_color = &quot;&quot;&quot;
    //VERSION=3

    function setup() {
        return {
            input: [{
                bands: [&quot;B02&quot;, &quot;B03&quot;, &quot;B04&quot;]
            }],
            output: {
                bands: 3
            }
        };
    }

    function evaluatePixel(sample) {
        return [2.5 * sample.B04, 2.5 * sample.B03, 2.5 * sample.B02];
    }
&quot;&quot;&quot;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="ToMq2L7zhszyH4nzAGlS8" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="cZfhfdC27N" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># We create a list of dates for retreiving multiple images

start = datetime.datetime(2019,8,1)
end = datetime.datetime(2020,8,1)
n_chunks =13
tdelta = (end - start) / n_chunks
edges = [(start + i*tdelta).date().isoformat() for i in range(n_chunks)]
slots = [(edges[i], edges[i+1]) for i in range(len(edges)-1)]

print(&#x27;Monthly time windows:\n&#x27;)
for slot in slots:
    print(slot)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="FkOH5P-vu8c-0Tqudy1sD" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Monthly time windows:

(&#x27;2019-08-01&#x27;, &#x27;2019-08-29&#x27;)
(&#x27;2019-08-29&#x27;, &#x27;2019-09-26&#x27;)
(&#x27;2019-09-26&#x27;, &#x27;2019-10-24&#x27;)
(&#x27;2019-10-24&#x27;, &#x27;2019-11-21&#x27;)
(&#x27;2019-11-21&#x27;, &#x27;2019-12-19&#x27;)
(&#x27;2019-12-19&#x27;, &#x27;2020-01-16&#x27;)
(&#x27;2020-01-16&#x27;, &#x27;2020-02-14&#x27;)
(&#x27;2020-02-14&#x27;, &#x27;2020-03-13&#x27;)
(&#x27;2020-03-13&#x27;, &#x27;2020-04-10&#x27;)
(&#x27;2020-04-10&#x27;, &#x27;2020-05-08&#x27;)
(&#x27;2020-05-08&#x27;, &#x27;2020-06-05&#x27;)
(&#x27;2020-06-05&#x27;, &#x27;2020-07-03&#x27;)
</span></code></pre></div></div></div><div id="kzUdvZa0LA" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># define the function to retreive the image
def get_true_color_request(time_interval):
    return SentinelHubRequest(
        evalscript=evalscript_true_color,
        input_data=[
            SentinelHubRequest.input_data(
                data_collection=DataCollection.SENTINEL2_L1C,
                time_interval=time_interval,
                mosaicking_order=&#x27;leastCC&#x27;
            )
        ],
        responses=[
            SentinelHubRequest.output_response(&#x27;default&#x27;, MimeType.PNG)
        ],
        bbox=venice_bbox,
        size=venice_size,
        config=config
    )</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="9IGAhAd1s84_uepFDJqqV" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="CnU64yQIcj" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># create a list of requests
list_of_requests = [get_true_color_request(slot) for slot in slots]
list_of_requests = [request.download_list[0] for request in list_of_requests]

# download data with multiple threads
data = SentinelHubDownloadClient(config=config).download(list_of_requests, max_threads=5)
# some stuff for pretty plots
ncols = 3
nrows = 4
aspect_ratio = venice_size[0] / venice_size[1]
subplot_kw = {&#x27;xticks&#x27;: [], &#x27;yticks&#x27;: [], &#x27;frame_on&#x27;: False}

fig, axs = plt.subplots(ncols=ncols, nrows=nrows, figsize=(5 * ncols * aspect_ratio, 5 * nrows),
                        subplot_kw=subplot_kw)

for idx, image in enumerate(data):
    ax = axs[idx // ncols][idx % ncols]
    ax.imshow(np.clip(image * 2.5/255, 0, 1))
    ax.set_title(f&#x27;{slots[idx][0]}  -  {slots[idx][1]}&#x27;, fontsize=10)

plt.tight_layout()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="_dkxzjPU0p4T9bUzHU6yH" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/notebooks_test/build/ae4eeb7ff2c8fafc87df150f1fe9681d.png" alt="&lt;Figure size 1900x2000 with 12 Axes&gt;"/></div></div><div id="h4Kwwe46JM" class="relative group/block"><h2 id="exercise" class="relative group"><span class="heading-text">EXERCISE</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#exercise" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Are you aware of the atmospheric correction effect on the image? To understand the impact on the true color images use SENTINEL2_L2A instead of SENTINEL2_L1C in the get true color request function</p></div><div id="oRiiPTFKUh" class="relative group/block"><p>From the images we can see a sharp reduction in the amount of boats which are travelling around the Island of Venice, and a corresponding impovement in the water quality.</p></div><div id="l7HA5qMuxT" class="relative group/block"><h2 id="requesting-water-quality-data-from-jaxa" class="relative group"><span class="heading-text">Requesting Water Quality Data from JAXA</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#requesting-water-quality-data-from-jaxa" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="lVghaF88zp" class="relative group/block"><p>In order to test our theory about the improved water quality we use JAXA water quality data, specifically <a target="_blank" rel="noreferrer" href="https://collections.eurodatacube.com/jaxa_wq_chla/" class="">water quality Chlorophyll-a weekly anomaly</a>.</p><p>As data is stored in the Sentinel Hub we use a similar syntax as above to retrieve the data but instead define the byoc code, stated in the documentation.</p><p>We will request this data using the Adriatic boundinbox.</p></div><div id="vxUl1KCEIo" class="relative group/block"><p>The following cell is reccomended to set the reference collection and the band to be used.</p></div><div id="er4gk8Zlpa" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">### Parameters for the scripts for retrieving images from SH
band = &quot;chla&quot;
collectionID = &quot;198aa13a-b0c0-4b78-8f69-e08fc58551a7&quot;
start_date = &quot;2020-03-15&quot;
end_date= &quot;2020-04-15&quot; </code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="5bQ4TlL6lfWS52KGij7dE" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="vzG1admghA" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">evalscript_jaxa = &quot;&quot;&quot;
    //VERSION=3
    function setup() {
      return {
        input: [&quot;%s&quot;],
        output: { bands: 1,
          sampleType: &quot;UINT8&quot; }
      };
    }
    function evaluatePixel(sample) {
        return [sample.%s];
    }
    &quot;&quot;&quot;%(band,band)
print(evalscript_jaxa)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="Vqcib3BlJkcsVCTkiaKk7" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>
    //VERSION=3
    function setup() {
      return {
        input: [&quot;chla&quot;],
        output: { bands: 1,
          sampleType: &quot;UINT8&quot; }
      };
    }
    function evaluatePixel(sample) {
        return [sample.chla];
    }
    
</span></code></pre></div></div></div><div id="tRt2ZJ9Lqj" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">#defining the request
request_jaxa = SentinelHubRequest(
    evalscript=evalscript_jaxa,
    input_data=[
        SentinelHubRequest.input_data(
            data_collection=DataCollection.define_byoc(collectionID),  #(&#x27;4f5f67f1-5715-4f2b-8c98-ae57948ee2f5&#x27;),
            time_interval=(start_date, end_date),
        )
    ],
    responses=[
        SentinelHubRequest.output_response(&#x27;default&#x27;, MimeType.PNG)
    ],
    bbox=adriatic_bbox,
    size=adriatic_size,
    config=config
)

jaxa = request_jaxa.get_data()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="ocupwYdgdrmJ9baQYN4OW" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="I0UEX8Lf4n" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># retreiving a single image
image = jaxa[0]
print(f&#x27;Image type: {image.dtype}&#x27;)

# plot function
plot_image(jaxa[0], factor=1 / 255)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="gXw044AOOMgfBPhMNqSRV" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Image type: uint8
</span></code></pre></div><img src="/notebooks_test/build/63c670974fe2537f3c1b21454ac48706.png" alt="&lt;Figure size 1500x1500 with 1 Axes&gt;"/></div></div><div id="N5ysOVqUJv" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">def get_water_quality_request(time_interval):
    return SentinelHubRequest(
        evalscript=evalscript_jaxa,
        input_data=[
            SentinelHubRequest.input_data(
                data_collection=DataCollection.define_byoc(collectionID),
                time_interval=time_interval
            )
        ],
        responses=[
            SentinelHubRequest.output_response(&#x27;default&#x27;, MimeType.PNG)
        ],
        bbox=adriatic_bbox,
        size=adriatic_size,
        config=config
    )</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="6Zu4z-3LIXlIhJQfOxmr-" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="o8NedidAtb" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># create a list of requests

import matplotlib
import matplotlib.pyplot as plt
from matplotlib.cm import coolwarm 

list_of_requests = [get_water_quality_request(slot) for slot in slots]
list_of_requests = [request.download_list[0] for request in list_of_requests]

# download data with multiple threads
data = SentinelHubDownloadClient(config=config).download(list_of_requests, max_threads=5)
# some stuff for pretty plots
ncols = 3
nrows = 4
aspect_ratio = venice_size[0] / venice_size[1]
subplot_kw = {&#x27;xticks&#x27;: [], &#x27;yticks&#x27;: [], &#x27;frame_on&#x27;: False}

fig, axs = plt.subplots(ncols=ncols, nrows=nrows, figsize=(5 * ncols * aspect_ratio, 5 * nrows),
                        subplot_kw=subplot_kw)

for idx, image in enumerate(data):
    ax = axs[idx // ncols][idx % ncols]
    ax.imshow(np.clip(image * 1/255, 0, 1))
    ax.set_title(f&#x27;{slots[idx][0]}  -  {slots[idx][1]}&#x27;, fontsize=10)
plt.tight_layout()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="kHvfbOy3sXjAZCnvn4UFU" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/notebooks_test/build/b0d2fb50aa0bbf3746738f18bf6188b4.png" alt="&lt;Figure size 1900x2000 with 12 Axes&gt;"/></div></div><div id="zbFdqJlKJZ" class="relative group/block"><p>The range lies from 0-1 (blue to yellow), 0 being no anomaly in chlorophyll-a and the 1 being high anomaly. From a first look at the images it is hard to make robust conclusions on the water quality. However the image retrieved over the period of the first lockdown does seem to have the lowest anomalies.</p></div><div id="INPa5Qj6vS" class="relative group/block"><h3 id="exercise-2-retrieving-water-quality-datasets-from-the-sentinelhub" class="relative group"><span class="heading-text">Exercise 2: Retrieving Water Quality Datasets from the SentinelHub</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#exercise-2-retrieving-water-quality-datasets-from-the-sentinelhub" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Search the edc collections and retrieve a different <a target="_blank" rel="noreferrer" href="https://collections.eurodatacube.com/" class="">water quality product.</a></p></div><div id="xGsBBr3prw" class="relative group/block"><p>Copy the above structure to access another water quality dataset, you will need to change some parameters.</p></div><div id="eXb4OehcBs" class="relative group/block"><h2 id="retrieving-water-quality-time-series-from-geodb" class="relative group"><span class="heading-text">Retrieving water quality time series from GeoDB</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#retrieving-water-quality-time-series-from-geodb" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="FpvUQ1hIlo" class="relative group/block"><p>On EO Dahboard we also have access to Chlorophyll a and Total Suspended Sediments time sereis data on a number of locations, including Venice.
You can inspect these time series on the dashboard at: <a target="_blank" rel="noreferrer" href="https://eodashboard.org/explore?indicator=N3b" class="">https://<wbr/>eodashboard<wbr/>.org<wbr/>/explore<wbr/>?indicator<wbr/>=<wbr/>N3b</a></p><p>For Venice, the time series is available here: <a target="_blank" rel="noreferrer" href="https://eodashboard.org/explore?indicator=N3b&amp;poi=IT6-N3b" class="">https://<wbr/>eodashboard<wbr/>.org<wbr/>/explore<wbr/>?indicator<wbr/>=<wbr/>N3b<wbr/>&amp;<wbr/>poi<wbr/>=<wbr/>IT6<wbr/>-N3b</a></p><p>The displayed time series show weekly Chl concentration anomalies (%) as calculated from Sentinel-3 (purple), MODIS (blue) and GCOM-C(light blue) around the Alta Aqua Oceanographic Tower (AAOT at 45.30 N, 12.50 E) in the North Adriatic Sea, the Mediterranean sub-basin most influenced by river runoff, in particular by the Po River, which is the largest river in Italy and which runs along many different industrialized areas.</p><p>On EO Dashboard we can see that the measurements from the three sensors on Sentinel3, MODIS and GCOM-C are in agreement.</p><p>We could go a bit deeper in the analysis if we only focus on the Sentinel3 data, where we have access to the same time series but compared to the climatology. This graph is not available on EO Dashboard, but we can visualise it on The RACE platform.
This data is stored in the EuroDataCube GeoDB.</p><p>(For a complete overview of where the data is available please use the DataAccess.jpynb).</p><p><a target="_blank" rel="noreferrer" href="https://race.esa.int/?indicator=N3&amp;poi=IT6-N3" class="">https://<wbr/>race<wbr/>.esa<wbr/>.int<wbr/>/<wbr/>?indicator<wbr/>=<wbr/>N3<wbr/>&amp;<wbr/>poi<wbr/>=<wbr/>IT6<wbr/>-N3</a></p></div><div id="AgApjJAcpl" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">geodb_database = &quot;eodash&quot;
geodb_collection = &quot;N3&quot;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="GDGu-sERXVDMP9O4Rs9QD" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="bQA3U1fbKO" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">data = geodb.get_collection(collection=geodb_collection, database=geodb_database)
data.head()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="kXDJsIiUrjvDcIRr_jxkw" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="ACRQqUwoyH" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># display the locations of the data
cities = geodb.get_collection_pg(geodb_collection, database=geodb_database, group=&#x27;city, geometry&#x27;, select=&#x27;city, geometry&#x27;)

features = json.loads(cities.to_json())

IPython.display.GeoJSON(features)
    </code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="v3MoNF5DdGjRMVL5UH6KD" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="PAumHXSXGv" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">def plot_city(city=cities.city[0]):
    #A bit hidden in this function lies the query against the RACE collection of interest.
    gdf = geodb.get_collection(geodb_collection, database=geodb_database, query=f&quot;city=eq.{city}&quot;)
    
    # A bit if data cleaning to get this working as None values are given as &#x27;/&#x27;
    gdf = gdf.drop(gdf[gdf.indicator_value == &quot;/&quot;].index)
    
    indicator_values = geodb.get_collection_pg(geodb_collection, database=geodb_database, group=&#x27;indicator_value&#x27;, select=&#x27;indicator_value&#x27;)
    
    # A bit if data cleaning to get this working as None values are given as &#x27;/&#x27;
    indicator_values = indicator_values.drop(indicator_values[indicator_values.indicator_value == &quot;/&quot;].index)
    
    gdf[&#x27;time&#x27;] = pd.to_datetime(gdf.time)
    gdf[&#x27;measurement_value&#x27;]  = gdf.measurement_value.astype(float)
    source = ColumnDataSource(data=dict(time=gdf.time, measurement_value=gdf.measurement_value, indicator_value=gdf.indicator_value))
    
    p = figure(x_axis_type=&#x27;datetime&#x27;, width=800)
    p.title.text = geodb_collection + &quot; in &quot; +  city
    p.title.align = &quot;center&quot;
    p.title.text_font_size = &quot;25px&quot;

    p.vbar(x=&#x27;time&#x27;, top=&#x27;measurement_value&#x27;, legend_field=&quot;indicator_value&quot;, line_width=2, fill_color=factor_cmap(&#x27;indicator_value&#x27;, palette=Spectral3, factors=indicator_values.indicator_value), line_color=factor_cmap(&#x27;indicator_value&#x27;, palette=Spectral3, factors=indicator_values.indicator_value), source=source)

    show(p)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="yWylv66Qtf_Dby3TnjrH8" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="k1eFA8FYIv" class="relative group/block"><p>Now we plot the cities with insitu water quality timeseries for the Venice lagoon.</p></div><div id="TFRnYIB2ku" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Generate a unique list of cities
output_notebook()
cities = geodb.get_collection_pg(geodb_collection, database=geodb_database, group=&#x27;city&#x27;, select=&#x27;city&#x27;)

interact(plot_city, city=cities.city[0]);</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="gaQ_cXi7uxBtfo6tcU7r6" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="oHFYgBOzRN" class="relative group/block"><h3 id="exercise-3" class="relative group"><span class="heading-text">Exercise 3</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#exercise-3" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Can you make some conclusions from the time series? This event has been studied at length in the literature, this <a target="_blank" rel="noreferrer" href="https://www.sciencedirect.com/science/article/pii/S0048969722000912" class="">paper</a> can be a starting point for some ideas on how to improve the method.</p><p>There could be another reason for the change in water quality in the region, the largest river in Italy is located just below Venice. Can you preform some anaylsis to investigate this further?</p></div><div></div></main></article><script>((a,d)=>{if(!window.history.state||!window.history.state.key){let h=Math.random().toString(32).slice(2);window.history.replaceState({key:h},"")}try{let f=JSON.parse(sessionStorage.getItem(a)||"{}")[d||window.history.state.key];typeof f=="number"&&window.scrollTo(0,f)}catch(h){console.error(h),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/notebooks_test/build/entry.client-UNPC4GT3.js"/><link rel="modulepreload" href="/notebooks_test/build/_shared/chunk-OCTKKCIL.js"/><link rel="modulepreload" href="/notebooks_test/build/_shared/chunk-UAI5KRM7.js"/><link rel="modulepreload" href="/notebooks_test/build/_shared/chunk-2NH4LW52.js"/><link rel="modulepreload" href="/notebooks_test/build/_shared/chunk-IZFMW3M4.js"/><link rel="modulepreload" href="/notebooks_test/build/_shared/chunk-HBJK6BW3.js"/><link rel="modulepreload" href="/notebooks_test/build/_shared/chunk-HYMQ7M2K.js"/><link rel="modulepreload" href="/notebooks_test/build/_shared/chunk-OHOXABTA.js"/><link rel="modulepreload" href="/notebooks_test/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/notebooks_test/build/_shared/chunk-CPTH56EW.js"/><link rel="modulepreload" href="/notebooks_test/build/_shared/chunk-3CVK3PYF.js"/><link rel="modulepreload" href="/notebooks_test/build/_shared/chunk-J6FHCSRC.js"/><link rel="modulepreload" href="/notebooks_test/build/_shared/chunk-S4SWV34C.js"/><link rel="modulepreload" href="/notebooks_test/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/notebooks_test/build/root-QGLRP2PL.js"/><link rel="modulepreload" href="/notebooks_test/build/_shared/chunk-CB3BH7WY.js"/><link rel="modulepreload" href="/notebooks_test/build/routes/$-7JYT5576.js"/><script>window.__remixContext = {"url":"/external-notebooks/eurodatacube/notebooks/notebooks/contributions/igarss2022/igarss-22-lockdown-in-venice","state":{"loaderData":{"root":{"config":{"version":1,"myst":"1.3.25","options":{"hide_toc":true,"hide_footer_links":true,"folders":true},"nav":[],"actions":[],"projects":[{"github":"https://github.com/eoxhub-workspaces/documentation/","id":"5aa0318b-5bc1-41e2-b1d4-053e8b61961b","exports":[],"bibliography":[],"title":"Location for eodashboard notebooks","index":"readme","pages":[{"title":"External Notebooks","level":1},{"title":"Eurodatacube","level":2},{"title":"Notebooks","level":3},{"slug":"external-notebooks.eurodatacube.notebooks.readme","title":"Jupyter notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Notebooks","level":4},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.readme","title":"Euro Data Cube Notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Contributions","level":5},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-ai4arctic-sea-ice","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-biomass-forest-observation-sys","title":"AIREO pilot dataset - Biomass (Forest Observation System)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-cap","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-spacenet7","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aot-covid19","title":"Aerosol Optical Thickness (AOT) Anomaly Detection Using Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.batch-zarr-output","title":"Generating Zarr data cubes with Sentinel Hub Batch API","description":"","date":"","thumbnail":"/notebooks_test/build/68dffbf744fa42f4bf3d35e55684984e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.client-side-processing-using-mass-sh","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.cmems-data-download","title":"Cmems Data Download","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.detect-trucks-sentinel2","title":"Detect Trucks using Sentinel-2 data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.drought-monitoring","title":"Drought impact monitoring platform","description":"","date":"","thumbnail":"/notebooks_test/build/ad5c19782b006f72352ae57794305840.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-africa-cube-africa-custom-contest","title":"Custom Script Contest – Urban Growth in Africa","description":"","date":"","thumbnail":"/notebooks_test/build/e9275f3fe80a704e2f5aa1ec1220e48a.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-byoc-tutorial","title":"How to bring your own data to EDC: Using Sentinel Hub Python package","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-demo-phi-week-v2","title":"xcube-gen and xcube-geodb Hands-On Workshop Φ-Week 2020","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-geodb-4-eurocrops-demo","title":"Demonstration of Eurocrops data use in geoDB","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-notebook-lstm","title":"South Africa Crop Type Classification on Euro Data Cube (EDC)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-usecase-lpis-crop-type-classification","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.eurocrops-crop-classification-example","title":"Crop-classification using Sentinel-2 time-series","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.ghsl-urban-delineation","title":"\u003cb\u003eUrban delineation\u003cb\u003e","description":"","date":"","thumbnail":"/notebooks_test/build/7bbf545a5eae1d9ebdb91ae42b261063.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.globalearthmonitor-example","title":"Pre-requisites","description":"","date":"","thumbnail":"/notebooks_test/build/205c1ded6bd59771975a9fbd3753fd3b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.gpu-support-eoxhub","title":"GPU-Support on EOxHub","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.gran-chaco-phiweek","title":"ESA EO \\phi- week 2020","description":"","date":"","thumbnail":"/notebooks_test/build/80cee7db6cdc7002ceedda5689f889fa.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.howtolulc-batch-updated-210621","title":"How To: Land-Use-Land-Cover Prediction for Slovenia - using the Batch Processing API","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.lpis-lulc-slo","title":"LPIS Use Case for Land Use / Land Cover Classification","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.lps2022-leverage-euro-data-cube-services","title":"Living Planet Symposium 2022 Training Session","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.no2-analysis-covid19-lockdowns","title":"Impact of Covid19 induced lockdown on NO2 levels","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.no2-so2-trend-veda-api-igarss-2023","title":"Using the NASA VEDA EOAPI","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.ogc-edc","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.openeo-client-demo","title":"openEO Client Demo","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.race-finishedgoodsinventory-inidcator","title":"Finished Goods Inventory indicator for RACE","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.third-party-planetscope","title":"Third Party Data Import - PlanetScope","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.xcube-access-datasets","title":"Using xcube to access non-commercial and commercial data sets","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.xcube-viewer-as-a-service-in-edc1","title":"Visualizing data with xcube viewer in EuroDataCube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-evaluation-workshop","title":"DAPA Evaluation Workshop: Introduction \u0026 Documentation","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-1-cube-sentinel-2","title":"DAPA Tutorial #1: Cube - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-2-area-sentinel-2","title":"DAPA Tutorial #2: Area - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-3-timeseries-sentinel-2","title":"DAPA Tutorial #3: Timeseries - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-4-value-sentinel-2","title":"DAPA Tutorial #4: Value - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-5-dem","title":"DAPA Tutorial #5: DEM","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.fairicube.fairicube-data-access-demonstration","title":"EDC Sentinel Hub - data access using xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-australian-bushfires","title":"Australian Bushfires","description":"","date":"","thumbnail":"/notebooks_test/build/ab194b4f8c40a2b9d64d8a85e37ce1fd.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["IGARSS-22","EO Dashboard"],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-data-access","title":"Data Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-detect-trucks-sentinel2","title":"Truck Detection Exercise","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-lockdown-in-venice","title":"Environmental Impacts of Lockdown in Venice, Italy during 2020","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-nasa-api-lockdown-in-venice","title":"Lockdown in Venice","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-no2-timeseries-analysis","title":"NO2 timeseries analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-timeseries-stac-api-single-vs-multi","title":"Time series using STAC API statistics endpoints","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Curated","level":5},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.access-iacs-data","title":"How to access IACS Spatial Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-access-cci-data","title":"Access CCI data with xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-first-steps","title":"First steps on the Euro Data Cube platform","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-1-manage-datasets-v11","title":"Manage Collections in your GeoDB","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-2-explore-datasets-2","title":"Exploring Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-3-share-datasets1","title":"Sharing Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-access-urban-atlas-data-v1","title":"[xcube-geodb] How to accesss EEA Urban Atlas Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-data-access","title":"EDC Sentinel Hub - data access using xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinelhub-datafusion-basic","title":"EDC Sentinel Hub: Data Fusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinelhub-datafusion-ndvi","title":"EDC Sentinel Hub: Data Fusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-datasets","title":"EDC Sentinel Hub - using xcube to access different data sets in Sentinel Hub","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-setup","title":"Setup for EDC core API access using xcube client library","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-xcube-integration","title":"EDC Sentinel Hub - XCUBE integration","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-usecase-ndvi-timeline","title":"NDVI timeline","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.eo-learn","title":"Using eo-learn in EDC: a starter’s guide.","description":"","date":"","thumbnail":"/notebooks_test/build/5a1f8475f0c3652f4630d03d72891b98.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.esdl-edc-v0-2","title":"Earth System Data Lab Tutorial @ Euro Data Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.exploring-time-and-space-with-edc","title":"Exploring Time and Space: A guide to accessing, analysing and visualising data in the Euro Data Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.how-to-access-dem-data-through-sentinel-hub-api","title":"How to access DEM data through Sentinel Hub API","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.sentinelhub-py","title":"Using Sentinel Hub Process API in EDC: a starter’s guide.","description":"","date":"","thumbnail":"/notebooks_test/build/01e22903839391bc356ac886ec2b2fa7.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Notebooks","level":1},{"slug":"notebooks.example1","title":"📘 Example Notebook 1","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.example2","title":"📘 Example Notebook 2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static","BASE_URL":"/notebooks_test"},"routes/$":{"config":{"version":1,"myst":"1.3.25","options":{"hide_toc":true,"hide_footer_links":true,"folders":true},"nav":[],"actions":[],"projects":[{"github":"https://github.com/eoxhub-workspaces/documentation/","id":"5aa0318b-5bc1-41e2-b1d4-053e8b61961b","exports":[],"bibliography":[],"title":"Location for eodashboard notebooks","index":"readme","pages":[{"title":"External Notebooks","level":1},{"title":"Eurodatacube","level":2},{"title":"Notebooks","level":3},{"slug":"external-notebooks.eurodatacube.notebooks.readme","title":"Jupyter notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Notebooks","level":4},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.readme","title":"Euro Data Cube Notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Contributions","level":5},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-ai4arctic-sea-ice","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-biomass-forest-observation-sys","title":"AIREO pilot dataset - Biomass (Forest Observation System)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-cap","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-spacenet7","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aot-covid19","title":"Aerosol Optical Thickness (AOT) Anomaly Detection Using Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.batch-zarr-output","title":"Generating Zarr data cubes with Sentinel Hub Batch API","description":"","date":"","thumbnail":"/notebooks_test/build/68dffbf744fa42f4bf3d35e55684984e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.client-side-processing-using-mass-sh","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.cmems-data-download","title":"Cmems Data Download","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.detect-trucks-sentinel2","title":"Detect Trucks using Sentinel-2 data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.drought-monitoring","title":"Drought impact monitoring platform","description":"","date":"","thumbnail":"/notebooks_test/build/ad5c19782b006f72352ae57794305840.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-africa-cube-africa-custom-contest","title":"Custom Script Contest – Urban Growth in Africa","description":"","date":"","thumbnail":"/notebooks_test/build/e9275f3fe80a704e2f5aa1ec1220e48a.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-byoc-tutorial","title":"How to bring your own data to EDC: Using Sentinel Hub Python package","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-demo-phi-week-v2","title":"xcube-gen and xcube-geodb Hands-On Workshop Φ-Week 2020","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-geodb-4-eurocrops-demo","title":"Demonstration of Eurocrops data use in geoDB","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-notebook-lstm","title":"South Africa Crop Type Classification on Euro Data Cube (EDC)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-usecase-lpis-crop-type-classification","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.eurocrops-crop-classification-example","title":"Crop-classification using Sentinel-2 time-series","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.ghsl-urban-delineation","title":"\u003cb\u003eUrban delineation\u003cb\u003e","description":"","date":"","thumbnail":"/notebooks_test/build/7bbf545a5eae1d9ebdb91ae42b261063.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.globalearthmonitor-example","title":"Pre-requisites","description":"","date":"","thumbnail":"/notebooks_test/build/205c1ded6bd59771975a9fbd3753fd3b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.gpu-support-eoxhub","title":"GPU-Support on EOxHub","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.gran-chaco-phiweek","title":"ESA EO \\phi- week 2020","description":"","date":"","thumbnail":"/notebooks_test/build/80cee7db6cdc7002ceedda5689f889fa.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.howtolulc-batch-updated-210621","title":"How To: Land-Use-Land-Cover Prediction for Slovenia - using the Batch Processing API","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.lpis-lulc-slo","title":"LPIS Use Case for Land Use / Land Cover Classification","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.lps2022-leverage-euro-data-cube-services","title":"Living Planet Symposium 2022 Training Session","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.no2-analysis-covid19-lockdowns","title":"Impact of Covid19 induced lockdown on NO2 levels","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.no2-so2-trend-veda-api-igarss-2023","title":"Using the NASA VEDA EOAPI","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.ogc-edc","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.openeo-client-demo","title":"openEO Client Demo","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.race-finishedgoodsinventory-inidcator","title":"Finished Goods Inventory indicator for RACE","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.third-party-planetscope","title":"Third Party Data Import - PlanetScope","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.xcube-access-datasets","title":"Using xcube to access non-commercial and commercial data sets","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.xcube-viewer-as-a-service-in-edc1","title":"Visualizing data with xcube viewer in EuroDataCube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-evaluation-workshop","title":"DAPA Evaluation Workshop: Introduction \u0026 Documentation","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-1-cube-sentinel-2","title":"DAPA Tutorial #1: Cube - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-2-area-sentinel-2","title":"DAPA Tutorial #2: Area - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-3-timeseries-sentinel-2","title":"DAPA Tutorial #3: Timeseries - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-4-value-sentinel-2","title":"DAPA Tutorial #4: Value - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-5-dem","title":"DAPA Tutorial #5: DEM","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.fairicube.fairicube-data-access-demonstration","title":"EDC Sentinel Hub - data access using xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-australian-bushfires","title":"Australian Bushfires","description":"","date":"","thumbnail":"/notebooks_test/build/ab194b4f8c40a2b9d64d8a85e37ce1fd.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["IGARSS-22","EO Dashboard"],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-data-access","title":"Data Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-detect-trucks-sentinel2","title":"Truck Detection Exercise","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-lockdown-in-venice","title":"Environmental Impacts of Lockdown in Venice, Italy during 2020","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-nasa-api-lockdown-in-venice","title":"Lockdown in Venice","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-no2-timeseries-analysis","title":"NO2 timeseries analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-timeseries-stac-api-single-vs-multi","title":"Time series using STAC API statistics endpoints","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Curated","level":5},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.access-iacs-data","title":"How to access IACS Spatial Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-access-cci-data","title":"Access CCI data with xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-first-steps","title":"First steps on the Euro Data Cube platform","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-1-manage-datasets-v11","title":"Manage Collections in your GeoDB","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-2-explore-datasets-2","title":"Exploring Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-3-share-datasets1","title":"Sharing Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-access-urban-atlas-data-v1","title":"[xcube-geodb] How to accesss EEA Urban Atlas Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-data-access","title":"EDC Sentinel Hub - data access using xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinelhub-datafusion-basic","title":"EDC Sentinel Hub: Data Fusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinelhub-datafusion-ndvi","title":"EDC Sentinel Hub: Data Fusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-datasets","title":"EDC Sentinel Hub - using xcube to access different data sets in Sentinel Hub","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-setup","title":"Setup for EDC core API access using xcube client library","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-xcube-integration","title":"EDC Sentinel Hub - XCUBE integration","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-usecase-ndvi-timeline","title":"NDVI timeline","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.eo-learn","title":"Using eo-learn in EDC: a starter’s guide.","description":"","date":"","thumbnail":"/notebooks_test/build/5a1f8475f0c3652f4630d03d72891b98.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.esdl-edc-v0-2","title":"Earth System Data Lab Tutorial @ Euro Data Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.exploring-time-and-space-with-edc","title":"Exploring Time and Space: A guide to accessing, analysing and visualising data in the Euro Data Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.how-to-access-dem-data-through-sentinel-hub-api","title":"How to access DEM data through Sentinel Hub API","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.sentinelhub-py","title":"Using Sentinel Hub Process API in EDC: a starter’s guide.","description":"","date":"","thumbnail":"/notebooks_test/build/01e22903839391bc356ac886ec2b2fa7.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Notebooks","level":1},{"slug":"notebooks.example1","title":"📘 Example Notebook 1","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.example2","title":"📘 Example Notebook 2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"page":{"version":1,"kind":"Notebook","sha256":"9a136c8bbe72206165f7a5fd824930dfb37ddba569a1f1bd39f1c7132abda0e3","slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-lockdown-in-venice","location":"/external_notebooks/eurodatacube/notebooks/notebooks/contributions/IGARSS2022/IGARSS-22_Lockdown_in_Venice.ipynb","dependencies":[],"frontmatter":{"title":"Environmental Impacts of Lockdown in Venice, Italy during 2020","content_includes_title":true,"kernelspec":{"name":"conda-env-edc-default-2022.07-00-py","display_name":"python3 (edc-default-2022.07-00)","language":"python"},"github":"https://github.com/eoxhub-workspaces/documentation/","numbering":{"title":{"offset":5}},"edit_url":"https://github.com/eoxhub-workspaces/documentation//blob/main/external_notebooks/eurodatacube/notebooks/notebooks/contributions/IGARSS2022/IGARSS-22_Lockdown_in_Venice.ipynb","exports":[{"format":"ipynb","filename":"IGARSS-22_Lockdown_in_Venice.ipynb","url":"/notebooks_test/build/IGARSS-22_Lockdown_i-8ae2f6637b245aec6c466738b6af2f7c.ipynb"}]},"widgets":{"application/vnd.jupyter.widget-state+json":{"state":{"0fb8139e441c4c4492b5fe9ea450d5e9":{"model_module":"jupyter-leaflet","model_module_version":"^0.17","model_name":"LeafletSplitMapControlModel","state":{"_model_module":"jupyter-leaflet","_model_module_version":"^0.17","_model_name":"LeafletSplitMapControlModel","_view_count":null,"_view_module":"jupyter-leaflet","_view_module_version":"^0.17","_view_name":"LeafletSplitMapControlView","left_layer":"IPY_MODEL_53dbed71f0214728b307d21ac340e880","options":["position"],"position":"topleft","right_layer":"IPY_MODEL_b78b1d47a72343f8911f434a05817d35"}},"112b0453a73b4855948e3f1d8313c705":{"model_module":"jupyter-leaflet","model_module_version":"^0.17","model_name":"LeafletZoomControlModel","state":{"_model_module":"jupyter-leaflet","_model_module_version":"^0.17","_model_name":"LeafletZoomControlModel","_view_count":null,"_view_module":"jupyter-leaflet","_view_module_version":"^0.17","_view_name":"LeafletZoomControlView","options":["position","zoom_in_text","zoom_in_title","zoom_out_text","zoom_out_title"],"position":"topleft","zoom_in_text":"+","zoom_in_title":"Zoom in","zoom_out_text":"-","zoom_out_title":"Zoom out"}},"209e60efc97f4ba88d169598d130ae20":{"model_module":"@jupyter-widgets/base","model_module_version":"2.0.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"2.0.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"2.0.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border_bottom":null,"border_left":null,"border_right":null,"border_top":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"224339cdebbe417a88e9864419c2613d":{"model_module":"@jupyter-widgets/base","model_module_version":"2.0.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"2.0.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"2.0.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border_bottom":null,"border_left":null,"border_right":null,"border_top":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"27f10d097e864e3dab4fb7c59b8472b5":{"model_module":"@jupyter-widgets/controls","model_module_version":"2.0.0","model_name":"TextModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"2.0.0","_model_name":"TextModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"2.0.0","_view_name":"TextView","continuous_update":true,"description":"city","description_allow_html":false,"disabled":false,"layout":"IPY_MODEL_224339cdebbe417a88e9864419c2613d","placeholder":"​","style":"IPY_MODEL_8a2b4f4267d34539924d05f4b8417c46","tabbable":null,"tooltip":null,"value":"Venice Lagoon"}},"3d955379a017496d83a8a6aed5da93f7":{"model_module":"@jupyter-widgets/base","model_module_version":"2.0.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"2.0.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"2.0.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border_bottom":null,"border_left":null,"border_right":null,"border_top":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"4b9b75ac4e6e413ea35c5cfa2e7977d3":{"model_module":"jupyter-leaflet","model_module_version":"^0.17","model_name":"LeafletMapStyleModel","state":{"_model_module":"jupyter-leaflet","_model_module_version":"^0.17","_model_name":"LeafletMapStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"2.0.0","_view_name":"StyleView","cursor":"grab"}},"527f01baf3cc437fa5a2a34ad60b4192":{"model_module":"@jupyter-widgets/output","model_module_version":"1.0.0","model_name":"OutputModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/output","_model_module_version":"1.0.0","_model_name":"OutputModel","_view_count":null,"_view_module":"@jupyter-widgets/output","_view_module_version":"1.0.0","_view_name":"OutputView","layout":"IPY_MODEL_f312c99cc9554adf8eabb6c8483d4e36","msg_id":"","outputs":[{"data":{"text/html":"\n  \u003cdiv class=\"bk-root\" id=\"d0cb0322-1f4a-4bfb-8887-ef37528f87b8\" data-root-id=\"1004\"\u003e\u003c/div\u003e\n"},"metadata":{},"output_type":"display_data"},{"data":{"application/javascript":"(function(root) {\n  function embed_document(root) {\n  const docs_json = {\"e1ff4190-4b76-4501-82f9-3e2784016e6d\":{\"defs\":[],\"roots\":{\"references\":[{\"attributes\":{\"below\":[{\"id\":\"1013\"}],\"center\":[{\"id\":\"1016\"},{\"id\":\"1020\"},{\"id\":\"1069\"}],\"left\":[{\"id\":\"1017\"}],\"renderers\":[{\"id\":\"1044\"}],\"title\":{\"id\":\"1035\"},\"toolbar\":{\"id\":\"1028\"},\"width\":800,\"x_range\":{\"id\":\"1005\"},\"x_scale\":{\"id\":\"1009\"},\"y_range\":{\"id\":\"1007\"},\"y_scale\":{\"id\":\"1011\"}},\"id\":\"1004\",\"subtype\":\"Figure\",\"type\":\"Plot\"},{\"attributes\":{\"bottom_units\":\"screen\",\"coordinates\":null,\"fill_alpha\":0.5,\"fill_color\":\"lightgrey\",\"group\":null,\"left_units\":\"screen\",\"level\":\"overlay\",\"line_alpha\":1.0,\"line_color\":\"black\",\"line_dash\":[4,4],\"line_width\":2,\"right_units\":\"screen\",\"syncable\":false,\"top_units\":\"screen\"},\"id\":\"1027\",\"type\":\"BoxAnnotation\"},{\"attributes\":{\"fill_color\":{\"field\":\"indicator_value\",\"transform\":{\"id\":\"1038\"}},\"line_color\":{\"field\":\"indicator_value\",\"transform\":{\"id\":\"1039\"}},\"line_width\":{\"value\":2},\"top\":{\"field\":\"measurement_value\"},\"x\":{\"field\":\"time\"}},\"id\":\"1041\",\"type\":\"VBar\"},{\"attributes\":{\"fill_alpha\":{\"value\":0.2},\"fill_color\":{\"field\":\"indicator_value\",\"transform\":{\"id\":\"1038\"}},\"hatch_alpha\":{\"value\":0.2},\"line_alpha\":{\"value\":0.2},\"line_color\":{\"field\":\"indicator_value\",\"transform\":{\"id\":\"1039\"}},\"line_width\":{\"value\":2},\"top\":{\"field\":\"measurement_value\"},\"x\":{\"field\":\"time\"}},\"id\":\"1043\",\"type\":\"VBar\"},{\"attributes\":{},\"id\":\"1009\",\"type\":\"LinearScale\"},{\"attributes\":{},\"id\":\"1025\",\"type\":\"ResetTool\"},{\"attributes\":{},\"id\":\"1018\",\"type\":\"BasicTicker\"},{\"attributes\":{},\"id\":\"1022\",\"type\":\"WheelZoomTool\"},{\"attributes\":{\"label\":{\"field\":\"indicator_value\"},\"renderers\":[{\"id\":\"1044\"}]},\"id\":\"1070\",\"type\":\"LegendItem\"},{\"attributes\":{\"coordinates\":null,\"data_source\":{\"id\":\"1003\"},\"glyph\":{\"id\":\"1041\"},\"group\":null,\"hover_glyph\":null,\"muted_glyph\":{\"id\":\"1043\"},\"nonselection_glyph\":{\"id\":\"1042\"},\"view\":{\"id\":\"1045\"}},\"id\":\"1044\",\"type\":\"GlyphRenderer\"},{\"attributes\":{\"base\":24,\"mantissas\":[1,2,4,6,8,12],\"max_interval\":43200000.0,\"min_interval\":3600000.0,\"num_minor_ticks\":0},\"id\":\"1059\",\"type\":\"AdaptiveTicker\"},{\"attributes\":{\"factors\":[\"NORMAL\",\"HIGH\",\"LOW\"],\"palette\":[\"#99d594\",\"#ffffbf\",\"#fc8d59\"]},\"id\":\"1038\",\"type\":\"CategoricalColorMapper\"},{\"attributes\":{\"source\":{\"id\":\"1003\"}},\"id\":\"1045\",\"type\":\"CDSView\"},{\"attributes\":{\"months\":[0,6]},\"id\":\"1067\",\"type\":\"MonthsTicker\"},{\"attributes\":{},\"id\":\"1050\",\"type\":\"AllLabels\"},{\"attributes\":{\"base\":60,\"mantissas\":[1,2,5,10,15,20,30],\"max_interval\":1800000.0,\"min_interval\":1000.0,\"num_minor_ticks\":0},\"id\":\"1058\",\"type\":\"AdaptiveTicker\"},{\"attributes\":{\"coordinates\":null,\"formatter\":{\"id\":\"1052\"},\"group\":null,\"major_label_policy\":{\"id\":\"1053\"},\"ticker\":{\"id\":\"1014\"}},\"id\":\"1013\",\"type\":\"DatetimeAxis\"},{\"attributes\":{},\"id\":\"1026\",\"type\":\"HelpTool\"},{\"attributes\":{},\"id\":\"1053\",\"type\":\"AllLabels\"},{\"attributes\":{\"days\":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]},\"id\":\"1060\",\"type\":\"DaysTicker\"},{\"attributes\":{\"overlay\":{\"id\":\"1027\"}},\"id\":\"1023\",\"type\":\"BoxZoomTool\"},{\"attributes\":{\"days\":[1,8,15,22]},\"id\":\"1062\",\"type\":\"DaysTicker\"},{\"attributes\":{},\"id\":\"1054\",\"type\":\"UnionRenderers\"},{\"attributes\":{\"months\":[0,4,8]},\"id\":\"1066\",\"type\":\"MonthsTicker\"},{\"attributes\":{\"axis\":{\"id\":\"1017\"},\"coordinates\":null,\"dimension\":1,\"group\":null,\"ticker\":null},\"id\":\"1020\",\"type\":\"Grid\"},{\"attributes\":{},\"id\":\"1024\",\"type\":\"SaveTool\"},{\"attributes\":{\"num_minor_ticks\":5,\"tickers\":[{\"id\":\"1057\"},{\"id\":\"1058\"},{\"id\":\"1059\"},{\"id\":\"1060\"},{\"id\":\"1061\"},{\"id\":\"1062\"},{\"id\":\"1063\"},{\"id\":\"1064\"},{\"id\":\"1065\"},{\"id\":\"1066\"},{\"id\":\"1067\"},{\"id\":\"1068\"}]},\"id\":\"1014\",\"type\":\"DatetimeTicker\"},{\"attributes\":{},\"id\":\"1068\",\"type\":\"YearsTicker\"},{\"attributes\":{\"fill_alpha\":{\"value\":0.1},\"fill_color\":{\"field\":\"indicator_value\",\"transform\":{\"id\":\"1038\"}},\"hatch_alpha\":{\"value\":0.1},\"line_alpha\":{\"value\":0.1},\"line_color\":{\"field\":\"indicator_value\",\"transform\":{\"id\":\"1039\"}},\"line_width\":{\"value\":2},\"top\":{\"field\":\"measurement_value\"},\"x\":{\"field\":\"time\"}},\"id\":\"1042\",\"type\":\"VBar\"},{\"attributes\":{},\"id\":\"1005\",\"type\":\"DataRange1d\"},{\"attributes\":{\"mantissas\":[1,2,5],\"max_interval\":500.0,\"num_minor_ticks\":0},\"id\":\"1057\",\"type\":\"AdaptiveTicker\"},{\"attributes\":{},\"id\":\"1021\",\"type\":\"PanTool\"},{\"attributes\":{},\"id\":\"1052\",\"type\":\"DatetimeTickFormatter\"},{\"attributes\":{\"coordinates\":null,\"formatter\":{\"id\":\"1049\"},\"group\":null,\"major_label_policy\":{\"id\":\"1050\"},\"ticker\":{\"id\":\"1018\"}},\"id\":\"1017\",\"type\":\"LinearAxis\"},{\"attributes\":{\"days\":[1,4,7,10,13,16,19,22,25,28]},\"id\":\"1061\",\"type\":\"DaysTicker\"},{\"attributes\":{\"coordinates\":null,\"group\":null,\"items\":[{\"id\":\"1070\"}]},\"id\":\"1069\",\"type\":\"Legend\"},{\"attributes\":{\"axis\":{\"id\":\"1013\"},\"coordinates\":null,\"group\":null,\"ticker\":null},\"id\":\"1016\",\"type\":\"Grid\"},{\"attributes\":{\"days\":[1,15]},\"id\":\"1063\",\"type\":\"DaysTicker\"},{\"attributes\":{\"months\":[0,2,4,6,8,10]},\"id\":\"1065\",\"type\":\"MonthsTicker\"},{\"attributes\":{\"data\":{\"indicator_value\":[\"NORMAL\",\"LOW\",\"LOW\",\"NORMAL\",\"NORMAL\",\"LOW\",\"NORMAL\",\"NORMAL\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"NORMAL\",\"HIGH\",\"NORMAL\",\"NORMAL\",\"HIGH\",\"NORMAL\",\"HIGH\",\"NORMAL\",\"LOW\",\"LOW\",\"LOW\",\"NORMAL\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"NORMAL\",\"LOW\",\"LOW\",\"LOW\",\"NORMAL\",\"NORMAL\",\"HIGH\",\"LOW\",\"NORMAL\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"NORMAL\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"HIGH\",\"NORMAL\",\"LOW\",\"HIGH\",\"HIGH\",\"HIGH\",\"LOW\",\"NORMAL\",\"LOW\",\"HIGH\",\"HIGH\",\"NORMAL\",\"NORMAL\",\"NORMAL\",\"HIGH\",\"NORMAL\",\"LOW\",\"LOW\",\"NORMAL\",\"HIGH\",\"NORMAL\",\"HIGH\",\"NORMAL\",\"HIGH\",\"NORMAL\",\"NORMAL\",\"NORMAL\",\"LOW\",\"LOW\",\"HIGH\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"NORMAL\",\"HIGH\",\"HIGH\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"NORMAL\",\"NORMAL\",\"HIGH\",\"NORMAL\",\"HIGH\",\"HIGH\",\"LOW\",\"LOW\",\"NORMAL\",\"NORMAL\",\"NORMAL\",\"LOW\",\"LOW\",\"NORMAL\",\"LOW\",\"LOW\",\"LOW\",\"HIGH\",\"HIGH\",\"LOW\",\"NORMAL\",\"NORMAL\",\"LOW\",\"NORMAL\",\"LOW\",\"HIGH\",\"LOW\",\"HIGH\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"NORMAL\",\"LOW\",\"LOW\",\"NORMAL\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"NORMAL\",\"LOW\",\"NORMAL\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"LOW\",\"HIGH\",\"LOW\",\"NORMAL\",\"NORMAL\",\"LOW\",\"LOW\"],\"measurement_value\":{\"__ndarray__\":\"sp3vp8ZLt79SuB6F61HIv2MQWDm0yN6/u0kMAiuHlr8zMzMzMzPDv+xRuB6F68G/F9nO91PjxT8hsHJoke3MP/yp8dJNYrC/8tJNYhBYyb9xPQrXo3DNv1g5tMh2vp+/HFpkO99P3T8X2c73U+PVP+kmMQisHNo/IbByaJHt6D+WQ4ts5/vJPx+F61G4HuU/001iEFg54D/dJAaBlUPTPwMrhxbZztc/bef7qfHSzb8shxbZzvfbv5duEoPAyuW/xSCwcmiR1b8NAiuHFtnev6RwPQrXo+C/H4XrUbge5b/2KFyPwvXIvy/dJAaBldO/2s73U+Oly78hsHJoke3Mv3E9CtejcM2//Knx0k1icD/8qfHSTWKgPxFYObTIds6/PN9PjZdukr+mm8QgsHLQP1g5tMh2vs8/jGzn+6nxwj+7SQwCK4fev6rx0k1iELi/gZVDi2zn278pXI/C9SjMv+Olm8QgsMK/SgwCK4cW2b+4HoXrUbiev2Dl0CLb+b6/EoPAyqFFxr9Ei2zn+6mxPyuHFtnO96O/I9v5fmq8tL/8qfHSTWLAP/yp8dJNYmA/SOF6FK5H5T/TTWIQWDnUP3sUrkfhenS/lkOLbOf76T/P91PjpZvkPzEIrBxaZPE/UrgehetRyD/Xo3A9CtfTP5MYBFYOLdI/HFpkO99P1T/P91PjpZvEP3e+nxov3dy/PQrXo3A9yr+mm8QgsHLIv0oMAiuHFtk/KVyPwvUovD+BlUOLbOe7v1g5tMh2vr+/WmQ730+Nl78UrkfhehTOP9v5fmq8dKO/hetRuB6F0z+4HoXrUbi+PyUGgZVDi8w/+FPjpZvEwD/o+6nx0k3SP4/C9Shcj8K/Nl66SQwCy781XrpJDALTv99PjZduEsM/PN9PjZdu0r8j2/l+arzgvyuHFtnO9+O/MzMzMzMz77+TGARWDi3CvzvfT42Xbto/lkOLbOf72T/b+X5qvHTTv/yp8dJNYmA/pHA9CtejwD/RItv5fmq8P/p+arx0k5g/ObTIdr6fuj9t5/up8dLdP0SLbOf7qcE/K4cW2c732z/P91PjpZvUP5zEILByaNk/9ihcj8L15D+HFtnO91PvP0oMAiuHFsk/ukkMAiuHpr8/NV66SQzCvyPb+X5qvNS/7FG4HoXrob+yne+nxkvjvwrXo3A9Cse/eekmMQisfL+wcmiR7XzPv8/3U+Olm9y/WmQ730+Nx78CK4cW2c7HP4ts5/up8aK/sHJoke18v7+q8dJNYhCovx1aZDvfT80/uB6F61G4nr89CtejcD3KP5HtfD81Xrq/+n5qvHSTiL+R7Xw/NV7Sv90kBoGVQ9u/7FG4HoXr2b8Sg8DKoUXev8dLN4lBYNW/uB6F61G4vr9WDi2yne/Hv0SLbOf7qeG/sHJoke18778X2c73U+PtvzEIrBxaZMu/sHJoke18779SuB6F61G4v4GVQ4ts5+e/ZmZmZmZm6r+R7Xw/NV7mvxBYObTIdt6/c2iR7Xw/1T/4U+Olm8TAvzEIrBxaZMu/JzEIrBxaxL+q8dJNYhDIv6wcWmQ73+e/Rbbz/dR46b/AyqFFtvPtv/p+arx0k+i/yqFFtvP9xL8DK4cW2c7rvzq0yHa+n6q/PzVeukkM4r/6fmq8dJNov2Dl0CLb+ea/JQaBlUOL3L9vEoPAyqHhv/yp8dJNYtC/nMQgsHJo0b8YBFYOLbK9v8ZLN4lBYOm/ppvEILBy2L+oxks3iUHQP3e+nxov3dS/BoGVQ4tsxz+BlUOLbOe7P8uhRbbz/fC/SgwCK4cWqT8=\",\"dtype\":\"float64\",\"order\":\"little\",\"shape\":[169]},\"time\":{\"__ndarray__\":\"AACAHeSFdkIAAMDlJIh2QgAAAK5linZCAABAdqaMdkIAAIA+5452QgAAwAYokXZCAAAAz2iTdkIAAECXqZV2QgAAgF/ql3ZCAADAJyuadkIAAADwa5x2QgAAwEguo3ZCAAAAEW+ldkIAAEDZr6d2QgAAwGkxrHZCAAAAMnKudkIAAED6srB2QgAAwIo0tXZCAAAAU3W3dkIAAEAbtrl2QgAAgOP2u3ZCAADAqze+dkIAAEA8ucJ2QgAAgAT6xHZCAADAzDrHdkIAAACVe8l2QgAAQF28y3ZCAADA7T3QdkIAAAC2ftJ2QgAAQH6/1HZCAACARgDXdkIAAMAOQdl2QgAAANeB23ZCAABAn8LddkIAAIBnA+B2QgAAwC9E4nZCAAAA+ITkdkIAAEDAxeZ2QgAAgIgG6XZCAABAMF/7dkIAAACJIQJ3QgAAQFFiBHdCAACAGaMGd0IAAMDh4wh3QgAAAKokC3dCAABAcmUNd0IAAIA6pg93QgAAwALnEXdCAAAAyycUd0IAAECTaBZ3QgAAgFupGHdCAADAI+oad0IAAADsKh13QgAAQLRrH3dCAACAfKwhd0IAAMBE7SN3QgAAQNVuKHdCAACAna8qd0IAAMBl8Cx3QgAAAC4xL3dCAABA9nExd0IAAIC+sjN3QgAAwIbzNXdCAAAATzQ4d0IAAEAXdTp3QgAAgN+1PHdCAADAp/Y+d0IAAABwN0F3QgAAQDh4Q3dCAACAALlFd0IAAMDI+Ud3QgAAAJE6SndCAABAWXtMd0IAAIAhvE53QgAAwOn8UHdCAAAAsj1Td0IAAEB6flV3QgAAwAoAWndCAAAA00Bcd0IAAECbgV53QgAAgGPCYHdCAABA3Ydwd0IAAIClyHJ3QgAAQP6KeXdCAACAxst7d0IAAMCODH53QgAAAFdNgHdCAABAH46Cd0IAAIDnzoR3QgAAwK8Ph3dCAAAAeFCJd0IAAEBAkYt3QgAAgAjSjXdCAADA0BKQd0IAAACZU5J3QgAAQGGUlHdCAACAKdWWd0IAAMDxFZl3QgAAALpWm3dCAABAgpedd0IAAIBK2J93QgAAwBIZondCAAAA21mkd0IAAECjmqZ3QgAAgGvbqHdCAAAA/Fytd0IAAEDEna93QgAAgIzesXdCAADAVB+0d0IAAAAdYLZ3QgAAQOWguHdCAACAreG6d0IAAMB1Ir13QgAAQAakwXdCAACAzuTDd0IAAMCWJcZ3QgAAAF9myHdCAABAJ6fKd0IAAIDv58x3QgAAwLcoz3dCAAAAgGnRd0IAAEBIqtN3QgAAgBDr1XdCAABAirDld0IAAIBS8ed3QgAAwBoy6ndCAAAA43Lsd0IAAECrs+53QgAAwDs183dCAAAABHb1d0IAAEDMtvd3QgAAgJT3+XdCAADAXDj8d0IAAAAlef53QgAAQO25AHhCAADAXDj8d0IAAIC1+gJ4QgAAwH07BXhCAAAARnwHeEIAAEAOvQl4QgAAgNb9C3hCAADAnj4OeEIAAABnfxB4QgAAQC/AEnhCAACA9wAVeEIAAMC/QRd4QgAAQFDDG3hCAAAAiIIZeEIAAIAYBB54QgAAwOBEIHhCAAAAqYUieEIAAEBxxiR4QgAAwAFIKXhCAACAOQcneEIAAADKiCt4QgAAgFoKMHhCAABAkskteEIAAMAiSzJ4QgAAAOuLNHhCAABAs8w2eEIAAIB7DTl4QgAAwENOO3hCAAAADI89eEIAAEDUzz94QgAAgJwQQnhCAADAZFFEeEIAAAAtkkZ4QgAAQPXSSHhCAACAvRNLeEI=\",\"dtype\":\"float64\",\"order\":\"little\",\"shape\":[169]}},\"selected\":{\"id\":\"1055\"},\"selection_policy\":{\"id\":\"1054\"}},\"id\":\"1003\",\"type\":\"ColumnDataSource\"},{\"attributes\":{\"months\":[0,1,2,3,4,5,6,7,8,9,10,11]},\"id\":\"1064\",\"type\":\"MonthsTicker\"},{\"attributes\":{},\"id\":\"1055\",\"type\":\"Selection\"},{\"attributes\":{\"align\":\"center\",\"coordinates\":null,\"group\":null,\"text\":\"N3 in Venice Lagoon\",\"text_font_size\":\"25px\"},\"id\":\"1035\",\"type\":\"Title\"},{\"attributes\":{},\"id\":\"1007\",\"type\":\"DataRange1d\"},{\"attributes\":{},\"id\":\"1011\",\"type\":\"LinearScale\"},{\"attributes\":{\"tools\":[{\"id\":\"1021\"},{\"id\":\"1022\"},{\"id\":\"1023\"},{\"id\":\"1024\"},{\"id\":\"1025\"},{\"id\":\"1026\"}]},\"id\":\"1028\",\"type\":\"Toolbar\"},{\"attributes\":{},\"id\":\"1049\",\"type\":\"BasicTickFormatter\"},{\"attributes\":{\"factors\":[\"NORMAL\",\"HIGH\",\"LOW\"],\"palette\":[\"#99d594\",\"#ffffbf\",\"#fc8d59\"]},\"id\":\"1039\",\"type\":\"CategoricalColorMapper\"}],\"root_ids\":[\"1004\"]},\"title\":\"Bokeh Application\",\"version\":\"2.4.3\"}};\n  const render_items = [{\"docid\":\"e1ff4190-4b76-4501-82f9-3e2784016e6d\",\"root_ids\":[\"1004\"],\"roots\":{\"1004\":\"d0cb0322-1f4a-4bfb-8887-ef37528f87b8\"}}];\n  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);\n  }\n  if (root.Bokeh !== undefined) {\n    embed_document(root);\n  } else {\n    let attempts = 0;\n    const timer = setInterval(function(root) {\n      if (root.Bokeh !== undefined) {\n        clearInterval(timer);\n        embed_document(root);\n      } else {\n        attempts++;\n        if (attempts \u003e 100) {\n          clearInterval(timer);\n          console.log(\"Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing\");\n        }\n      }\n    }, 10, root)\n  }\n})(window);","application/vnd.bokehjs_exec.v0+json":""},"metadata":{"application/vnd.bokehjs_exec.v0+json":{"id":"1004"}},"output_type":"display_data"}],"tabbable":null,"tooltip":null}},"529b72484ef64258b0e600d79fd99a08":{"model_module":"@jupyter-widgets/controls","model_module_version":"2.0.0","model_name":"VBoxModel","state":{"_dom_classes":["widget-interact"],"_model_module":"@jupyter-widgets/controls","_model_module_version":"2.0.0","_model_name":"VBoxModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"2.0.0","_view_name":"VBoxView","box_style":"","children":["IPY_MODEL_27f10d097e864e3dab4fb7c59b8472b5","IPY_MODEL_527f01baf3cc437fa5a2a34ad60b4192"],"layout":"IPY_MODEL_209e60efc97f4ba88d169598d130ae20","tabbable":null,"tooltip":null}},"53dbed71f0214728b307d21ac340e880":{"model_module":"jupyter-leaflet","model_module_version":"^0.17","model_name":"LeafletTileLayerModel","state":{"_model_module":"jupyter-leaflet","_model_module_version":"^0.17","_model_name":"LeafletTileLayerModel","_view_count":null,"_view_module":"jupyter-leaflet","_view_module_version":"^0.17","_view_name":"LeafletTileLayerView","attribution":null,"base":false,"bottom":true,"bounds":null,"detect_retina":false,"loading":false,"max_native_zoom":null,"max_zoom":18,"min_native_zoom":null,"min_zoom":0,"name":"","no_wrap":false,"opacity":1,"options":["attribution","bounds","detect_retina","max_native_zoom","max_zoom","min_native_zoom","min_zoom","no_wrap","tile_size","tms","zoom_offset"],"pane":"","popup":null,"popup_max_height":null,"popup_max_width":300,"popup_min_width":50,"show_loading":false,"subitems":[],"tile_size":256,"tms":false,"url":"https://staging-raster.delta-backend.com/stac/tiles/WebMercatorQuad/{z}/{x}/{y}@1x?collection=nightlights-hd-monthly\u0026item=finalBMHD_ScaledVenice_201904\u0026assets=cog_default\u0026bidx=1\u0026unscale=false\u0026resampling=nearest\u0026max_size=1024\u0026rescale=0%2C255\u0026colormap_name=plasma","visible":true,"zoom_offset":0}},"5ed1665e6fab40d4a1c1317d7b79ab87":{"model_module":"jupyter-leaflet","model_module_version":"^0.17","model_name":"LeafletTileLayerModel","state":{"_model_module":"jupyter-leaflet","_model_module_version":"^0.17","_model_name":"LeafletTileLayerModel","_view_count":null,"_view_module":"jupyter-leaflet","_view_module_version":"^0.17","_view_name":"LeafletTileLayerView","attribution":"\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors","base":true,"bottom":true,"bounds":null,"detect_retina":false,"loading":false,"max_native_zoom":null,"max_zoom":19,"min_native_zoom":null,"min_zoom":1,"name":"OpenStreetMap.Mapnik","no_wrap":false,"opacity":1,"options":["attribution","bounds","detect_retina","max_native_zoom","max_zoom","min_native_zoom","min_zoom","no_wrap","tile_size","tms","zoom_offset"],"pane":"","popup":null,"popup_max_height":null,"popup_max_width":300,"popup_min_width":50,"show_loading":false,"subitems":[],"tile_size":256,"tms":false,"url":"https://tile.openstreetmap.org/{z}/{x}/{y}.png","visible":true,"zoom_offset":0}},"8a2b4f4267d34539924d05f4b8417c46":{"model_module":"@jupyter-widgets/controls","model_module_version":"2.0.0","model_name":"TextStyleModel","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"2.0.0","_model_name":"TextStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"2.0.0","_view_name":"StyleView","background":null,"description_width":"","font_size":null,"text_color":null}},"b78b1d47a72343f8911f434a05817d35":{"model_module":"jupyter-leaflet","model_module_version":"^0.17","model_name":"LeafletTileLayerModel","state":{"_model_module":"jupyter-leaflet","_model_module_version":"^0.17","_model_name":"LeafletTileLayerModel","_view_count":null,"_view_module":"jupyter-leaflet","_view_module_version":"^0.17","_view_name":"LeafletTileLayerView","attribution":null,"base":false,"bottom":true,"bounds":null,"detect_retina":false,"loading":false,"max_native_zoom":null,"max_zoom":18,"min_native_zoom":null,"min_zoom":0,"name":"","no_wrap":false,"opacity":1,"options":["attribution","bounds","detect_retina","max_native_zoom","max_zoom","min_native_zoom","min_zoom","no_wrap","tile_size","tms","zoom_offset"],"pane":"","popup":null,"popup_max_height":null,"popup_max_width":300,"popup_min_width":50,"show_loading":false,"subitems":[],"tile_size":256,"tms":false,"url":"https://staging-raster.delta-backend.com/stac/tiles/WebMercatorQuad/{z}/{x}/{y}@1x?collection=nightlights-hd-monthly\u0026item=finalBMHD_ScaledVenice_202004\u0026assets=cog_default\u0026bidx=1\u0026unscale=false\u0026resampling=nearest\u0026max_size=1024\u0026rescale=0%2C255\u0026colormap_name=plasma","visible":true,"zoom_offset":0}},"c11b8f635e4c40119f4dab09d0db7136":{"model_module":"jupyter-leaflet","model_module_version":"^0.17","model_name":"LeafletMapStyleModel","state":{"_model_module":"jupyter-leaflet","_model_module_version":"^0.17","_model_name":"LeafletMapStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"2.0.0","_view_name":"StyleView","cursor":"grab"}},"c2a0084602994b4a8be29df0baf75777":{"model_module":"jupyter-leaflet","model_module_version":"^0.17","model_name":"LeafletMapStyleModel","state":{"_model_module":"jupyter-leaflet","_model_module_version":"^0.17","_model_name":"LeafletMapStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"2.0.0","_view_name":"StyleView","cursor":"move"}},"ee99958c097c4f359a5a351e09191633":{"model_module":"jupyter-leaflet","model_module_version":"^0.17","model_name":"LeafletAttributionControlModel","state":{"_model_module":"jupyter-leaflet","_model_module_version":"^0.17","_model_name":"LeafletAttributionControlModel","_view_count":null,"_view_module":"jupyter-leaflet","_view_module_version":"^0.17","_view_name":"LeafletAttributionControlView","options":["position","prefix"],"position":"bottomright","prefix":"ipyleaflet"}},"f312c99cc9554adf8eabb6c8483d4e36":{"model_module":"@jupyter-widgets/base","model_module_version":"2.0.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"2.0.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"2.0.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border_bottom":null,"border_left":null,"border_right":null,"border_top":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"fd4635d27f5e4012a60cfc3f636cb9ab":{"model_module":"jupyter-leaflet","model_module_version":"^0.17","model_name":"LeafletMapModel","state":{"_dom_classes":[],"_model_module":"jupyter-leaflet","_model_module_version":"^0.17","_model_name":"LeafletMapModel","_view_count":null,"_view_module":"jupyter-leaflet","_view_module_version":"^0.17","_view_name":"LeafletMapView","bottom":0,"bounce_at_zoom_limits":true,"box_zoom":true,"center":[45.438558,12.333421],"close_popup_on_click":true,"controls":["IPY_MODEL_112b0453a73b4855948e3f1d8313c705","IPY_MODEL_ee99958c097c4f359a5a351e09191633","IPY_MODEL_0fb8139e441c4c4492b5fe9ea450d5e9"],"crs":{"custom":false,"name":"EPSG3857"},"default_style":"IPY_MODEL_c11b8f635e4c40119f4dab09d0db7136","double_click_zoom":true,"dragging":true,"dragging_style":"IPY_MODEL_c2a0084602994b4a8be29df0baf75777","east":0,"fullscreen":false,"inertia":true,"inertia_deceleration":3000,"inertia_max_speed":1500,"interpolation":"bilinear","keyboard":true,"keyboard_pan_offset":80,"keyboard_zoom_offset":1,"layers":["IPY_MODEL_5ed1665e6fab40d4a1c1317d7b79ab87"],"layout":"IPY_MODEL_3d955379a017496d83a8a6aed5da93f7","left":9007199254740991,"max_zoom":null,"min_zoom":null,"modisdate":"2023-03-21","north":0,"options":["bounce_at_zoom_limits","box_zoom","center","close_popup_on_click","double_click_zoom","dragging","fullscreen","inertia","inertia_deceleration","inertia_max_speed","interpolation","keyboard","keyboard_pan_offset","keyboard_zoom_offset","max_zoom","min_zoom","prefer_canvas","scroll_wheel_zoom","tap","tap_tolerance","touch_zoom","world_copy_jump","zoom","zoom_animation_threshold","zoom_delta","zoom_snap"],"panes":{},"prefer_canvas":false,"right":0,"scroll_wheel_zoom":false,"south":0,"style":"IPY_MODEL_4b9b75ac4e6e413ea35c5cfa2e7977d3","tabbable":null,"tap":true,"tap_tolerance":15,"tooltip":null,"top":9007199254740991,"touch_zoom":true,"west":0,"window_url":"","world_copy_jump":false,"zoom":13,"zoom_animation_threshold":4,"zoom_delta":1,"zoom_snap":1}}},"version_major":2,"version_minor":0}},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:09:11.385491Z","iopub.status.busy":"2023-03-22T13:09:11.385117Z","iopub.status.idle":"2023-03-22T13:09:11.513330Z","shell.execute_reply":"2023-03-22T13:09:11.507356Z"},"papermill":{"duration":0.18143,"end_time":"2023-03-22T13:09:11.517792","exception":false,"start_time":"2023-03-22T13:09:11.336362","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"from eoxhub import check_compatibility\ncheck_compatibility(\"user-2023.03-02\", dependencies=[\"SH\", \"GEODB\"])","visibility":"show","key":"BPv7jY1pfj"},{"type":"output","id":"zcf_l9eplO4LnKzo3BOsE","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\u003cscript type=\"text/javascript\"\u003e\n        function toggle(id) {\n            el = document.getElementById(id);\n            el.style.display = el.style.display === \"none\" ? \"block\" : \"none\";\n        }\n    \u003c/script\u003e","content_type":"text/html"},"text/plain":{"content":"\u003cIPython.core.display.HTML object\u003e","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"This notebook is compatible with this base image version (user-2023.03-02).","content_type":"text/html"},"text/plain":{"content":"\u003cIPython.core.display.HTML object\u003e","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"text/markdown":{"content":"\n\n---------\n\nThe following environment variables are available:\n\n* `SH_CLIENT_ID`, `SH_INSTANCE_ID`, `SH_CLIENT_NAME`, `SH_CLIENT_SECRET`\n* `GEODB_AUTH_AUD`, `GEODB_AUTH_CLIENT_ID`, `GEODB_AUTH_DOMAIN`, `GEODB_API_SERVER_URL`, `GEODB_AUTH_CLIENT_SECRET`, `GEODB_API_SERVER_PORT`\n","content_type":"text/markdown"},"text/plain":{"content":"\u003cIPython.core.display.Markdown object\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"RBYgvKagas"}],"visibility":"show","key":"rIHWgBYhqE"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.030435,"end_time":"2023-03-22T13:09:11.579699","exception":false,"start_time":"2023-03-22T13:09:11.549264","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Environmental Impacts of Lockdown in Venice, Italy during 2020","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LgtFdHyY0O"}],"identifier":"environmental-impacts-of-lockdown-in-venice-italy-during-2020","label":"Environmental Impacts of Lockdown in Venice, Italy during 2020","html_id":"environmental-impacts-of-lockdown-in-venice-italy-during-2020","implicit":true,"key":"M7B7nbqU4r"},{"type":"heading","depth":2,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Geo-storytelling with EODASHBOARD and the Euro Data Cube - Notebook #2","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"B42w303Omu"}],"identifier":"geo-storytelling-with-eodashboard-and-the-euro-data-cube-notebook-2","label":"Geo-storytelling with EODASHBOARD and the Euro Data Cube - Notebook #2","html_id":"geo-storytelling-with-eodashboard-and-the-euro-data-cube-notebook-2","implicit":true,"key":"FcrBFkMjAX"}],"visibility":"show","key":"mcr7S06tMX"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.02931,"end_time":"2023-03-22T13:09:11.663947","exception":false,"start_time":"2023-03-22T13:09:11.634637","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"This notebook looks at the impact of the mobility restrictions imposed in the Italian region Veneto during the Covid-19 pandemic to restrict the spread of the virus.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pPoQLrnEuS"}],"key":"xBmtjN9aBg"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"It uses Earth Observation data from ESA, NASA and JAXA from the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"orwIoDC8v4"},{"type":"link","url":"https://eodashboard.org","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"EO Dashboard","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Yf6u8lrjUu"}],"urlSource":"https://eodashboard.org","key":"hWklpyRMq2"},{"type":"text","value":", together with other geospatial data as well as non-EO information.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"nRDwWaNSyW"}],"key":"sxcfnBaISL"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"To read more about the tri-agency collaboration visit ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ObbNk4tXoZ"},{"type":"link","url":"https://eodashboard.org","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"https://​eodashboard​.org","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"TzbfnW8BNu"}],"urlSource":"https://eodashboard.org","key":"gP4lVtnirj"},{"type":"text","value":".","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"rCHacNntvO"}],"key":"okHDq4VUpj"}],"visibility":"show","key":"iBCuaeoupm"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.029492,"end_time":"2023-03-22T13:09:11.733026","exception":false,"start_time":"2023-03-22T13:09:11.703534","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In this Notebook:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iqMEw3oefN"}],"identifier":"in-this-notebook","label":"In this Notebook:","html_id":"in-this-notebook","implicit":true,"key":"W9NjkxCsAG"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"crossReference","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We download and plot open data about mobility over the region of Veneto and determine extreme values associated with the lockdown","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yoLy3QjedO"}],"identifier":"covid-mobility-data-from-google","label":"Covid-Mobility-Data-from-Google","kind":"heading","template":"{name}","resolved":true,"html_id":"covid-mobility-data-from-google","key":"eMAkmzhp2X"}],"key":"VZ8Ola0H5O"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"crossReference","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"We then access vessel density data in the venice Lagoon and evaluate the reduction in vessel traffic during the lockdown","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"VdAhXCKJiM"}],"identifier":"requesting-vessel-density-data","label":"Requesting-Vessel-Density-Data","kind":"heading","template":"{name}","resolved":true,"html_id":"requesting-vessel-density-data","key":"ALT1s3stdK"}],"key":"z66B9OaENJ"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"link","url":"#Using-the-NASA-API-to-retreive-nightlights-data","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Using the extreme value’s date as a proxy for the period of reduced activity, we request NASA nightlight data and visually inspect if changes are visible","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"zvUiGJ5WSf"}],"urlSource":"#Using-the-NASA-API-to-retreive-nightlights-data","key":"Ss3fv8myUM"}],"key":"LoD41hlgYB"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"link","url":"#Retreiving-Sentinel-2-imagery-over-the-Island-of-Venice","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"We inspect whether an environmental impact of the activity reduciton is visible in the water quality in the lagoon by visually inspecting Copernicus Sentinel-2 imagery","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"v67fWZUvLn"}],"urlSource":"#Retreiving-Sentinel-2-imagery-over-the-Island-of-Venice","key":"LWSxCHcXBF"}],"key":"TXDJmamEJO"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"crossReference","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"We proceed to access and visualise Chlorophyll-a concentration maps in the Venice lagoon","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"FqU5WpedV2"}],"identifier":"requesting-water-quality-data-from-jaxa","label":"Requesting-Water-Quality-Data-from-JAXA","kind":"heading","template":"{name}","resolved":true,"html_id":"requesting-water-quality-data-from-jaxa","key":"SIZrbWgkIt"}],"key":"ZQvUlyHdak"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"link","url":"#Retreiving-water-quality-time-series-from-GeoDB","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"We access water quality time series and inspect the Chlorophyll-a variation compared to the climatology","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"dYNggNEplw"}],"urlSource":"#Retreiving-water-quality-time-series-from-GeoDB","key":"Q1hcMEUZV9"}],"key":"fMUD5l4FVj"}],"key":"OBX7sObgEJ"}],"visibility":"show","key":"bwTBQAT2WV"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.030403,"end_time":"2023-03-22T13:09:11.789128","exception":false,"start_time":"2023-03-22T13:09:11.758725","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Permissions and Package Download","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gJMIOs3yyI"}],"identifier":"permissions-and-package-download","label":"Permissions and Package Download","html_id":"permissions-and-package-download","implicit":true,"key":"hLhqMHVcQc"}],"visibility":"show","key":"DFKEmtM0kO"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:09:11.842448Z","iopub.status.busy":"2023-03-22T13:09:11.842071Z","iopub.status.idle":"2023-03-22T13:09:14.117696Z","shell.execute_reply":"2023-03-22T13:09:14.114764Z"},"papermill":{"duration":2.306424,"end_time":"2023-03-22T13:09:14.121206","exception":false,"start_time":"2023-03-22T13:09:11.814782","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"#Import necessary packages\n\nimport concurrent.futures\nimport datetime as dt\nfrom ipyleaflet import basemaps, Map, GeoJSON\nimport json\nimport requests as re\nimport matplotlib.pyplot as plt\nimport pprint\nimport time\nimport datetime\nimport csv\nimport requests\nimport numpy as np\nimport sys\nimport pandas as pd\nimport geojson\nimport requests as re\nfrom ipyleaflet import Map, basemaps, basemap_to_tiles, TileLayer, SplitMapControl\nimport warnings\nwarnings.filterwarnings('ignore')\n\nfrom bokeh.plotting import figure, show, output_notebook\nfrom bokeh.models import ColumnDataSource\nfrom bokeh.palettes import Spectral3\nfrom bokeh.palettes import Spectral6\nfrom bokeh.transform import factor_cmap\nfrom __future__ import print_function\nfrom ipywidgets import interact, interactive, fixed, interact_manual\nimport ipywidgets as widgets\nimport matplotlib.patches as mpatches\n\n\n# Configure plots for inline use in Jupyter Notebook\n%matplotlib inline","visibility":"show","key":"v77iS0UPvs"},{"type":"output","id":"9dkh_uRtQ-0iTLnKn7ITY","data":[],"visibility":"show","key":"e2s4vFlQgV"}],"visibility":"show","key":"RZTmRU8yL8"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:09:14.189556Z","iopub.status.busy":"2023-03-22T13:09:14.182324Z","iopub.status.idle":"2023-03-22T13:09:15.058141Z","shell.execute_reply":"2023-03-22T13:09:15.056656Z"},"papermill":{"duration":0.914365,"end_time":"2023-03-22T13:09:15.062300","exception":false,"start_time":"2023-03-22T13:09:14.147935","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Time Series data in Step 6. are store in the geodatabase, so we check if the xcube_geodb service is active\n\nfrom edc import check_compatibility\nfrom xcube_geodb.core.geodb import GeoDBClient\ngeodb = GeoDBClient()\ngeodb.whoami","visibility":"show","key":"uPHQysyMTh"},{"type":"output","id":"4nvrbopEJaqRbIBoast4o","data":[{"output_type":"execute_result","execution_count":3,"metadata":{},"data":{"text/plain":{"content":"'geodb_418dfeac-15f0-4606-9edb-fd9eb722bf04'","content_type":"text/plain"}}}],"visibility":"show","key":"iPUtNXi6Sp"}],"visibility":"show","key":"TcbY2VSBn4"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:09:15.135667Z","iopub.status.busy":"2023-03-22T13:09:15.134099Z","iopub.status.idle":"2023-03-22T13:09:15.469560Z","shell.execute_reply":"2023-03-22T13:09:15.467975Z"},"papermill":{"duration":0.380166,"end_time":"2023-03-22T13:09:15.473492","exception":false,"start_time":"2023-03-22T13:09:15.093326","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Sentinel-2 imagery and the water quality maps that we use in Steps 4. and 5. will be accessed from the Sentinel Hub. \n# Here we make sure that the data needed for the authentication to use the Sentinel Hub services is available, and we establish a session \n\nimport os\nfrom oauthlib.oauth2 import BackendApplicationClient\nfrom requests_oauthlib import OAuth2Session\n# Your client credentials\nclient_id = os.environ['SH_CLIENT_ID']\nclient_secret = os.environ['SH_CLIENT_SECRET']\n# Create a session\nclient = BackendApplicationClient(client_id=client_id)\noauth = OAuth2Session(client=client)\n# Get token for the session\ntoken = oauth.fetch_token(token_url='https://services.sentinel-hub.com/oauth/token',\n                          client_id=client_id, client_secret=client_secret)\n# All requests using this session will have an access token automatically added\nresp = oauth.get(\"https://services.sentinel-hub.com/oauth/tokeninfo\")\n# Sentinel Hub\nfrom sentinelhub import (MimeType, CRS, BBox, SentinelHubRequest, SentinelHubDownloadClient, \n                         DataCollection, bbox_to_dimensions, DownloadRequest, SHConfig)","visibility":"show","key":"kRDnbFHLVy"},{"type":"output","id":"BfFQ7nvPqCSPrYmYL9rcY","data":[],"visibility":"show","key":"cVd8FMqkDe"}],"visibility":"show","key":"UMARaEBsfF"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:09:15.545627Z","iopub.status.busy":"2023-03-22T13:09:15.545076Z","iopub.status.idle":"2023-03-22T13:09:15.557795Z","shell.execute_reply":"2023-03-22T13:09:15.555476Z"},"papermill":{"duration":0.052399,"end_time":"2023-03-22T13:09:15.562374","exception":false,"start_time":"2023-03-22T13:09:15.509975","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Pass Sentinel Hub credentials to SHConfig\nconfig = SHConfig()\nconfig.sh_client_id = os.environ[\"SH_CLIENT_ID\"]\nconfig.sh_client_secret = os.environ[\"SH_CLIENT_SECRET\"]","visibility":"show","key":"xKQcN2qIDF"},{"type":"output","id":"wUmvvPt2eE_YSTsZtWVDh","data":[],"visibility":"show","key":"vOHoFt8Mjn"}],"visibility":"show","key":"W34fBfixIA"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.030949,"end_time":"2023-03-22T13:09:15.630002","exception":false,"start_time":"2023-03-22T13:09:15.599053","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Covid Mobility Data from Google","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"faQgmUz3GJ"}],"identifier":"covid-mobility-data-from-google","label":"Covid Mobility Data from Google","html_id":"covid-mobility-data-from-google","implicit":true,"key":"fAVn9kU43h"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Google provides open data on mobility, called “Google COVID-19 Community Mobility Reports”. To access the original data source, visit: ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"U79ZKSDD03"},{"type":"link","url":"https://www.google.com/covid19/mobility/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"https://​www​.google​.com​/covid19​/mobility/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"B78lVfT8bs"}],"urlSource":"https://www.google.com/covid19/mobility/","key":"RyQLiZuMtu"}],"key":"PhOV2qB3Nh"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"In EO Dashboard this indicator is called “Mobility Data” and provides country-level aggregated charts. On EO Dashboard it can be accessed at: ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"RSOuXu5ihI"},{"type":"link","url":"https://eodashboard.org/explore?indicator=GG","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"https://​eodashboard​.org​/explore​?indicator​=GG","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"u0NJ7M37of"}],"urlSource":"https://eodashboard.org/explore?indicator=GG","key":"AeKkXAh1KC"},{"type":"text","value":".","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ARyQOHX6cX"}],"key":"zp0lyWwE3X"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"All charts and maps on EO Dashboard provide an “embed link” and we will use this together with the IFrame library to inspect the mobility trends at country level for Italy.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"DFwu09pveg"}],"key":"Mflz9ifLr2"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Tip: try interacting with the chart, zoom in/out, activate/deactivate categories by clicking on the legend items, hover over the chart to get more details","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"nFPFietvOQ"}],"key":"CXKvSHWUIq"}],"key":"PdeEng88mF"}],"visibility":"show","key":"w5Mhl8c2zU"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:09:15.711304Z","iopub.status.busy":"2023-03-22T13:09:15.703538Z","iopub.status.idle":"2023-03-22T13:09:15.734275Z","shell.execute_reply":"2023-03-22T13:09:15.732310Z"},"papermill":{"duration":0.075139,"end_time":"2023-03-22T13:09:15.737987","exception":false,"start_time":"2023-03-22T13:09:15.662848","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# How Mobility data is presented in EO Dashboard\n\nfrom IPython.display import IFrame\nIFrame('https://eodashboard.org/iframe?poi=IT-GG', width=800, height=500)","visibility":"show","key":"Jwl74deK5N"},{"type":"output","id":"0y2QiSsP140cocMgcptmo","data":[{"output_type":"execute_result","execution_count":6,"metadata":{},"data":{"text/html":{"content":"\n        \u003ciframe\n            width=\"800\"\n            height=\"500\"\n            src=\"https://eodashboard.org/iframe?poi=IT-GG\"\n            frameborder=\"0\"\n            allowfullscreen\n            \n        \u003e\u003c/iframe\u003e\n        ","content_type":"text/html"},"text/plain":{"content":"\u003cIPython.lib.display.IFrame at 0x7f98aba42310\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"cMBJt9UnR7"}],"visibility":"show","key":"VOuvWnJfKy"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.041392,"end_time":"2023-03-22T13:09:15.811537","exception":false,"start_time":"2023-03-22T13:09:15.770145","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Mobility in Veneto","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Ku8BxP3EaD"}],"identifier":"mobility-in-veneto","label":"Mobility in Veneto","html_id":"mobility-in-veneto","implicit":true,"key":"O7m22QqTWb"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We want to focus only on the region of Veneto, not the entire country, as we will use the COVID Mobility data to relate lockdowns to changing behaviour in the region and especially in the Venice lagoon.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"TsNJdSlqoq"}],"key":"gR3lXRHysw"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"We use this data to estimate the times where the lockdown restrictions were at their highest and inturn relate this to activity and finaly water quality.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"cpuT71dGGK"}],"key":"BjZDixsTsy"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"The Covid Mobility data covers the larger area of Veneto, which includes the region of Venice. Below we display the region using NUTS data:","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"QhGEq9Hftz"}],"key":"Nh2CvZtXSo"}],"visibility":"show","key":"Ztd0jMxW0i"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:09:15.881499Z","iopub.status.busy":"2023-03-22T13:09:15.879593Z","iopub.status.idle":"2023-03-22T13:09:17.636289Z","shell.execute_reply":"2023-03-22T13:09:17.634807Z"},"papermill":{"duration":1.800796,"end_time":"2023-03-22T13:09:17.639227","exception":false,"start_time":"2023-03-22T13:09:15.838431","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"import requests\n# First let us get the area information of the country from the administratives zones\n# You can find all the different NUTS levels, resolution here: https://gisco-services.ec.europa.eu/distribution/v2/nuts/nuts-2021-files.html\n\nresponse = requests.get(\n    \"https://gisco-services.ec.europa.eu/distribution/v2/nuts/geojson/NUTS_RG_10M_2021_4326_LEVL_2.geojson\"\n)\n\ndata = response.json()\n\n# Now lets find the geometry information for one country\nmatch = [x for x in data[\"features\"] if x[\"properties\"][\"NUTS_ID\"] == 'ITH3'][0]","visibility":"show","key":"coxxr5A9sM"},{"type":"output","id":"R8MYir7GhHeOXtF9PVb50","data":[],"visibility":"show","key":"WLJdmExx3v"}],"visibility":"show","key":"R8ox16vgl9"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:09:17.732948Z","iopub.status.busy":"2023-03-22T13:09:17.730584Z","iopub.status.idle":"2023-03-22T13:09:17.749443Z","shell.execute_reply":"2023-03-22T13:09:17.747162Z"},"papermill":{"duration":0.088122,"end_time":"2023-03-22T13:09:17.753602","exception":false,"start_time":"2023-03-22T13:09:17.665480","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"import shapely.geometry\nimport IPython.display\nIPython.display.GeoJSON(match)","visibility":"show","key":"kbQpGvGsrT"},{"type":"output","id":"-gg4T7EaWrTZMHHmMY36X","data":[{"output_type":"display_data","metadata":{"application/geo+json":{"expanded":false,"root":"root"}},"data":{"application/geo+json":{"content":"{\"geometry\":{\"coordinates\":[[[[12.73139,46.63429],[12.72414,46.54856],[12.64722,46.51645],[12.62565,46.47094],[12.52869,46.45272],[12.4987,46.41222],[12.33089,46.26894],[12.48638,46.14962],[12.47902,46.10931],[12.40053,46.042],[12.41494,46.0209],[12.43305,45.95719],[12.5074,45.91567],[12.55786,45.84055],[12.66167,45.79244],[12.77129,45.84411],[12.80836,45.82126],[12.85078,45.84367],[12.91619,45.82006],[12.97906,45.83405],[12.9859,45.78405],[13.09879,45.64453],[12.80836,45.56499],[12.59826,45.48619],[12.58138,45.4979],[12.62042,45.53272],[12.56752,45.56016],[12.40398,45.53394],[12.18244,45.40105],[12.13256,45.30037],[12.14003,45.26819],[12.20049,45.25734],[12.22575,45.20783],[12.29404,45.21694],[12.33057,45.16055],[12.28099,45.0928],[12.32172,45.00771],[12.42249,45.0097],[12.48248,44.95444],[12.45719,44.88353],[12.401,44.86772],[12.39906,44.79262],[12.29325,44.87514],[12.2736,44.93264],[12.13809,44.93853],[12.08229,44.96904],[11.79919,44.97254],[11.62695,44.89593],[11.42677,44.95008],[11.18972,45.05979],[11.2055,45.10949],[11.05514,45.10995],[10.92727,45.23218],[10.79289,45.30572],[10.73459,45.30228],[10.70496,45.33754],[10.70508,45.41191],[10.65466,45.41583],[10.6356,45.60806],[10.84018,45.83276],[10.88174,45.80072],[10.86348,45.71542],[10.94084,45.68377],[11.04216,45.713],[11.13834,45.69709],[11.26714,45.91276],[11.34536,45.92057],[11.3846,45.97827],[11.51451,46.00755],[11.61803,45.96438],[11.68432,45.98408],[11.67297,46.0209],[11.69941,46.09247],[11.87895,46.11919],[11.9521,46.18206],[11.91607,46.24865],[11.84232,46.28075],[11.78742,46.35592],[11.87833,46.44806],[11.82484,46.48301],[11.82834,46.50891],[12.00531,46.5448],[12.07797,46.6658],[12.21183,46.61369],[12.3815,46.62873],[12.47792,46.67984],[12.69064,46.65697],[12.73139,46.63429]]],[[[12.45435,45.4386],[12.43107,45.42394],[12.40993,45.45733],[12.46969,45.47724],[12.48769,45.50013],[12.5476,45.50853],[12.55421,45.46955],[12.45435,45.4386]]],[[[12.4006,45.44546],[12.37882,45.40627],[12.3226,45.43552],[12.34775,45.45403],[12.4006,45.44546]]]],\"type\":\"MultiPolygon\"},\"id\":\"ITH3\",\"properties\":{\"CNTR_CODE\":\"IT\",\"COAST_TYPE\":0,\"FID\":\"ITH3\",\"LEVL_CODE\":2,\"MOUNT_TYPE\":0,\"NAME_LATN\":\"Veneto\",\"NUTS_ID\":\"ITH3\",\"NUTS_NAME\":\"Veneto\",\"URBN_TYPE\":0},\"type\":\"Feature\"}","content_type":"application/geo+json"},"text/plain":{"content":"\u003cIPython.display.GeoJSON object\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"KdNKSoDS5S"}],"visibility":"show","key":"i31JY1gzc8"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:09:17.844617Z","iopub.status.busy":"2023-03-22T13:09:17.844079Z","iopub.status.idle":"2023-03-22T13:09:24.812706Z","shell.execute_reply":"2023-03-22T13:09:24.810829Z"},"papermill":{"duration":7.016905,"end_time":"2023-03-22T13:09:24.817066","exception":false,"start_time":"2023-03-22T13:09:17.800161","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Download google mobilty dataset\n\nurl = 'https://www.gstatic.com/covid19/mobility/Global_Mobility_Report.csv'\n\ngfile = requests.get(url, allow_redirects=True)\nopen('gmobility_data.csv', 'wb').write(gfile.content)","visibility":"show","key":"KkkfcFQ9RS"},{"type":"output","id":"Uv6iqVavY0jHBuWp1i_1U","data":[{"output_type":"execute_result","execution_count":9,"metadata":{},"data":{"text/plain":{"content":"1144240623","content_type":"text/plain"}}}],"visibility":"show","key":"tWEE4UqoSJ"}],"visibility":"show","key":"uYAVjtXvDs"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:09:24.881738Z","iopub.status.busy":"2023-03-22T13:09:24.881232Z","iopub.status.idle":"2023-03-22T13:10:35.352960Z","shell.execute_reply":"2023-03-22T13:10:35.351399Z"},"papermill":{"duration":70.509965,"end_time":"2023-03-22T13:10:35.357466","exception":false,"start_time":"2023-03-22T13:09:24.847501","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# open dataset and retrieve the data\nwith open('gmobility_data.csv') as csvfile:\n    reader = csv.DictReader(csvfile, delimiter=\",\", quotechar='\"')\n    country_data = {}\n    # Le us say we interested in retail_and_recreation_percent_change_from_baseline in 3 countries, France, Italy and Austria\n    countries = [\"IT\"]\n    for key in countries:\n        country_data[key] = []\n    # We iterate through the csv rows and extract the wanted data\n    for row in reader:\n        # For now we skip subregional data and only look at overall country data\n        # this is the case for countries that have no information on the following 3 parameters\n        if row[\"sub_region_1\"] == 'Veneto' and row[\"sub_region_2\"] == '' and row[\"metro_area\"] == '' :\n            location_key = row[\"country_region_code\"]\n\n            if location_key in countries:\n                country_data[location_key].append((\n                    datetime.datetime.strptime(row[\"date\"], \"%Y-%m-%d\"), # convert to date object\n                    float(row[\"retail_and_recreation_percent_change_from_baseline\"]) #convert to float\n                ))","visibility":"show","key":"rHdEGJXs7j"},{"type":"output","id":"hH-LOTqG-qIEq45fE6yYJ","data":[],"visibility":"show","key":"NWuqqwtI50"}],"visibility":"show","key":"OVz6BlPsWK"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:10:35.474244Z","iopub.status.busy":"2023-03-22T13:10:35.473753Z","iopub.status.idle":"2023-03-22T13:10:35.496767Z","shell.execute_reply":"2023-03-22T13:10:35.495608Z"},"papermill":{"duration":0.096244,"end_time":"2023-03-22T13:10:35.500925","exception":false,"start_time":"2023-03-22T13:10:35.404681","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# creating a pandas dataframe to store the data\nveneto = pd.DataFrame(country_data[key], columns=['date','retail_and_recreation_percent_change_from_baseline'])\nveneto['date'] =  pd.to_datetime(veneto['date'], infer_datetime_format=True)\nveneto_ts = veneto.set_index('date') ","visibility":"show","key":"oPfcO32Ed7"},{"type":"output","id":"cO0dEiNBn3Ns680V5HJTT","data":[],"visibility":"show","key":"rOWnRWlW61"}],"visibility":"show","key":"bR7n1dNFNc"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:10:35.565747Z","iopub.status.busy":"2023-03-22T13:10:35.565168Z","iopub.status.idle":"2023-03-22T13:10:35.598042Z","shell.execute_reply":"2023-03-22T13:10:35.592699Z"},"papermill":{"duration":0.069842,"end_time":"2023-03-22T13:10:35.602440","exception":false,"start_time":"2023-03-22T13:10:35.532598","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# resampling the data\nweekly_veneto = veneto_ts.resample('W').mean()","visibility":"show","key":"LyxhY2nYJt"},{"type":"output","id":"k2LZFbck86tcdd_gaPGw8","data":[],"visibility":"show","key":"S0Lr7dUPc8"}],"visibility":"show","key":"sY63PpqXr2"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:10:35.668085Z","iopub.status.busy":"2023-03-22T13:10:35.667697Z","iopub.status.idle":"2023-03-22T13:10:36.442212Z","shell.execute_reply":"2023-03-22T13:10:36.439454Z"},"papermill":{"duration":0.810055,"end_time":"2023-03-22T13:10:36.447688","exception":false,"start_time":"2023-03-22T13:10:35.637633","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# plotting the data\nweekly_veneto.plot(y='retail_and_recreation_percent_change_from_baseline', figsize=(15,8))","visibility":"show","key":"BBAYy9saL7"},{"type":"output","id":"bCuwJ8lNGWcNcGg3h3lxs","data":[{"output_type":"execute_result","execution_count":13,"metadata":{},"data":{"text/plain":{"content":"\u003cAxes: xlabel='date'\u003e","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"6812f43b037e7f4ba513bba01b1afef0","path":"/notebooks_test/build/6812f43b037e7f4ba513bba01b1afef0.png"},"text/plain":{"content":"\u003cFigure size 1500x800 with 1 Axes\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"fvxf6X3nyU"}],"visibility":"show","key":"Dl6Wo5Wect"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:10:36.538124Z","iopub.status.busy":"2023-03-22T13:10:36.537561Z","iopub.status.idle":"2023-03-22T13:10:36.553925Z","shell.execute_reply":"2023-03-22T13:10:36.551470Z"},"papermill":{"duration":0.083158,"end_time":"2023-03-22T13:10:36.573024","exception":false,"start_time":"2023-03-22T13:10:36.489866","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# We output the date of the lowest value\nweekly_veneto.retail_and_recreation_percent_change_from_baseline.idxmin()","visibility":"show","key":"cnKt8EBIBW"},{"type":"output","id":"muM0I9lxWVjTwwm2_mVuc","data":[{"output_type":"execute_result","execution_count":14,"metadata":{},"data":{"text/plain":{"content":"Timestamp('2020-04-05 00:00:00', freq='W-SUN')","content_type":"text/plain"}}}],"visibility":"show","key":"LgEqkRkp3A"}],"visibility":"show","key":"H514LDAMNI"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.035713,"end_time":"2023-03-22T13:10:36.650918","exception":false,"start_time":"2023-03-22T13:10:36.615205","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We can see from the figure the drop in the activity from the baseline within the region and use this to help understand the impacts of this change.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"edruOFoOA3"}],"key":"n0h8LOSgBQ"}],"visibility":"show","key":"ulsTZCH1uv"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.041972,"end_time":"2023-03-22T13:10:36.728313","exception":false,"start_time":"2023-03-22T13:10:36.686341","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Requesting Vessel Density Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"R2kMXCYDrR"}],"identifier":"requesting-vessel-density-data","label":"Requesting Vessel Density Data","html_id":"requesting-vessel-density-data","implicit":true,"key":"USgC1fCZRq"}],"visibility":"show","key":"okryq3y1bG"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.028509,"end_time":"2023-03-22T13:10:36.790312","exception":false,"start_time":"2023-03-22T13:10:36.761803","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We retrieve vessel data from the Euro Data Cube for Venice lagoon.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AjguHte1L5"}],"key":"hu5FUun970"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"This data layer is covering only the European region and can be visualised on the EO Dashboard instance focused only on Europe. This instance is branded “Rapid Action on Covid 19 and EO (RACE)” and includes some of the datasets from the ESA-NASA-JAXA instance as well as other Europe-centric datasets.\nThis dashboard instance is accessble at ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"WXBjoZ2EgF"},{"type":"link","url":"https://race.esa.int","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"https://​race​.esa​.int","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"XwzIEsK4PI"}],"urlSource":"https://race.esa.int","key":"y4iGjl2Ymb"},{"type":"text","value":".","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"TCrelME1gW"}],"key":"QHpUaf3ylI"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"The vessel density data visualisation in the RACE Dashboard can be inspected here: ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"qvDAzeHykY"},{"type":"link","url":"https://race.esa.int/?poi=World-E13o","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"https://​race​.esa​.int​/​?poi​=​World​-E13o","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"hWl5RHarFm"}],"urlSource":"https://race.esa.int/?poi=World-E13o","key":"LfSYDUlaOe"}],"key":"REsS0i3BZl"}],"visibility":"show","key":"fSbLH0T2L4"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:10:36.852095Z","iopub.status.busy":"2023-03-22T13:10:36.851558Z","iopub.status.idle":"2023-03-22T13:10:36.887918Z","shell.execute_reply":"2023-03-22T13:10:36.885764Z"},"papermill":{"duration":0.069497,"end_time":"2023-03-22T13:10:36.891206","exception":false,"start_time":"2023-03-22T13:10:36.821709","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# let's use the IFrame to embed the vesel density map\n# for a better experience, access this indicator direclty on the RACE Dashboard, at: https://race.esa.int/?poi=World-E13o \n# there you will be able to use the Draw AOI feature to generate times sereis of vessel density on your custom area.\n\n# the view below is offering limitted functionalities.\n# the 4 tabs: ALL, CARGO, TANKER, OTHERS\n\nIFrame('https://race.esa.int/iframe?poi=World-E13o', width=800, height=500)","visibility":"show","key":"S4m1Ra4l9N"},{"type":"output","id":"z-erGj2GVa2gouceCajUk","data":[{"output_type":"execute_result","execution_count":15,"metadata":{},"data":{"text/html":{"content":"\n        \u003ciframe\n            width=\"800\"\n            height=\"500\"\n            src=\"https://race.esa.int/iframe?poi=World-E13o\"\n            frameborder=\"0\"\n            allowfullscreen\n            \n        \u003e\u003c/iframe\u003e\n        ","content_type":"text/html"},"text/plain":{"content":"\u003cIPython.lib.display.IFrame at 0x7f98aada8940\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"nXY6f5RLVa"}],"visibility":"show","key":"DjILo0fpgM"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.029511,"end_time":"2023-03-22T13:10:36.954523","exception":false,"start_time":"2023-03-22T13:10:36.925012","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Getting the actual vessel density map data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"R9znxweV2R"}],"identifier":"getting-the-actual-vessel-density-map-data","label":"Getting the actual vessel density map data","html_id":"getting-the-actual-vessel-density-map-data","implicit":true,"key":"N0gScd9zZV"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The vessel data is accessible using the Sentinel Hub service, and can be retrieve using the byoc (bring your own COG) code availble in the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ZT1nDMJgoa"},{"type":"link","url":"https://collections.eurodatacube.com/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Eurodatacube Collections","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"grkG3XkM2v"}],"urlSource":"https://collections.eurodatacube.com/","key":"rd0RlrwZZW"},{"type":"text","value":".","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"fmYQe4A4zc"}],"key":"DFsvONIsho"}],"visibility":"show","key":"ePPkqYvdLB"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:10:37.024390Z","iopub.status.busy":"2023-03-22T13:10:37.023935Z","iopub.status.idle":"2023-03-22T13:10:37.050681Z","shell.execute_reply":"2023-03-22T13:10:37.049218Z"},"papermill":{"duration":0.071088,"end_time":"2023-03-22T13:10:37.054882","exception":false,"start_time":"2023-03-22T13:10:36.983794","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# define the area\n\ndef bbox(coord_list):\n     box = []\n     for i in (0,1):\n         res = sorted(coord_list, key=lambda x:x[i])\n         box.append((res[0][i],res[-1][i]))\n     ret = f\"({box[0][0]} {box[1][0]}, {box[0][1]} {box[1][1]})\"\n     return ret\n\n# Parse the json here\n\nimport geojson\nimport shapely.wkt\n\n# We have the POLYGON pre-defined for the Venice Lagoon. It is the same one that is used in EO Dashboard to display the Venice Water Quality Maps.\n\narea = shapely.wkt.loads('POLYGON((12.174395 44.778037,12.196361 44.816998,12.085149 45.405263,12.426024 45.583514,13.153667 45.779148,13.603981 45.811687,13.804426 45.675662,13.823647 45.596962,13.626039 45.443008,13.549156 45.433376,13.626039 45.323461,13.713905 45.095238,13.78383 44.980605,13.830519 44.892158,13.8 44.5,12.234821 44.481556,12.06659 44.581469,12.174395 44.778037))')\ngj_feat = geojson.Feature(geometry=area, properties={})\n\nIPython.display.GeoJSON(gj_feat)","visibility":"show","key":"lwj4cyFRXp"},{"type":"output","id":"6MefC9M96p67tgNltVaq5","data":[{"output_type":"display_data","metadata":{"application/geo+json":{"expanded":false,"root":"root"}},"data":{"application/geo+json":{"content":"{\"geometry\":{\"coordinates\":[[[12.174395,44.778037],[12.196361,44.816998],[12.085149,45.405263],[12.426024,45.583514],[13.153667,45.779148],[13.603981,45.811687],[13.804426,45.675662],[13.823647,45.596962],[13.626039,45.443008],[13.549156,45.433376],[13.626039,45.323461],[13.713905,45.095238],[13.78383,44.980605],[13.830519,44.892158],[13.8,44.5],[12.234821,44.481556],[12.06659,44.581469],[12.174395,44.778037]]],\"type\":\"Polygon\"},\"properties\":{},\"type\":\"Feature\"}","content_type":"application/geo+json"},"text/plain":{"content":"\u003cIPython.display.GeoJSON object\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"THJKAAdASl"}],"visibility":"show","key":"Y8biJDnMPR"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:10:37.136572Z","iopub.status.busy":"2023-03-22T13:10:37.136041Z","iopub.status.idle":"2023-03-22T13:10:37.149842Z","shell.execute_reply":"2023-03-22T13:10:37.146426Z"},"papermill":{"duration":0.061088,"end_time":"2023-03-22T13:10:37.153314","exception":false,"start_time":"2023-03-22T13:10:37.092226","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# we create a bounding box for the geojson \n\nline = bbox(list(geojson.utils.coords(gj_feat)))\nprint(line)","visibility":"show","key":"pIjmmpuyYY"},{"type":"output","id":"bb7GcrQg7qY4d5Dc0jofm","data":[{"name":"stdout","output_type":"stream","text":"(12.06659 44.481556, 13.830519 45.811687)\n"}],"visibility":"show","key":"EiNM6kGKAZ"}],"visibility":"show","key":"NiyskNp9Av"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:10:37.237782Z","iopub.status.busy":"2023-03-22T13:10:37.237369Z","iopub.status.idle":"2023-03-22T13:10:37.249247Z","shell.execute_reply":"2023-03-22T13:10:37.246887Z"},"papermill":{"duration":0.055238,"end_time":"2023-03-22T13:10:37.253135","exception":false,"start_time":"2023-03-22T13:10:37.197897","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# use the coordinates to define the boundinbox for the Venice Laggon in the Adriatic \nadriatic = [\n  12.06659,\n  44.481556,\n  13.830519,\n  45.811687\n]","visibility":"show","key":"ukwe9cwPsZ"},{"type":"output","id":"2RVL0SsjEQs9XJEBpGyCd","data":[],"visibility":"show","key":"StkpOg7rin"}],"visibility":"show","key":"vmaALXQ1It"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:10:37.336403Z","iopub.status.busy":"2023-03-22T13:10:37.333745Z","iopub.status.idle":"2023-03-22T13:10:37.405762Z","shell.execute_reply":"2023-03-22T13:10:37.400979Z"},"papermill":{"duration":0.118312,"end_time":"2023-03-22T13:10:37.409319","exception":false,"start_time":"2023-03-22T13:10:37.291007","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# set the resolution and create a Sentinel Hub bbox and size object\n\nresolution = 100\nadriatic_bbox = BBox(bbox=adriatic, crs=CRS.WGS84)\nadriatic_size = bbox_to_dimensions(adriatic_bbox, resolution=resolution)\n\nprint(f'Image shape at {resolution} m resolution: {adriatic_bbox} pixels')","visibility":"show","key":"ZvngmKXF8s"},{"type":"output","id":"lTST7ki9clphxUGckhJ2Y","data":[{"name":"stdout","output_type":"stream","text":"Image shape at 100 m resolution: 12.06659,44.481556,13.830519,45.811687 pixels\n"},{"name":"stderr","output_type":"stream","text":"/tmp/ipykernel_2519/62629348.py:7: SHDeprecationWarning: The string representation of `BBox` will change to match its `repr` representation.\n  print(f'Image shape at {resolution} m resolution: {adriatic_bbox} pixels')\n"}],"visibility":"show","key":"emnw29Tosm"}],"visibility":"show","key":"yF3dgKKZ3d"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:10:37.491803Z","iopub.status.busy":"2023-03-22T13:10:37.490872Z","iopub.status.idle":"2023-03-22T13:10:37.504243Z","shell.execute_reply":"2023-03-22T13:10:37.501440Z"},"papermill":{"duration":0.068836,"end_time":"2023-03-22T13:10:37.520062","exception":false,"start_time":"2023-03-22T13:10:37.451226","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Define the plot_image function\ndef plot_image(image, factor=1.0, clip_range = None, **kwargs):\n    \"\"\"\n    Utility function for plotting RGB images.\n    \"\"\"\n    fig, ax = plt.subplots(nrows=1, ncols=1, figsize=(15, 15))\n    if clip_range is not None:\n        ax.imshow(np.clip(image * factor, *clip_range), **kwargs)\n    else:\n        ax.imshow(image * factor, **kwargs)\n    \n    ax.set_xticks([])\n    ax.set_yticks([])","visibility":"show","key":"sOsoZAJlBO"},{"type":"output","id":"S9lvfN6JhlEaniMWwmvG7","data":[],"visibility":"show","key":"zZsiJSmUt6"}],"visibility":"show","key":"nr0qgzOZAt"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.033278,"end_time":"2023-03-22T13:10:37.621167","exception":false,"start_time":"2023-03-22T13:10:37.587889","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Request vessel density data from the Sentinel Hub","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Opz2Dy3hmN"}],"identifier":"request-vessel-density-data-from-the-sentinel-hub","label":"Request vessel density data from the Sentinel Hub","html_id":"request-vessel-density-data-from-the-sentinel-hub","implicit":true,"key":"ETXphPWQta"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"First we build the evalscript to request the data","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"iHdDakg47T"}],"key":"tpRMArNIAc"}],"visibility":"show","key":"lfZK46ZLgI"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.036886,"end_time":"2023-03-22T13:10:37.698679","exception":false,"start_time":"2023-03-22T13:10:37.661793","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"variables to be inicted in the script for retrieving the SH images  and bands","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ih7e0qX7ks"}],"identifier":"variables-to-be-inicted-in-the-script-for-retrieving-the-sh-images-and-bands","label":"variables to be inicted in the script for retrieving the SH images  and bands","html_id":"variables-to-be-inicted-in-the-script-for-retrieving-the-sh-images-and-bands","implicit":true,"key":"urbiEnawg1"}],"visibility":"show","key":"ARM7PgBYKW"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:10:37.786196Z","iopub.status.busy":"2023-03-22T13:10:37.783819Z","iopub.status.idle":"2023-03-22T13:10:37.794614Z","shell.execute_reply":"2023-03-22T13:10:37.792604Z"},"papermill":{"duration":0.059216,"end_time":"2023-03-22T13:10:37.801075","exception":false,"start_time":"2023-03-22T13:10:37.741859","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"### Parameters for the scripts for retrieving images from SH\nband = \"All\"\ncollectionID = \"beee9b47-b1ab-4044-baa5-0958d3465f12\"\nstart_date_cov = \"2020-03-15\"\nend_date_cov= \"2020-04-15\" \nstart_date_pre = \"2020-01-15\"\nend_date_pre= \"2020-02-15\" ","visibility":"show","key":"JQVVKdNEOv"},{"type":"output","id":"dchetEaNUzvh73d6JZgId","data":[],"visibility":"show","key":"uTMt098iWD"}],"visibility":"show","key":"OWtai40U8J"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:10:37.884559Z","iopub.status.busy":"2023-03-22T13:10:37.882113Z","iopub.status.idle":"2023-03-22T13:10:37.894107Z","shell.execute_reply":"2023-03-22T13:10:37.891853Z"},"papermill":{"duration":0.061901,"end_time":"2023-03-22T13:10:37.898754","exception":false,"start_time":"2023-03-22T13:10:37.836853","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"evalscript_vessels = \"\"\"\n    //VERSION=3\n    function setup() {\n    return {\n        input: [{\n          bands: [\"%s\", \"dataMask\"], // this sets which bands to use\n        }],\n        output: { // this defines the output image type\n          bands: 4,\n          sampleType: \"UINT8\"\n        }\n    };\n}\n\nfunction evaluatePixel(sample) {\n\n  var arr = colorBlend(sample.%s,    [0.5, 2, 5 , 10, 20 , 100],    \n  [[0,155,143],[0,219,0],[255,252,0],[244,154,0],[208,19,0], [161,0,0] ]); \n  if (sample.dataMask==1)  arr.push(255);\n  else arr.push(0);\n  return arr;\n}\n\n    \"\"\"%(band,band)\nprint(evalscript_vessels)","visibility":"show","key":"xk6tRTidcG"},{"type":"output","id":"F64UFsxnlf9LKEC9STnvo","data":[{"name":"stdout","output_type":"stream","text":"\n    //VERSION=3\n    function setup() {\n    return {\n        input: [{\n          bands: [\"All\", \"dataMask\"], // this sets which bands to use\n        }],\n        output: { // this defines the output image type\n          bands: 4,\n          sampleType: \"UINT8\"\n        }\n    };\n}\n\nfunction evaluatePixel(sample) {\n\n  var arr = colorBlend(sample.All,    [0.5, 2, 5 , 10, 20 , 100],    \n  [[0,155,143],[0,219,0],[255,252,0],[244,154,0],[208,19,0], [161,0,0] ]); \n  if (sample.dataMask==1)  arr.push(255);\n  else arr.push(0);\n  return arr;\n}\n\n    \n"}],"visibility":"show","key":"lP0ITQ6BlO"}],"visibility":"show","key":"t6S9nMlujI"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.084564,"end_time":"2023-03-22T13:10:38.036671","exception":false,"start_time":"2023-03-22T13:10:37.952107","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now we request data over the lockdown period, remember we detected a low point in activity of 2020-04-05.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LoI9Tcwv9z"}],"key":"A8DOpMyFU8"}],"visibility":"show","key":"C33t4rpWbP"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:10:38.152119Z","iopub.status.busy":"2023-03-22T13:10:38.150562Z","iopub.status.idle":"2023-03-22T13:10:38.166335Z","shell.execute_reply":"2023-03-22T13:10:38.164034Z"},"papermill":{"duration":0.066037,"end_time":"2023-03-22T13:10:38.169603","exception":false,"start_time":"2023-03-22T13:10:38.103566","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"request_vessels_covid = SentinelHubRequest(\n    evalscript=evalscript_vessels,\n    input_data=[\n        SentinelHubRequest.input_data(\n            data_collection=DataCollection.define_byoc(collectionID),\n            time_interval=(start_date_cov, end_date_cov),\n        )\n    ],\n    responses=[\n        SentinelHubRequest.output_response('default', MimeType.PNG)\n    ],\n    bbox=adriatic_bbox,\n    size=adriatic_size,\n    config=config\n)","visibility":"show","key":"ZSWxQ4LsVM"},{"type":"output","id":"Ei5w4zcJ3RPjmUfJjTodl","data":[],"visibility":"show","key":"U8nSetfECn"}],"visibility":"show","key":"Yr82CBINXw"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.027802,"end_time":"2023-03-22T13:10:38.226562","exception":false,"start_time":"2023-03-22T13:10:38.198760","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We set the pre-covid period one month before.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UjsNDlGYO4"}],"key":"CtMIfVp2np"}],"visibility":"show","key":"Kr3fSO9buL"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:10:38.285603Z","iopub.status.busy":"2023-03-22T13:10:38.285011Z","iopub.status.idle":"2023-03-22T13:10:38.297452Z","shell.execute_reply":"2023-03-22T13:10:38.295638Z"},"papermill":{"duration":0.045781,"end_time":"2023-03-22T13:10:38.300928","exception":false,"start_time":"2023-03-22T13:10:38.255147","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"request_vessels_pre = SentinelHubRequest(\n    evalscript=evalscript_vessels,\n    input_data=[\n        SentinelHubRequest.input_data(\n            data_collection=DataCollection.define_byoc('beee9b47-b1ab-4044-baa5-0958d3465f12'),\n            time_interval=(start_date_pre, end_date_pre),\n        )\n    ],\n    responses=[\n        SentinelHubRequest.output_response('default', MimeType.PNG)\n    ],\n    bbox=adriatic_bbox,\n    size=adriatic_size,\n    config=config\n)","visibility":"show","key":"iTNvEHMwko"},{"type":"output","id":"9gyxA1CiP72Jd0d2Bnshe","data":[],"visibility":"show","key":"d9ZCivwKyf"}],"visibility":"show","key":"OMfoGQMHyx"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.028386,"end_time":"2023-03-22T13:10:38.358516","exception":false,"start_time":"2023-03-22T13:10:38.330130","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Request vessel density map data during lockdown","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nRRmPNcTv6"}],"identifier":"request-vessel-density-map-data-during-lockdown","label":"Request vessel density map data during lockdown","html_id":"request-vessel-density-map-data-during-lockdown","implicit":true,"key":"h7V1Q1V2xl"}],"visibility":"show","key":"gx9ICbc3RJ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:10:38.419867Z","iopub.status.busy":"2023-03-22T13:10:38.419358Z","iopub.status.idle":"2023-03-22T13:10:41.689481Z","shell.execute_reply":"2023-03-22T13:10:41.686378Z"},"papermill":{"duration":3.30916,"end_time":"2023-03-22T13:10:41.696869","exception":false,"start_time":"2023-03-22T13:10:38.387709","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"vessel_covid = request_vessels_covid.get_data()","visibility":"show","key":"OaMSgfTdOf"},{"type":"output","id":"6LHvW74jD2djZDCxRgVxE","data":[],"visibility":"show","key":"AqTPrJwWoT"}],"visibility":"show","key":"KSAZaK4d87"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:10:41.779903Z","iopub.status.busy":"2023-03-22T13:10:41.779023Z","iopub.status.idle":"2023-03-22T13:10:45.895051Z","shell.execute_reply":"2023-03-22T13:10:45.893513Z"},"papermill":{"duration":4.160676,"end_time":"2023-03-22T13:10:45.905021","exception":false,"start_time":"2023-03-22T13:10:41.744345","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"image = vessel_covid[0]\nprint(f'Image type: {image.dtype}')\n\n# plot function\ncovid_data = request_vessels_covid.get_data()\nplot_image(covid_data[0], factor=1 / 255)","visibility":"show","key":"VRz5EfIHZs"},{"type":"output","id":"0ITPg-oZO2B0kS0GZksFg","data":[{"name":"stdout","output_type":"stream","text":"Image type: uint8\n"},{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"da5642acb1a717a8bf53da7172fd9203","path":"/notebooks_test/build/da5642acb1a717a8bf53da7172fd9203.png"},"text/plain":{"content":"\u003cFigure size 1500x1500 with 1 Axes\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"jZk0cWuJxA"}],"visibility":"show","key":"bF7HskUVl7"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.042281,"end_time":"2023-03-22T13:10:46.004876","exception":false,"start_time":"2023-03-22T13:10:45.962595","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Request vessel density map data before lockdown","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TJ5PT9yjpK"}],"identifier":"request-vessel-density-map-data-before-lockdown","label":"Request vessel density map data before lockdown","html_id":"request-vessel-density-map-data-before-lockdown","implicit":true,"key":"z2uRT3bnBg"}],"visibility":"show","key":"KwYBZBtWDA"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:10:46.093409Z","iopub.status.busy":"2023-03-22T13:10:46.092394Z","iopub.status.idle":"2023-03-22T13:10:48.544786Z","shell.execute_reply":"2023-03-22T13:10:48.543328Z"},"papermill":{"duration":2.504895,"end_time":"2023-03-22T13:10:48.553152","exception":false,"start_time":"2023-03-22T13:10:46.048257","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"vessel_pre = request_vessels_pre.get_data()","visibility":"show","key":"BFTbIG4Euy"},{"type":"output","id":"sliE9IMrKnXbL0EJo9SSc","data":[],"visibility":"show","key":"rMDPJxpq1D"}],"visibility":"show","key":"OA2XPTyXix"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:10:48.729789Z","iopub.status.busy":"2023-03-22T13:10:48.728222Z","iopub.status.idle":"2023-03-22T13:10:53.155357Z","shell.execute_reply":"2023-03-22T13:10:53.151706Z"},"papermill":{"duration":4.552227,"end_time":"2023-03-22T13:10:53.165971","exception":false,"start_time":"2023-03-22T13:10:48.613744","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"image = vessel_pre[0]\nprint(f'Image type: {image.dtype}')\n\n# plot function\npre_data = request_vessels_pre.get_data()\nplot_image(pre_data[0], factor=1 / 255)","visibility":"show","key":"fEAmGropzm"},{"type":"output","id":"ZApjkPp2cgdHvqEzlVowf","data":[{"name":"stdout","output_type":"stream","text":"Image type: uint8\n"},{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"4d5a9431641fb52295b731a3e3270a13","path":"/notebooks_test/build/4d5a9431641fb52295b731a3e3270a13.png"},"text/plain":{"content":"\u003cFigure size 1500x1500 with 1 Axes\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"L3WJzXjsuF"}],"visibility":"show","key":"qrWWCEhHWo"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:10:53.283229Z","iopub.status.busy":"2023-03-22T13:10:53.282020Z","iopub.status.idle":"2023-03-22T13:10:53.310774Z","shell.execute_reply":"2023-03-22T13:10:53.308117Z"},"papermill":{"duration":0.08967,"end_time":"2023-03-22T13:10:53.316103","exception":false,"start_time":"2023-03-22T13:10:53.226433","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# get the range of values for the vessel density maps\n\nimport numpy as np\nmin_pre = np.amin(pre_data[0])\nmax_pre = np.amax(pre_data[0])\n\nmin_post = np.amin(covid_data[0])\nmax_post = np.amax(covid_data[0])\n\nprint (\"min value pre-lockdown:\", min_pre, \"max value pre-lockdown:\", max_pre)\nprint (\"min value lockdown:\", min_post, \"max value lockdown:\", max_post)","visibility":"show","key":"YL2uXOdYg1"},{"type":"output","id":"gKrsSny-UpCOtRbLlsI2Z","data":[{"name":"stdout","output_type":"stream","text":"min value pre-lockdown: 0 max value pre-lockdown: 255\nmin value lockdown: 0 max value lockdown: 255\n"}],"visibility":"show","key":"lsIkVW5Tx7"}],"visibility":"show","key":"zfCMkHNXQs"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.054777,"end_time":"2023-03-22T13:10:53.427634","exception":false,"start_time":"2023-03-22T13:10:53.372857","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"The red areas indicate areas with high vessel density and the dark green areas with low density.\nFrom the two images we can see a clear reduction in vessel density with the data corresponding to reduced acrivity in the Veneto region.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YYKb1pTwFv"}],"key":"y42qBDxnHG"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"From the ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"m53oAeQM93"},{"type":"link","url":"https://www.emodnet-humanactivities.eu/documents/Vessel%20density%20maps_method_v1.5.pdfhttps://www.emodnet-humanactivities.eu/documents/Vessel%20density%20maps_method_v1.5.pdf","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"dataset documentation","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Vt99QtmcgE"}],"urlSource":"https://www.emodnet-humanactivities.eu/documents/Vessel%20density%20maps_method_v1.5.pdfhttps://www.emodnet-humanactivities.eu/documents/Vessel%20density%20maps_method_v1.5.pdf","key":"g4vqLAaBeG"},{"type":"text","value":" we know that the units of density in the published maps are ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"z3vWQZn38u"},{"type":"inlineCode","value":"total ship time in hours spent in a cell over the whole month","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"bhyPsopf1o"},{"type":"text","value":". As the cells are 1 km , this is immediately per square km.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"vkf8Kp3KTn"}],"key":"Y8OW2iHdeH"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"So every pixel in the original data has a value of ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"BBX4XcDR9P"},{"type":"inlineCode","value":"N = nr_hours x nr_ships x nr_days_in_month","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"EbRRpNg2cc"}],"key":"xvXhXX1XM8"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"In order to obtain the density as the average number of instantaneous ships per square km, the values of the published monthly maps must be divided by the total number of hours in the month, which is 28, 30 or 31 times 24 hours depending on the month. For the published yearly average maps, the values must be multiplied by 12 and divided by 365 times 24 hours (for 2017).","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"aZ9EoDEJrZ"}],"key":"oB6MaRE3Eh"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"To convert to ship density per square degree instead of per square km, the published numbers can be multiplied by the factor ( 60 * 1.852 )2 cos( latitude ).","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"OC9GoDs07p"}],"key":"HY53Rp4HKQ"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"strong","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Note that in the plotted images above, the pixel values range between [0, 255]. This is due to the fact that all values above 100 hours have been capped at 255","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"OYF5xhPMKn"}],"key":"Ou46gfmYSM"},{"type":"text","value":".","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"BY0bfQkw2r"}],"key":"l1xfzvUVr3"}],"visibility":"show","key":"LUUiqSFOq7"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.070213,"end_time":"2023-03-22T13:10:53.561137","exception":false,"start_time":"2023-03-22T13:10:53.490924","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Exercise 1: Use EO Dashboard/ RACE Dashboard to extract vessel density time series","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"r4ualXFvVz"}],"identifier":"exercise-1-use-eo-dashboard-race-dashboard-to-extract-vessel-density-time-series","label":"Exercise 1: Use EO Dashboard/ RACE Dashboard to extract vessel density time series","html_id":"exercise-1-use-eo-dashboard-race-dashboard-to-extract-vessel-density-time-series","implicit":true,"key":"WoaUcsOk6t"}],"visibility":"show","key":"vlTtE4KQ7J"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.065175,"end_time":"2023-03-22T13:10:53.688568","exception":false,"start_time":"2023-03-22T13:10:53.623393","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Vessel data can be accessed on the RACE Dashboard at ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PoPxpSIkzy"},{"type":"link","url":"https://race.esa.int/?poi=World-E13o","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"https://​race​.esa​.int​/​?poi​=​World​-E13o","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"u3uC8Ibyen"}],"urlSource":"https://race.esa.int/?poi=World-E13o","key":"zdtE8ekfSz"}],"key":"YSDkjYkRGA"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Using the Draw AOI feature, generate a time series chart. Note that the polygon information is included in the URL.\nUse the information from the previously defined bounding box to customise the AOI, then regenerate the graph.\nDownload the CSV and import it into your workspace.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"VJDXxP7hZe"}],"key":"GIlA7bOG6V"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Read the CSV and plot the graph.\nCan you determine significant changes in the vessel traffic from the plot?","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"EglXVAohKD"}],"key":"slWGYeH5LG"}],"visibility":"show","key":"ymvlt87LUq"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.056787,"end_time":"2023-03-22T13:10:53.798563","exception":false,"start_time":"2023-03-22T13:10:53.741776","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Using the NASA API to retrieve nightlights data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Mq6r6xpDGE"}],"identifier":"using-the-nasa-api-to-retrieve-nightlights-data","label":"Using the NASA API to retrieve nightlights data","html_id":"using-the-nasa-api-to-retrieve-nightlights-data","implicit":true,"key":"PphfRPGH7t"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Let’s inspect the Nightlights data over Venice. To inspect other locations and learn more about these datasets access this ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"tlAr3NvEiD"},{"type":"link","url":"https://eodashboard.org/story?id=nightlights","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Nightlights Story on EO Dashboard","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"HElxlbvDUo"}],"urlSource":"https://eodashboard.org/story?id=nightlights","key":"uq51JuxByb"}],"key":"thwTNkbK2D"}],"visibility":"show","key":"tRes3mDu4S"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:10:53.918013Z","iopub.status.busy":"2023-03-22T13:10:53.917543Z","iopub.status.idle":"2023-03-22T13:10:53.935722Z","shell.execute_reply":"2023-03-22T13:10:53.933580Z"},"papermill":{"duration":0.084543,"end_time":"2023-03-22T13:10:53.940880","exception":false,"start_time":"2023-03-22T13:10:53.856337","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"IFrame('https://eodashboard.org/explore?indicator=N5\u0026poi=IT01-N5', width=800, height=500)","visibility":"show","key":"yhNXlE0LQh"},{"type":"output","id":"NSFKmPli0A2Bm-xH5sF1H","data":[{"output_type":"execute_result","execution_count":30,"metadata":{},"data":{"text/html":{"content":"\n        \u003ciframe\n            width=\"800\"\n            height=\"500\"\n            src=\"https://eodashboard.org/explore?indicator=N5\u0026poi=IT01-N5\"\n            frameborder=\"0\"\n            allowfullscreen\n            \n        \u003e\u003c/iframe\u003e\n        ","content_type":"text/html"},"text/plain":{"content":"\u003cIPython.lib.display.IFrame at 0x7f98aada8b20\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"VwBJtREka6"}],"visibility":"show","key":"DZReJsCjfF"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.057422,"end_time":"2023-03-22T13:10:54.057237","exception":false,"start_time":"2023-03-22T13:10:53.999815","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now we retrieve nightlights data from the NASA API to check if there is a reduction in activity in the island of Venice over the covid period. The High Definition Nightlights dataset is processed to eliminate light sources like moonlight reflectance and other interferences. The darker shades are places with less light while the lighter shades of yellow are areas with more light.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Bdis1IFiIa"}],"key":"BA9hei4Rb4"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The endpoints include a STAC API, which is a catalog endpoint to retrieve metadata on available datasets: ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"VpkJ3nKQnG"},{"type":"link","url":"https://staging-stac.delta-backend.com/docs/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"https://​staging​-stac​.delta​-backend​.com​/docs/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"aicVCWCJTf"}],"urlSource":"https://staging-stac.delta-backend.com/docs/","key":"AZR1gnN0cj"}],"key":"HDC9iYeeyk"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The other is to render the data for which we find information in the STAC API: ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"UZr0DdDHUv"},{"type":"link","url":"https://staging-raster.delta-backend.com/docs/","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"https://​staging​-raster​.delta​-backend​.com​/docs/","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"fEdnCOLpNX"}],"urlSource":"https://staging-raster.delta-backend.com/docs/","key":"f1p3ZRtXuu"}],"key":"GIZfQJjWWY"}],"visibility":"show","key":"MygMkfdmH8"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:10:54.175126Z","iopub.status.busy":"2023-03-22T13:10:54.174654Z","iopub.status.idle":"2023-03-22T13:10:54.186307Z","shell.execute_reply":"2023-03-22T13:10:54.184125Z"},"papermill":{"duration":0.077878,"end_time":"2023-03-22T13:10:54.189859","exception":false,"start_time":"2023-03-22T13:10:54.111981","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# endpoints for nasa api\nSTAC_ENDPOINT_URL = \"https://staging-stac.delta-backend.com\"\nRASTER_ENDPOINT_URL = \"https://staging-raster.delta-backend.com\"","visibility":"show","key":"cUUFDAglYV"},{"type":"output","id":"JszYFkmQGOzsiS2L5Bfa8","data":[],"visibility":"show","key":"WKFLFmvvHD"}],"visibility":"show","key":"JKz3e511XC"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.056446,"end_time":"2023-03-22T13:10:54.309634","exception":false,"start_time":"2023-03-22T13:10:54.253188","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Request metadata for the nightlights data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JcwnzbMXHQ"}],"identifier":"request-metadata-for-the-nightlights-data","label":"Request metadata for the nightlights data","html_id":"request-metadata-for-the-nightlights-data","implicit":true,"key":"SpFUMeyVxm"}],"visibility":"show","key":"HhfPttbWH1"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:10:54.438982Z","iopub.status.busy":"2023-03-22T13:10:54.437260Z","iopub.status.idle":"2023-03-22T13:10:55.393931Z","shell.execute_reply":"2023-03-22T13:10:55.388132Z"},"papermill":{"duration":1.022943,"end_time":"2023-03-22T13:10:55.397569","exception":false,"start_time":"2023-03-22T13:10:54.374626","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# summary of the metadata for the indicator of interest\nnightlights_collection_summary = re.get(f\"{STAC_ENDPOINT_URL}/collections/nightlights-hd-monthly\").json()\nnightlights_collection_summary","visibility":"show","key":"eKG0gO3Kn0"},{"type":"output","id":"Q1t-ROdO36sEEM-dSSuhH","data":[{"output_type":"execute_result","execution_count":32,"metadata":{},"data":{"text/plain":{"content":"{'id': 'nightlights-hd-monthly',\n 'type': 'Collection',\n 'links': [{'rel': 'items',\n   'type': 'application/geo+json',\n   'href': 'https://staging-stac.delta-backend.com/collections/nightlights-hd-monthly/items'},\n  {'rel': 'parent',\n   'type': 'application/json',\n   'href': 'https://staging-stac.delta-backend.com/'},\n  {'rel': 'root',\n   'type': 'application/json',\n   'href': 'https://staging-stac.delta-backend.com/'},\n  {'rel': 'self',\n   'type': 'application/json',\n   'href': 'https://staging-stac.delta-backend.com/collections/nightlights-hd-monthly'}],\n 'title': 'Black Marble High Definition Nightlights Monthly Dataset',\n 'extent': {'spatial': {'bbox': [[-180, -90, 180, 90]]},\n  'temporal': {'interval': [['2017-07-21T00:00:00Z',\n     '2021-09-30T23:59:59Z']]}},\n 'license': 'MIT',\n 'summaries': {'datetime': ['2019-01-01T00:00:00Z', '2022-03-01T00:00:00Z'],\n  'cog_default': {'max': 255, 'min': 0}},\n 'description': 'The High Definition Nightlights dataset is processed to eliminate light sources, including moonlight reflectance and other interferences. Darker colors indicate fewer night lights and less activity. Lighter colors indicate more night lights and more activity.',\n 'item_assets': {'cog_default': {'type': 'image/tiff; application=geotiff; profile=cloud-optimized',\n   'roles': ['data', 'layer'],\n   'title': 'Default COG Layer',\n   'description': 'Cloud optimized default layer to display on map'}},\n 'stac_version': '1.0.0',\n 'stac_extensions': [],\n 'dashboard:is_periodic': True,\n 'dashboard:time_density': 'month'}","content_type":"text/plain"}}}],"visibility":"show","key":"TAefkQ5yYe"}],"visibility":"show","key":"Ac48YqpFYT"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.055087,"end_time":"2023-03-22T13:10:55.506750","exception":false,"start_time":"2023-03-22T13:10:55.451663","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Request nightlights data before lockdown","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QK8yqFv9mU"}],"identifier":"request-nightlights-data-before-lockdown","label":"Request nightlights data before lockdown","html_id":"request-nightlights-data-before-lockdown","implicit":true,"key":"YYE8JhpU8C"}],"visibility":"show","key":"t4KEsycdG2"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:10:55.620348Z","iopub.status.busy":"2023-03-22T13:10:55.618559Z","iopub.status.idle":"2023-03-22T13:10:56.495888Z","shell.execute_reply":"2023-03-22T13:10:56.494246Z"},"papermill":{"duration":0.935542,"end_time":"2023-03-22T13:10:56.498666","exception":false,"start_time":"2023-03-22T13:10:55.563124","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# retrieving a pre-covid image from the STAC API\n\nresponse_pre = re.post(\n    f\"{STAC_ENDPOINT_URL}/search\", \n    json={\n        \"collections\": [\"nightlights-hd-monthly\"],\n        \"query\": {\"datetime\": {\"eq\":\"2019-04-01T00:00:00\"}},\n        \"limit\": 100\n    }\n).json()\nitem_pre = response_pre[\"features\"][0]","visibility":"show","key":"vGA1bHENgi"},{"type":"output","id":"tnr88TouReOHfBfeIiA50","data":[],"visibility":"show","key":"AknMikIfcN"}],"visibility":"show","key":"JmNrmt3sn8"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.059026,"end_time":"2023-03-22T13:10:56.623746","exception":false,"start_time":"2023-03-22T13:10:56.564720","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In order to render the image correctly you must define the visualisation parameters, which will differ between datasets. Here in the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vmPYM2pbG4"},{"type":"link","url":"https://staging-raster.delta-backend.com/docs#/Cloud%20Optimized%20GeoTIFF/preview_cog_preview__format__get","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"documentation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"alOFsE1vIP"}],"urlSource":"https://staging-raster.delta-backend.com/docs#/Cloud%20Optimized%20GeoTIFF/preview_cog_preview__format__get","key":"IekIrlPI4N"},{"type":"text","value":" you can input the correct visualisation parameters and generate an output, this will help you to form the request within the notebook.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qe6IoG7rzh"}],"key":"fvRYwUI17v"}],"visibility":"show","key":"NhL5osYLam"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:10:56.748891Z","iopub.status.busy":"2023-03-22T13:10:56.748222Z","iopub.status.idle":"2023-03-22T13:10:57.489562Z","shell.execute_reply":"2023-03-22T13:10:57.481422Z"},"papermill":{"duration":0.81192,"end_time":"2023-03-22T13:10:57.492771","exception":false,"start_time":"2023-03-22T13:10:56.680851","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# rendering the image with the RASTER API\ntiles_pre_covid = re.get(\n    f\"{RASTER_ENDPOINT_URL}/stac/tilejson.json?collection={item_pre['collection']}\u0026item={item_pre['id']}\u0026assets=cog_default\u0026bidx=1\u0026unscale=false\u0026resampling=nearest\u0026max_size=1024\u0026rescale=0%2C255\u0026colormap_name=plasma\", \n).json()\ntiles_pre_covid","visibility":"show","key":"sO1k1f6zbU"},{"type":"output","id":"yHZFyyjCn4MVD0jCVRdJ-","data":[{"output_type":"execute_result","execution_count":34,"metadata":{},"data":{"text/plain":{"content":"{'tilejson': '2.2.0',\n 'version': '1.0.0',\n 'scheme': 'xyz',\n 'tiles': ['https://staging-raster.delta-backend.com/stac/tiles/WebMercatorQuad/{z}/{x}/{y}@1x?collection=nightlights-hd-monthly\u0026item=finalBMHD_ScaledVenice_201904\u0026assets=cog_default\u0026bidx=1\u0026unscale=false\u0026resampling=nearest\u0026max_size=1024\u0026rescale=0%2C255\u0026colormap_name=plasma'],\n 'minzoom': 0,\n 'maxzoom': 24,\n 'bounds': [11.7631744, 45.06062636, 12.79039608, 45.79310055],\n 'center': [12.27678524, 45.426863455, 0]}","content_type":"text/plain"}}}],"visibility":"show","key":"EQgQEvMfeF"}],"visibility":"show","key":"agr7qorbWo"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.05824,"end_time":"2023-03-22T13:10:57.618903","exception":false,"start_time":"2023-03-22T13:10:57.560663","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Request nightlights data during lockdown","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Gi1d9eECGb"}],"identifier":"request-nightlights-data-during-lockdown","label":"Request nightlights data during lockdown","html_id":"request-nightlights-data-during-lockdown","implicit":true,"key":"sbintO57eo"}],"visibility":"show","key":"uIIlMBvAZT"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:10:57.765003Z","iopub.status.busy":"2023-03-22T13:10:57.764595Z","iopub.status.idle":"2023-03-22T13:10:58.664407Z","shell.execute_reply":"2023-03-22T13:10:58.662742Z"},"papermill":{"duration":0.994943,"end_time":"2023-03-22T13:10:58.667535","exception":false,"start_time":"2023-03-22T13:10:57.672592","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# retrieving a covid image from the STAC API\n\nresponse_nasa_covid = re.post(\n    f\"{STAC_ENDPOINT_URL}/search\", \n    json={\n        \"collections\": [\"nightlights-hd-monthly\"],\n        \"query\": {\"datetime\": {\"eq\":\"2020-04-01T00:00:00\"}},\n        \"limit\": 100\n    }\n).json()\nitem_covid = response_nasa_covid[\"features\"][0]","visibility":"show","key":"ryVtxN3Dtj"},{"type":"output","id":"uh6ZyDOCUNGGxqgVkmLfw","data":[],"visibility":"show","key":"qqCJwULiJv"}],"visibility":"show","key":"hYN2kpaJeW"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:10:58.799439Z","iopub.status.busy":"2023-03-22T13:10:58.798614Z","iopub.status.idle":"2023-03-22T13:10:59.511053Z","shell.execute_reply":"2023-03-22T13:10:59.507898Z"},"papermill":{"duration":0.794229,"end_time":"2023-03-22T13:10:59.518142","exception":false,"start_time":"2023-03-22T13:10:58.723913","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"tiles_covid = re.get(\n    f\"{RASTER_ENDPOINT_URL}/stac/tilejson.json?collection={item_covid['collection']}\u0026item={item_covid['id']}\u0026assets=cog_default\u0026bidx=1\u0026unscale=false\u0026resampling=nearest\u0026max_size=1024\u0026rescale=0%2C255\u0026colormap_name=plasma\", \n).json()\ntiles_covid","visibility":"show","key":"P7frJDHUCx"},{"type":"output","id":"aD0Iq9rSrb302nPptI1Av","data":[{"output_type":"execute_result","execution_count":36,"metadata":{},"data":{"text/plain":{"content":"{'tilejson': '2.2.0',\n 'version': '1.0.0',\n 'scheme': 'xyz',\n 'tiles': ['https://staging-raster.delta-backend.com/stac/tiles/WebMercatorQuad/{z}/{x}/{y}@1x?collection=nightlights-hd-monthly\u0026item=finalBMHD_ScaledVenice_202004\u0026assets=cog_default\u0026bidx=1\u0026unscale=false\u0026resampling=nearest\u0026max_size=1024\u0026rescale=0%2C255\u0026colormap_name=plasma'],\n 'minzoom': 0,\n 'maxzoom': 24,\n 'bounds': [11.7631744, 45.06062636, 12.79039608, 45.79310055],\n 'center': [12.27678524, 45.426863455, 0]}","content_type":"text/plain"}}}],"visibility":"show","key":"RMR6oU3DzX"}],"visibility":"show","key":"KR1GEc7xWz"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.054734,"end_time":"2023-03-22T13:10:59.623705","exception":false,"start_time":"2023-03-22T13:10:59.568971","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Directly compare the two images","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BZnonD2qgp"}],"identifier":"directly-compare-the-two-images","label":"Directly compare the two images","html_id":"directly-compare-the-two-images","implicit":true,"key":"oszV7lWt1f"}],"visibility":"show","key":"Fopmmf9yNQ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:10:59.786564Z","iopub.status.busy":"2023-03-22T13:10:59.785953Z","iopub.status.idle":"2023-03-22T13:10:59.796086Z","shell.execute_reply":"2023-03-22T13:10:59.794488Z"},"papermill":{"duration":0.134523,"end_time":"2023-03-22T13:10:59.808611","exception":false,"start_time":"2023-03-22T13:10:59.674088","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# set map parameters\ncenter = [45.438558, 12.333421]\nzoom = 13","visibility":"show","key":"wRnX725HQd"},{"type":"output","id":"YI9QPSoi0l_vZ5qOXK_r5","data":[],"visibility":"show","key":"zqQTQYXZTv"}],"visibility":"show","key":"Rm82M00qwo"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:10:59.936843Z","iopub.status.busy":"2023-03-22T13:10:59.935963Z","iopub.status.idle":"2023-03-22T13:10:59.959539Z","shell.execute_reply":"2023-03-22T13:10:59.957632Z"},"papermill":{"duration":0.097299,"end_time":"2023-03-22T13:10:59.973752","exception":false,"start_time":"2023-03-22T13:10:59.876453","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# display interactive map\nm = Map(center=center, zoom=zoom)\nm","visibility":"show","key":"QSAvEgDYZQ"},{"type":"output","id":"VwOU2Dx_oQy23JWY0Til_","data":[{"output_type":"execute_result","execution_count":38,"metadata":{},"data":{"application/vnd.jupyter.widget-view+json":{"content":"{\"model_id\":\"fd4635d27f5e4012a60cfc3f636cb9ab\",\"version_major\":2,\"version_minor\":0}","content_type":"application/vnd.jupyter.widget-view+json"},"text/plain":{"content":"Map(center=[45.438558, 12.333421], controls=(ZoomControl(options=['position', 'zoom_in_text', 'zoom_in_title',…","content_type":"text/plain"}}}],"visibility":"show","key":"b4t1hZtS7t"}],"visibility":"show","key":"Uke2zDyY6j"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:11:00.101701Z","iopub.status.busy":"2023-03-22T13:11:00.100117Z","iopub.status.idle":"2023-03-22T13:11:00.124854Z","shell.execute_reply":"2023-03-22T13:11:00.120271Z"},"papermill":{"duration":0.090283,"end_time":"2023-03-22T13:11:00.128713","exception":false,"start_time":"2023-03-22T13:11:00.038430","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"left = TileLayer(url=tiles_pre_covid[\"tiles\"][0])\nright = TileLayer(url=tiles_covid[\"tiles\"][0])\n\ncontrol = SplitMapControl(left_layer=left, right_layer=right)\nm.add_control(control)","visibility":"show","key":"zZPFN6Ev6I"},{"type":"output","id":"Aco4Lz_mfhLbcPOmxtbeD","data":[],"visibility":"show","key":"oahiBEM8oY"}],"visibility":"show","key":"bZg78aRj7c"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.082145,"end_time":"2023-03-22T13:11:00.276656","exception":false,"start_time":"2023-03-22T13:11:00.194511","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The darker areas indicate a reduction in luminosity and the yellow areas higher luminosity, when comparing the two images we can see a reduction in activity over the covid period.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DBdzBp0VF0"}],"key":"LQ8B84Qxj4"}],"visibility":"show","key":"YArTmZnShh"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.062505,"end_time":"2023-03-22T13:11:00.447510","exception":false,"start_time":"2023-03-22T13:11:00.385005","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Retrieving Sentinel 2 imagery over the Island of Venice","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"l84Rg06tBw"}],"identifier":"retrieving-sentinel-2-imagery-over-the-island-of-venice","label":"Retrieving Sentinel 2 imagery over the Island of Venice","html_id":"retrieving-sentinel-2-imagery-over-the-island-of-venice","implicit":true,"key":"dJWi6NWlwg"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Now we have identified the drop in activity due to the lockdown conditions we can retrieve the satellite images to see if there is a corresponding impact visable.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"s4oN9FkbgK"}],"key":"Q90UEjd6Oe"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"link","url":"https://sentinel.esa.int/web/sentinel/missions/sentinel-2","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Sentinel-2","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"RX6NQQM2ND"}],"urlSource":"https://sentinel.esa.int/web/sentinel/missions/sentinel-2","key":"BXdLhMmn1K"},{"type":"text","value":" is a multispectral satellite with 13 spectral bands, launched in 2016. We use the Red, Green and Blue bands to contruct a true colour image over the island of Vencie from August 2019 to August 2020.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"OdJDMiixj6"}],"key":"H0nGEqlnCM"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"This data is stored in the Sentinel Hub, for more infomation on the dataset and parameters visit the ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"wJu95saoLV"},{"type":"link","url":"https://docs.sentinel-hub.com/api/latest/data/sentinel-2-l1c/","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"documentation.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"aINsys1YrC"}],"urlSource":"https://docs.sentinel-hub.com/api/latest/data/sentinel-2-l1c/","key":"GVbVH2NJsY"}],"key":"nD9qG1z7su"}],"visibility":"show","key":"ItmywzsRZz"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.071688,"end_time":"2023-03-22T13:11:00.622214","exception":false,"start_time":"2023-03-22T13:11:00.550526","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"First we define a bounding box for our area of intrest. An easy way to do this is using the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"U4fBV2TtpO"},{"type":"link","url":"https://apps.sentinel-hub.com/requests-builder/","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"SH Request Builder.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HPJ6E8r0nC"}],"urlSource":"https://apps.sentinel-hub.com/requests-builder/","key":"UZP2qwCHTC"}],"key":"lywcbop0rj"}],"visibility":"show","key":"AdOBNneQWm"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:11:00.767431Z","iopub.status.busy":"2023-03-22T13:11:00.766727Z","iopub.status.idle":"2023-03-22T13:11:00.775192Z","shell.execute_reply":"2023-03-22T13:11:00.773541Z"},"papermill":{"duration":0.084081,"end_time":"2023-03-22T13:11:00.780455","exception":false,"start_time":"2023-03-22T13:11:00.696374","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# defining our bbox over the island of Venice\n\nvenice = [\n  12.296613,\n  45.411707,\n  12.393469,\n  45.469281\n]","visibility":"show","key":"UVLpZmDOF5"},{"type":"output","id":"U6HjbSvHq3Dy2dzSvGCp8","data":[],"visibility":"show","key":"LlOuC6Dr5v"}],"visibility":"show","key":"QrwMoIFj7U"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:11:00.946701Z","iopub.status.busy":"2023-03-22T13:11:00.946163Z","iopub.status.idle":"2023-03-22T13:11:00.963744Z","shell.execute_reply":"2023-03-22T13:11:00.960370Z"},"papermill":{"duration":0.105476,"end_time":"2023-03-22T13:11:00.969952","exception":false,"start_time":"2023-03-22T13:11:00.864476","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"#Set the resolution and create a sentinel hub bbox and size object\n\nresolution = 10\nvenice_bbox = BBox(bbox=venice, crs=CRS.WGS84)\nvenice_size = bbox_to_dimensions(venice_bbox, resolution=resolution)\n\nprint(f'Image shape at {resolution} m resolution: {venice_bbox} pixels')","visibility":"show","key":"noICkch5l1"},{"type":"output","id":"JI63LX9jQ4h91-qbbgMqO","data":[{"name":"stdout","output_type":"stream","text":"Image shape at 10 m resolution: 12.296613,45.411707,12.393469,45.469281 pixels\n"},{"name":"stderr","output_type":"stream","text":"/tmp/ipykernel_2519/289685052.py:7: SHDeprecationWarning: The string representation of `BBox` will change to match its `repr` representation.\n  print(f'Image shape at {resolution} m resolution: {venice_bbox} pixels')\n"}],"visibility":"show","key":"cwYh8AL6RD"}],"visibility":"show","key":"RJxfz9fp31"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.062215,"end_time":"2023-03-22T13:11:01.115439","exception":false,"start_time":"2023-03-22T13:11:01.053224","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Below we use the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"koFVNOgutj"},{"type":"link","url":"https://docs.sentinel-hub.com/api/latest/evalscript/v3/","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Evalscript","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mb0DYeWqVd"}],"urlSource":"https://docs.sentinel-hub.com/api/latest/evalscript/v3/","key":"UHw8WB3ZBN"},{"type":"text","value":" to define the metadata and preprocessing for RGB Sentinel-2 imagery from the Sentinelhub.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IETsVAWFbN"}],"key":"NkxrUo9ERr"}],"visibility":"show","key":"tpqOZyJJUA"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:11:01.217987Z","iopub.status.busy":"2023-03-22T13:11:01.217524Z","iopub.status.idle":"2023-03-22T13:11:01.231054Z","shell.execute_reply":"2023-03-22T13:11:01.228324Z"},"papermill":{"duration":0.076954,"end_time":"2023-03-22T13:11:01.242458","exception":false,"start_time":"2023-03-22T13:11:01.165504","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"evalscript_true_color = \"\"\"\n    //VERSION=3\n\n    function setup() {\n        return {\n            input: [{\n                bands: [\"B02\", \"B03\", \"B04\"]\n            }],\n            output: {\n                bands: 3\n            }\n        };\n    }\n\n    function evaluatePixel(sample) {\n        return [2.5 * sample.B04, 2.5 * sample.B03, 2.5 * sample.B02];\n    }\n\"\"\"","visibility":"show","key":"GhVu95k0mQ"},{"type":"output","id":"ToMq2L7zhszyH4nzAGlS8","data":[],"visibility":"show","key":"yapLv7lPyQ"}],"visibility":"show","key":"oGhrJWeVja"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:11:01.350772Z","iopub.status.busy":"2023-03-22T13:11:01.350355Z","iopub.status.idle":"2023-03-22T13:11:01.366308Z","shell.execute_reply":"2023-03-22T13:11:01.363703Z"},"papermill":{"duration":0.082008,"end_time":"2023-03-22T13:11:01.372796","exception":false,"start_time":"2023-03-22T13:11:01.290788","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# We create a list of dates for retreiving multiple images\n\nstart = datetime.datetime(2019,8,1)\nend = datetime.datetime(2020,8,1)\nn_chunks =13\ntdelta = (end - start) / n_chunks\nedges = [(start + i*tdelta).date().isoformat() for i in range(n_chunks)]\nslots = [(edges[i], edges[i+1]) for i in range(len(edges)-1)]\n\nprint('Monthly time windows:\\n')\nfor slot in slots:\n    print(slot)","visibility":"show","key":"pJhAcpEqrw"},{"type":"output","id":"FkOH5P-vu8c-0Tqudy1sD","data":[{"name":"stdout","output_type":"stream","text":"Monthly time windows:\n\n('2019-08-01', '2019-08-29')\n('2019-08-29', '2019-09-26')\n('2019-09-26', '2019-10-24')\n('2019-10-24', '2019-11-21')\n('2019-11-21', '2019-12-19')\n('2019-12-19', '2020-01-16')\n('2020-01-16', '2020-02-14')\n('2020-02-14', '2020-03-13')\n('2020-03-13', '2020-04-10')\n('2020-04-10', '2020-05-08')\n('2020-05-08', '2020-06-05')\n('2020-06-05', '2020-07-03')\n"}],"visibility":"show","key":"YYpNyHERfm"}],"visibility":"show","key":"cZfhfdC27N"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:11:01.497680Z","iopub.status.busy":"2023-03-22T13:11:01.497109Z","iopub.status.idle":"2023-03-22T13:11:01.522120Z","shell.execute_reply":"2023-03-22T13:11:01.518269Z"},"papermill":{"duration":0.086026,"end_time":"2023-03-22T13:11:01.526708","exception":false,"start_time":"2023-03-22T13:11:01.440682","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# define the function to retreive the image\ndef get_true_color_request(time_interval):\n    return SentinelHubRequest(\n        evalscript=evalscript_true_color,\n        input_data=[\n            SentinelHubRequest.input_data(\n                data_collection=DataCollection.SENTINEL2_L1C,\n                time_interval=time_interval,\n                mosaicking_order='leastCC'\n            )\n        ],\n        responses=[\n            SentinelHubRequest.output_response('default', MimeType.PNG)\n        ],\n        bbox=venice_bbox,\n        size=venice_size,\n        config=config\n    )","visibility":"show","key":"Vr7nlqxUka"},{"type":"output","id":"9IGAhAd1s84_uepFDJqqV","data":[],"visibility":"show","key":"Sfzi6kKxA3"}],"visibility":"show","key":"kzUdvZa0LA"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:11:01.632880Z","iopub.status.busy":"2023-03-22T13:11:01.632233Z","iopub.status.idle":"2023-03-22T13:11:11.368812Z","shell.execute_reply":"2023-03-22T13:11:11.366846Z"},"papermill":{"duration":9.915768,"end_time":"2023-03-22T13:11:11.489513","exception":false,"start_time":"2023-03-22T13:11:01.573745","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# create a list of requests\nlist_of_requests = [get_true_color_request(slot) for slot in slots]\nlist_of_requests = [request.download_list[0] for request in list_of_requests]\n\n# download data with multiple threads\ndata = SentinelHubDownloadClient(config=config).download(list_of_requests, max_threads=5)\n# some stuff for pretty plots\nncols = 3\nnrows = 4\naspect_ratio = venice_size[0] / venice_size[1]\nsubplot_kw = {'xticks': [], 'yticks': [], 'frame_on': False}\n\nfig, axs = plt.subplots(ncols=ncols, nrows=nrows, figsize=(5 * ncols * aspect_ratio, 5 * nrows),\n                        subplot_kw=subplot_kw)\n\nfor idx, image in enumerate(data):\n    ax = axs[idx // ncols][idx % ncols]\n    ax.imshow(np.clip(image * 2.5/255, 0, 1))\n    ax.set_title(f'{slots[idx][0]}  -  {slots[idx][1]}', fontsize=10)\n\nplt.tight_layout()","visibility":"show","key":"uf1GliUdLj"},{"type":"output","id":"_dkxzjPU0p4T9bUzHU6yH","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"ae4eeb7ff2c8fafc87df150f1fe9681d","path":"/notebooks_test/build/ae4eeb7ff2c8fafc87df150f1fe9681d.png"},"text/plain":{"content":"\u003cFigure size 1900x2000 with 12 Axes\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"zUxbjDRiGc"}],"visibility":"show","key":"CnU64yQIcj"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.154262,"end_time":"2023-03-22T13:11:11.808028","exception":false,"start_time":"2023-03-22T13:11:11.653766","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"EXERCISE","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DZsOj3vgB9"}],"identifier":"exercise","label":"EXERCISE","html_id":"exercise","implicit":true,"key":"GEu4jKLNHo"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Are you aware of the atmospheric correction effect on the image? To understand the impact on the true color images use SENTINEL2_L2A instead of SENTINEL2_L1C in the get true color request function","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"MNPt9JGJlf"}],"key":"RIMGGU3NLC"}],"visibility":"show","key":"h4Kwwe46JM"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.151453,"end_time":"2023-03-22T13:11:12.112670","exception":false,"start_time":"2023-03-22T13:11:11.961217","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"From the images we can see a sharp reduction in the amount of boats which are travelling around the Island of Venice, and a corresponding impovement in the water quality.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nLsrGw1L9m"}],"key":"gFkx5DBFyG"}],"visibility":"show","key":"oRiiPTFKUh"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.165361,"end_time":"2023-03-22T13:11:12.438238","exception":false,"start_time":"2023-03-22T13:11:12.272877","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Requesting Water Quality Data from JAXA","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Jop9Ne71Tw"}],"identifier":"requesting-water-quality-data-from-jaxa","label":"Requesting Water Quality Data from JAXA","html_id":"requesting-water-quality-data-from-jaxa","implicit":true,"key":"VNnwk1BXZ5"}],"visibility":"show","key":"l7HA5qMuxT"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.15621,"end_time":"2023-03-22T13:11:12.839962","exception":false,"start_time":"2023-03-22T13:11:12.683752","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In order to test our theory about the improved water quality we use JAXA water quality data, specifically ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TpfpJCyCW1"},{"type":"link","url":"https://collections.eurodatacube.com/jaxa_wq_chla/","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"water quality Chlorophyll-a weekly anomaly","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rgkyrewoFx"}],"urlSource":"https://collections.eurodatacube.com/jaxa_wq_chla/","key":"hydJHej2NZ"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pA1zjeVr6o"}],"key":"TuPQGhTBhm"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"As data is stored in the Sentinel Hub we use a similar syntax as above to retrieve the data but instead define the byoc code, stated in the documentation.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"u2RCTAKNzN"}],"key":"q5BCrwHCnf"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"We will request this data using the Adriatic boundinbox.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"DZCUrXn1VD"}],"key":"QSM24rmKD2"}],"visibility":"show","key":"lVghaF88zp"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.15968,"end_time":"2023-03-22T13:11:13.165926","exception":false,"start_time":"2023-03-22T13:11:13.006246","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The following cell is reccomended to set the reference collection and the band to be used.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Sk6a88ehaq"}],"key":"Aof7PukYp1"}],"visibility":"show","key":"vxUl1KCEIo"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:11:13.485655Z","iopub.status.busy":"2023-03-22T13:11:13.485219Z","iopub.status.idle":"2023-03-22T13:11:13.506483Z","shell.execute_reply":"2023-03-22T13:11:13.498629Z"},"papermill":{"duration":0.193905,"end_time":"2023-03-22T13:11:13.516035","exception":false,"start_time":"2023-03-22T13:11:13.322130","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"### Parameters for the scripts for retrieving images from SH\nband = \"chla\"\ncollectionID = \"198aa13a-b0c0-4b78-8f69-e08fc58551a7\"\nstart_date = \"2020-03-15\"\nend_date= \"2020-04-15\" ","visibility":"show","key":"if7vjnEaFA"},{"type":"output","id":"5bQ4TlL6lfWS52KGij7dE","data":[],"visibility":"show","key":"kq9Ze8TpAr"}],"visibility":"show","key":"er4gk8Zlpa"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:11:13.961070Z","iopub.status.busy":"2023-03-22T13:11:13.959732Z","iopub.status.idle":"2023-03-22T13:11:13.982083Z","shell.execute_reply":"2023-03-22T13:11:13.980269Z"},"papermill":{"duration":0.226419,"end_time":"2023-03-22T13:11:13.984992","exception":false,"start_time":"2023-03-22T13:11:13.758573","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"evalscript_jaxa = \"\"\"\n    //VERSION=3\n    function setup() {\n      return {\n        input: [\"%s\"],\n        output: { bands: 1,\n          sampleType: \"UINT8\" }\n      };\n    }\n    function evaluatePixel(sample) {\n        return [sample.%s];\n    }\n    \"\"\"%(band,band)\nprint(evalscript_jaxa)","visibility":"show","key":"F7Hl5DlLpj"},{"type":"output","id":"Vqcib3BlJkcsVCTkiaKk7","data":[{"name":"stdout","output_type":"stream","text":"\n    //VERSION=3\n    function setup() {\n      return {\n        input: [\"chla\"],\n        output: { bands: 1,\n          sampleType: \"UINT8\" }\n      };\n    }\n    function evaluatePixel(sample) {\n        return [sample.chla];\n    }\n    \n"}],"visibility":"show","key":"Y4BlVjWcLj"}],"visibility":"show","key":"vzG1admghA"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:11:14.310278Z","iopub.status.busy":"2023-03-22T13:11:14.309482Z","iopub.status.idle":"2023-03-22T13:11:15.307146Z","shell.execute_reply":"2023-03-22T13:11:15.298650Z"},"papermill":{"duration":1.168613,"end_time":"2023-03-22T13:11:15.315467","exception":false,"start_time":"2023-03-22T13:11:14.146854","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"#defining the request\nrequest_jaxa = SentinelHubRequest(\n    evalscript=evalscript_jaxa,\n    input_data=[\n        SentinelHubRequest.input_data(\n            data_collection=DataCollection.define_byoc(collectionID),  #('4f5f67f1-5715-4f2b-8c98-ae57948ee2f5'),\n            time_interval=(start_date, end_date),\n        )\n    ],\n    responses=[\n        SentinelHubRequest.output_response('default', MimeType.PNG)\n    ],\n    bbox=adriatic_bbox,\n    size=adriatic_size,\n    config=config\n)\n\njaxa = request_jaxa.get_data()","visibility":"show","key":"q5r41GZUf7"},{"type":"output","id":"ocupwYdgdrmJ9baQYN4OW","data":[],"visibility":"show","key":"modK0eqkNZ"}],"visibility":"show","key":"tRt2ZJ9Lqj"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:11:15.804068Z","iopub.status.busy":"2023-03-22T13:11:15.803700Z","iopub.status.idle":"2023-03-22T13:11:17.207575Z","shell.execute_reply":"2023-03-22T13:11:17.205420Z"},"papermill":{"duration":1.639944,"end_time":"2023-03-22T13:11:17.213401","exception":false,"start_time":"2023-03-22T13:11:15.573457","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# retreiving a single image\nimage = jaxa[0]\nprint(f'Image type: {image.dtype}')\n\n# plot function\nplot_image(jaxa[0], factor=1 / 255)","visibility":"show","key":"YsHLNz61gD"},{"type":"output","id":"gXw044AOOMgfBPhMNqSRV","data":[{"name":"stdout","output_type":"stream","text":"Image type: uint8\n"},{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"63c670974fe2537f3c1b21454ac48706","path":"/notebooks_test/build/63c670974fe2537f3c1b21454ac48706.png"},"text/plain":{"content":"\u003cFigure size 1500x1500 with 1 Axes\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"V7QG65KQT8"}],"visibility":"show","key":"I0UEX8Lf4n"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:11:17.570371Z","iopub.status.busy":"2023-03-22T13:11:17.569826Z","iopub.status.idle":"2023-03-22T13:11:17.587832Z","shell.execute_reply":"2023-03-22T13:11:17.582924Z"},"papermill":{"duration":0.1985,"end_time":"2023-03-22T13:11:17.592116","exception":false,"start_time":"2023-03-22T13:11:17.393616","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"def get_water_quality_request(time_interval):\n    return SentinelHubRequest(\n        evalscript=evalscript_jaxa,\n        input_data=[\n            SentinelHubRequest.input_data(\n                data_collection=DataCollection.define_byoc(collectionID),\n                time_interval=time_interval\n            )\n        ],\n        responses=[\n            SentinelHubRequest.output_response('default', MimeType.PNG)\n        ],\n        bbox=adriatic_bbox,\n        size=adriatic_size,\n        config=config\n    )","visibility":"show","key":"ngMjRpb5RQ"},{"type":"output","id":"6Zu4z-3LIXlIhJQfOxmr-","data":[],"visibility":"show","key":"LlMHO64zil"}],"visibility":"show","key":"N5ysOVqUJv"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:11:18.110148Z","iopub.status.busy":"2023-03-22T13:11:18.109488Z","iopub.status.idle":"2023-03-22T13:11:27.462233Z","shell.execute_reply":"2023-03-22T13:11:27.459140Z"},"papermill":{"duration":9.673862,"end_time":"2023-03-22T13:11:27.513509","exception":false,"start_time":"2023-03-22T13:11:17.839647","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# create a list of requests\n\nimport matplotlib\nimport matplotlib.pyplot as plt\nfrom matplotlib.cm import coolwarm \n\nlist_of_requests = [get_water_quality_request(slot) for slot in slots]\nlist_of_requests = [request.download_list[0] for request in list_of_requests]\n\n# download data with multiple threads\ndata = SentinelHubDownloadClient(config=config).download(list_of_requests, max_threads=5)\n# some stuff for pretty plots\nncols = 3\nnrows = 4\naspect_ratio = venice_size[0] / venice_size[1]\nsubplot_kw = {'xticks': [], 'yticks': [], 'frame_on': False}\n\nfig, axs = plt.subplots(ncols=ncols, nrows=nrows, figsize=(5 * ncols * aspect_ratio, 5 * nrows),\n                        subplot_kw=subplot_kw)\n\nfor idx, image in enumerate(data):\n    ax = axs[idx // ncols][idx % ncols]\n    ax.imshow(np.clip(image * 1/255, 0, 1))\n    ax.set_title(f'{slots[idx][0]}  -  {slots[idx][1]}', fontsize=10)\nplt.tight_layout()","visibility":"show","key":"c3V7yIf59D"},{"type":"output","id":"kHvfbOy3sXjAZCnvn4UFU","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"b0d2fb50aa0bbf3746738f18bf6188b4","path":"/notebooks_test/build/b0d2fb50aa0bbf3746738f18bf6188b4.png"},"text/plain":{"content":"\u003cFigure size 1900x2000 with 12 Axes\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"icSDsh65MG"}],"visibility":"show","key":"o8NedidAtb"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.265205,"end_time":"2023-03-22T13:11:28.055737","exception":false,"start_time":"2023-03-22T13:11:27.790532","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The range lies from 0-1 (blue to yellow), 0 being no anomaly in chlorophyll-a and the 1 being high anomaly. From a first look at the images it is hard to make robust conclusions on the water quality. However the image retrieved over the period of the first lockdown does seem to have the lowest anomalies.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EGEpXQNHOp"}],"key":"Dv4ASaeEtj"}],"visibility":"show","key":"zbFdqJlKJZ"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.367627,"end_time":"2023-03-22T13:11:28.760059","exception":false,"start_time":"2023-03-22T13:11:28.392432","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Exercise 2: Retrieving Water Quality Datasets from the SentinelHub","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BWh6cYFCcx"}],"identifier":"exercise-2-retrieving-water-quality-datasets-from-the-sentinelhub","label":"Exercise 2: Retrieving Water Quality Datasets from the SentinelHub","html_id":"exercise-2-retrieving-water-quality-datasets-from-the-sentinelhub","implicit":true,"key":"c0zXKLOIbE"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Search the edc collections and retrieve a different ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"fVc72XEw79"},{"type":"link","url":"https://collections.eurodatacube.com/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"water quality product.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"TALcSj4IZY"}],"urlSource":"https://collections.eurodatacube.com/","key":"xHqPnM7Tld"}],"key":"HzJpKB8yrX"}],"visibility":"show","key":"INPa5Qj6vS"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.275552,"end_time":"2023-03-22T13:11:29.384645","exception":false,"start_time":"2023-03-22T13:11:29.109093","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Copy the above structure to access another water quality dataset, you will need to change some parameters.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PI6GrLS8bp"}],"key":"KiSllGtLQ5"}],"visibility":"show","key":"xGsBBr3prw"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.294446,"end_time":"2023-03-22T13:11:29.945392","exception":false,"start_time":"2023-03-22T13:11:29.650946","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Retrieving water quality time series from GeoDB","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Gcsq7Tj0KX"}],"identifier":"retrieving-water-quality-time-series-from-geodb","label":"Retrieving water quality time series from GeoDB","html_id":"retrieving-water-quality-time-series-from-geodb","implicit":true,"key":"bbK9p53Jlh"}],"visibility":"show","key":"eXb4OehcBs"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.271922,"end_time":"2023-03-22T13:11:30.520780","exception":false,"start_time":"2023-03-22T13:11:30.248858","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"On EO Dahboard we also have access to Chlorophyll a and Total Suspended Sediments time sereis data on a number of locations, including Venice.\nYou can inspect these time series on the dashboard at: ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"onSes0bUED"},{"type":"link","url":"https://eodashboard.org/explore?indicator=N3b","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"https://​eodashboard​.org​/explore​?indicator​=​N3b","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VjUa6VAKHl"}],"urlSource":"https://eodashboard.org/explore?indicator=N3b","key":"E56hmKV34B"}],"key":"cdVqONYirl"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"For Venice, the time series is available here: ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"uKhgYZyuIz"},{"type":"link","url":"https://eodashboard.org/explore?indicator=N3b\u0026poi=IT6-N3b","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"https://​eodashboard​.org​/explore​?indicator​=​N3b​\u0026​poi​=​IT6​-N3b","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Ul6IlhKDJM"}],"urlSource":"https://eodashboard.org/explore?indicator=N3b\u0026poi=IT6-N3b","key":"kxPaVLO7gb"}],"key":"A76fD3d0zq"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"The displayed time series show weekly Chl concentration anomalies (%) as calculated from Sentinel-3 (purple), MODIS (blue) and GCOM-C(light blue) around the Alta Aqua Oceanographic Tower (AAOT at 45.30 N, 12.50 E) in the North Adriatic Sea, the Mediterranean sub-basin most influenced by river runoff, in particular by the Po River, which is the largest river in Italy and which runs along many different industrialized areas.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"EvIPXfVvBK"}],"key":"KKomxza5oT"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"On EO Dashboard we can see that the measurements from the three sensors on Sentinel3, MODIS and GCOM-C are in agreement.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"o8SB8KppGk"}],"key":"r2ceAQ5LdA"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"We could go a bit deeper in the analysis if we only focus on the Sentinel3 data, where we have access to the same time series but compared to the climatology. This graph is not available on EO Dashboard, but we can visualise it on The RACE platform.\nThis data is stored in the EuroDataCube GeoDB.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"rSFeCZD5tf"}],"key":"eWuYGJohRN"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"(For a complete overview of where the data is available please use the DataAccess.jpynb).","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"MZjCbjQSN0"}],"key":"qC9Bcc4Nyi"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"link","url":"https://race.esa.int/?indicator=N3\u0026poi=IT6-N3","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"https://​race​.esa​.int​/​?indicator​=​N3​\u0026​poi​=​IT6​-N3","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"WUO7XApDEy"}],"urlSource":"https://race.esa.int/?indicator=N3\u0026poi=IT6-N3","key":"QOVQHPvDUn"}],"key":"oFb5g0CNzQ"}],"visibility":"show","key":"FpvUQ1hIlo"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:11:31.125648Z","iopub.status.busy":"2023-03-22T13:11:31.124078Z","iopub.status.idle":"2023-03-22T13:11:31.132452Z","shell.execute_reply":"2023-03-22T13:11:31.130623Z"},"papermill":{"duration":0.315447,"end_time":"2023-03-22T13:11:31.143168","exception":false,"start_time":"2023-03-22T13:11:30.827721","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"geodb_database = \"eodash\"\ngeodb_collection = \"N3\"","visibility":"show","key":"Up53OAjuBH"},{"type":"output","id":"GDGu-sERXVDMP9O4Rs9QD","data":[],"visibility":"show","key":"Auybhp8eoX"}],"visibility":"show","key":"AgApjJAcpl"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:11:31.674500Z","iopub.status.busy":"2023-03-22T13:11:31.673676Z","iopub.status.idle":"2023-03-22T13:11:31.978107Z","shell.execute_reply":"2023-03-22T13:11:31.976569Z"},"papermill":{"duration":0.550768,"end_time":"2023-03-22T13:11:31.984878","exception":false,"start_time":"2023-03-22T13:11:31.434110","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"data = geodb.get_collection(collection=geodb_collection, database=geodb_database)\ndata.head()","visibility":"show","key":"KmowWdCgjA"},{"type":"output","id":"kXDJsIiUrjvDcIRr_jxkw","data":[{"output_type":"execute_result","execution_count":53,"metadata":{},"data":{"text/html":{"content":"\u003cdiv\u003e\n\u003cstyle scoped\u003e\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n\u003c/style\u003e\n\u003ctable border=\"1\" class=\"dataframe\"\u003e\n  \u003cthead\u003e\n    \u003ctr style=\"text-align: right;\"\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003eid\u003c/th\u003e\n      \u003cth\u003ecreated_at\u003c/th\u003e\n      \u003cth\u003emodified_at\u003c/th\u003e\n      \u003cth\u003egeometry\u003c/th\u003e\n      \u003cth\u003eaoi\u003c/th\u003e\n      \u003cth\u003ecountry\u003c/th\u003e\n      \u003cth\u003eregion\u003c/th\u003e\n      \u003cth\u003ecity\u003c/th\u003e\n      \u003cth\u003esite_name\u003c/th\u003e\n      \u003cth\u003edescription\u003c/th\u003e\n      \u003cth\u003e...\u003c/th\u003e\n      \u003cth\u003ereference_value\u003c/th\u003e\n      \u003cth\u003erule\u003c/th\u003e\n      \u003cth\u003eindicator_value\u003c/th\u003e\n      \u003cth\u003esub_aoi\u003c/th\u003e\n      \u003cth\u003ey_axis\u003c/th\u003e\n      \u003cth\u003eindicator_name\u003c/th\u003e\n      \u003cth\u003ecolor_code\u003c/th\u003e\n      \u003cth\u003edata_provider\u003c/th\u003e\n      \u003cth\u003eaoi_id\u003c/th\u003e\n      \u003cth\u003eupdate_frequency\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003cth\u003e0\u003c/th\u003e\n      \u003ctd\u003e1\u003c/td\u003e\n      \u003ctd\u003e2021-01-21T16:51:28.038108+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOINT (12.50806 45.31425)\u003c/td\u003e\n      \u003ctd\u003e45.314247,12.508055\u003c/td\u003e\n      \u003ctd\u003eIT\u003c/td\u003e\n      \u003ctd\u003eNorth Adriatic Sea\u003c/td\u003e\n      \u003ctd\u003eVenice Lagoon\u003c/td\u003e\n      \u003ctd\u003eAAOT fixed station Venezia\u003c/td\u003e\n      \u003ctd\u003eWater Quality Time Series\u003c/td\u003e\n      \u003ctd\u003e...\u003c/td\u003e\n      \u003ctd\u003e[-999 -999]\u003c/td\u003e\n      \u003ctd\u003eMeasurement \u0026lt; Reference [0] outputs LOW; Refer...\u003c/td\u003e\n      \u003ctd\u003e/\u003c/td\u003e\n      \u003ctd\u003e/\u003c/td\u003e\n      \u003ctd\u003eChlorophyll-a concentration [mg m-3]\u003c/td\u003e\n      \u003ctd\u003eChlorophyll-a concentration at AAOT fixed stat...\u003c/td\u003e\n      \u003ctd\u003e/\u003c/td\u003e\n      \u003ctd\u003eCNR-ISMAR\u003c/td\u003e\n      \u003ctd\u003eIT6\u003c/td\u003e\n      \u003ctd\u003eWeekly\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e1\u003c/th\u003e\n      \u003ctd\u003e2\u003c/td\u003e\n      \u003ctd\u003e2021-01-21T16:51:28.038108+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOINT (12.50806 45.31425)\u003c/td\u003e\n      \u003ctd\u003e45.314247,12.508055\u003c/td\u003e\n      \u003ctd\u003eIT\u003c/td\u003e\n      \u003ctd\u003eNorth Adriatic Sea\u003c/td\u003e\n      \u003ctd\u003eVenice Lagoon\u003c/td\u003e\n      \u003ctd\u003eAAOT fixed station Venezia\u003c/td\u003e\n      \u003ctd\u003eWater Quality Time Series\u003c/td\u003e\n      \u003ctd\u003e...\u003c/td\u003e\n      \u003ctd\u003e[-0.139 0.044]\u003c/td\u003e\n      \u003ctd\u003eMeasurement \u0026lt; Reference [0] outputs LOW; Refer...\u003c/td\u003e\n      \u003ctd\u003e/\u003c/td\u003e\n      \u003ctd\u003e/\u003c/td\u003e\n      \u003ctd\u003eChlorophyll-a concentration [mg m-3]\u003c/td\u003e\n      \u003ctd\u003eChlorophyll-a concentration at AAOT fixed stat...\u003c/td\u003e\n      \u003ctd\u003e/\u003c/td\u003e\n      \u003ctd\u003eCNR-ISMAR\u003c/td\u003e\n      \u003ctd\u003eIT6\u003c/td\u003e\n      \u003ctd\u003eWeekly\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e2\u003c/th\u003e\n      \u003ctd\u003e3\u003c/td\u003e\n      \u003ctd\u003e2021-01-21T16:51:28.038108+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOINT (12.50806 45.31425)\u003c/td\u003e\n      \u003ctd\u003e45.314247,12.508055\u003c/td\u003e\n      \u003ctd\u003eIT\u003c/td\u003e\n      \u003ctd\u003eNorth Adriatic Sea\u003c/td\u003e\n      \u003ctd\u003eVenice Lagoon\u003c/td\u003e\n      \u003ctd\u003eAAOT fixed station Venezia\u003c/td\u003e\n      \u003ctd\u003eWater Quality Time Series\u003c/td\u003e\n      \u003ctd\u003e...\u003c/td\u003e\n      \u003ctd\u003e[-0.158 0.083]\u003c/td\u003e\n      \u003ctd\u003eMeasurement \u0026lt; Reference [0] outputs LOW; Refer...\u003c/td\u003e\n      \u003ctd\u003eNORMAL\u003c/td\u003e\n      \u003ctd\u003e/\u003c/td\u003e\n      \u003ctd\u003eChlorophyll-a concentration [mg m-3]\u003c/td\u003e\n      \u003ctd\u003eChlorophyll-a concentration at AAOT fixed stat...\u003c/td\u003e\n      \u003ctd\u003eBLUE\u003c/td\u003e\n      \u003ctd\u003eCNR-ISMAR\u003c/td\u003e\n      \u003ctd\u003eIT6\u003c/td\u003e\n      \u003ctd\u003eWeekly\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e3\u003c/th\u003e\n      \u003ctd\u003e4\u003c/td\u003e\n      \u003ctd\u003e2021-01-21T16:51:28.038108+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOINT (12.50806 45.31425)\u003c/td\u003e\n      \u003ctd\u003e45.314247,12.508055\u003c/td\u003e\n      \u003ctd\u003eIT\u003c/td\u003e\n      \u003ctd\u003eNorth Adriatic Sea\u003c/td\u003e\n      \u003ctd\u003eVenice Lagoon\u003c/td\u003e\n      \u003ctd\u003eAAOT fixed station Venezia\u003c/td\u003e\n      \u003ctd\u003eWater Quality Time Series\u003c/td\u003e\n      \u003ctd\u003e...\u003c/td\u003e\n      \u003ctd\u003e[-0.138 0.099]\u003c/td\u003e\n      \u003ctd\u003eMeasurement \u0026lt; Reference [0] outputs LOW; Refer...\u003c/td\u003e\n      \u003ctd\u003eLOW\u003c/td\u003e\n      \u003ctd\u003e/\u003c/td\u003e\n      \u003ctd\u003eChlorophyll-a concentration [mg m-3]\u003c/td\u003e\n      \u003ctd\u003eChlorophyll-a concentration at AAOT fixed stat...\u003c/td\u003e\n      \u003ctd\u003eGREEN\u003c/td\u003e\n      \u003ctd\u003eCNR-ISMAR\u003c/td\u003e\n      \u003ctd\u003eIT6\u003c/td\u003e\n      \u003ctd\u003eWeekly\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e4\u003c/th\u003e\n      \u003ctd\u003e5\u003c/td\u003e\n      \u003ctd\u003e2021-01-21T16:51:28.038108+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOINT (12.50806 45.31425)\u003c/td\u003e\n      \u003ctd\u003e45.314247,12.508055\u003c/td\u003e\n      \u003ctd\u003eIT\u003c/td\u003e\n      \u003ctd\u003eNorth Adriatic Sea\u003c/td\u003e\n      \u003ctd\u003eVenice Lagoon\u003c/td\u003e\n      \u003ctd\u003eAAOT fixed station Venezia\u003c/td\u003e\n      \u003ctd\u003eWater Quality Time Series\u003c/td\u003e\n      \u003ctd\u003e...\u003c/td\u003e\n      \u003ctd\u003e[-0.455 0.335]\u003c/td\u003e\n      \u003ctd\u003eMeasurement \u0026lt; Reference [0] outputs LOW; Refer...\u003c/td\u003e\n      \u003ctd\u003eLOW\u003c/td\u003e\n      \u003ctd\u003e/\u003c/td\u003e\n      \u003ctd\u003eChlorophyll-a concentration [mg m-3]\u003c/td\u003e\n      \u003ctd\u003eChlorophyll-a concentration at AAOT fixed stat...\u003c/td\u003e\n      \u003ctd\u003eGREEN\u003c/td\u003e\n      \u003ctd\u003eCNR-ISMAR\u003c/td\u003e\n      \u003ctd\u003eIT6\u003c/td\u003e\n      \u003ctd\u003eWeekly\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003e5 rows × 28 columns\u003c/p\u003e\n\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"   id                        created_at modified_at  \\\n0   1  2021-01-21T16:51:28.038108+00:00        None   \n1   2  2021-01-21T16:51:28.038108+00:00        None   \n2   3  2021-01-21T16:51:28.038108+00:00        None   \n3   4  2021-01-21T16:51:28.038108+00:00        None   \n4   5  2021-01-21T16:51:28.038108+00:00        None   \n\n                    geometry                  aoi country              region  \\\n0  POINT (12.50806 45.31425)  45.314247,12.508055      IT  North Adriatic Sea   \n1  POINT (12.50806 45.31425)  45.314247,12.508055      IT  North Adriatic Sea   \n2  POINT (12.50806 45.31425)  45.314247,12.508055      IT  North Adriatic Sea   \n3  POINT (12.50806 45.31425)  45.314247,12.508055      IT  North Adriatic Sea   \n4  POINT (12.50806 45.31425)  45.314247,12.508055      IT  North Adriatic Sea   \n\n            city                   site_name                description  ...  \\\n0  Venice Lagoon  AAOT fixed station Venezia  Water Quality Time Series  ...   \n1  Venice Lagoon  AAOT fixed station Venezia  Water Quality Time Series  ...   \n2  Venice Lagoon  AAOT fixed station Venezia  Water Quality Time Series  ...   \n3  Venice Lagoon  AAOT fixed station Venezia  Water Quality Time Series  ...   \n4  Venice Lagoon  AAOT fixed station Venezia  Water Quality Time Series  ...   \n\n  reference_value                                               rule  \\\n0     [-999 -999]  Measurement \u003c Reference [0] outputs LOW; Refer...   \n1  [-0.139 0.044]  Measurement \u003c Reference [0] outputs LOW; Refer...   \n2  [-0.158 0.083]  Measurement \u003c Reference [0] outputs LOW; Refer...   \n3  [-0.138 0.099]  Measurement \u003c Reference [0] outputs LOW; Refer...   \n4  [-0.455 0.335]  Measurement \u003c Reference [0] outputs LOW; Refer...   \n\n  indicator_value sub_aoi                                y_axis  \\\n0               /       /  Chlorophyll-a concentration [mg m-3]   \n1               /       /  Chlorophyll-a concentration [mg m-3]   \n2          NORMAL       /  Chlorophyll-a concentration [mg m-3]   \n3             LOW       /  Chlorophyll-a concentration [mg m-3]   \n4             LOW       /  Chlorophyll-a concentration [mg m-3]   \n\n                                      indicator_name color_code data_provider  \\\n0  Chlorophyll-a concentration at AAOT fixed stat...          /     CNR-ISMAR   \n1  Chlorophyll-a concentration at AAOT fixed stat...          /     CNR-ISMAR   \n2  Chlorophyll-a concentration at AAOT fixed stat...       BLUE     CNR-ISMAR   \n3  Chlorophyll-a concentration at AAOT fixed stat...      GREEN     CNR-ISMAR   \n4  Chlorophyll-a concentration at AAOT fixed stat...      GREEN     CNR-ISMAR   \n\n  aoi_id update_frequency  \n0    IT6           Weekly  \n1    IT6           Weekly  \n2    IT6           Weekly  \n3    IT6           Weekly  \n4    IT6           Weekly  \n\n[5 rows x 28 columns]","content_type":"text/plain"}}}],"visibility":"show","key":"pT07rmjppV"}],"visibility":"show","key":"bQA3U1fbKO"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:11:32.555538Z","iopub.status.busy":"2023-03-22T13:11:32.553505Z","iopub.status.idle":"2023-03-22T13:11:36.603512Z","shell.execute_reply":"2023-03-22T13:11:36.600351Z"},"papermill":{"duration":4.346563,"end_time":"2023-03-22T13:11:36.609620","exception":false,"start_time":"2023-03-22T13:11:32.263057","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# display the locations of the data\ncities = geodb.get_collection_pg(geodb_collection, database=geodb_database, group='city, geometry', select='city, geometry')\n\nfeatures = json.loads(cities.to_json())\n\nIPython.display.GeoJSON(features)\n    ","visibility":"show","key":"aCC73wADGR"},{"type":"output","id":"v3MoNF5DdGjRMVL5UH6KD","data":[{"output_type":"display_data","metadata":{"application/geo+json":{"expanded":false,"root":"root"}},"data":{"application/geo+json":{"content":"{\"features\":[{\"geometry\":{\"coordinates\":[1.358,40.717],\"type\":\"Point\"},\"id\":\"0\",\"properties\":{\"city\":\"Barcelona\"},\"type\":\"Feature\"},{\"geometry\":{\"coordinates\":[4.94,43.4],\"type\":\"Point\"},\"id\":\"1\",\"properties\":{\"city\":\"Marseilles\"},\"type\":\"Feature\"},{\"geometry\":{\"coordinates\":[12.508055,45.314247],\"type\":\"Point\"},\"id\":\"2\",\"properties\":{\"city\":\"Venice Lagoon\"},\"type\":\"Feature\"}],\"type\":\"FeatureCollection\"}","content_type":"application/geo+json"},"text/plain":{"content":"\u003cIPython.display.GeoJSON object\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"tqy3Yiof7p"}],"visibility":"show","key":"ACRQqUwoyH"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:11:37.257741Z","iopub.status.busy":"2023-03-22T13:11:37.257281Z","iopub.status.idle":"2023-03-22T13:11:37.272031Z","shell.execute_reply":"2023-03-22T13:11:37.270317Z"},"papermill":{"duration":0.36375,"end_time":"2023-03-22T13:11:37.274386","exception":false,"start_time":"2023-03-22T13:11:36.910636","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"def plot_city(city=cities.city[0]):\n    #A bit hidden in this function lies the query against the RACE collection of interest.\n    gdf = geodb.get_collection(geodb_collection, database=geodb_database, query=f\"city=eq.{city}\")\n    \n    # A bit if data cleaning to get this working as None values are given as '/'\n    gdf = gdf.drop(gdf[gdf.indicator_value == \"/\"].index)\n    \n    indicator_values = geodb.get_collection_pg(geodb_collection, database=geodb_database, group='indicator_value', select='indicator_value')\n    \n    # A bit if data cleaning to get this working as None values are given as '/'\n    indicator_values = indicator_values.drop(indicator_values[indicator_values.indicator_value == \"/\"].index)\n    \n    gdf['time'] = pd.to_datetime(gdf.time)\n    gdf['measurement_value']  = gdf.measurement_value.astype(float)\n    source = ColumnDataSource(data=dict(time=gdf.time, measurement_value=gdf.measurement_value, indicator_value=gdf.indicator_value))\n    \n    p = figure(x_axis_type='datetime', width=800)\n    p.title.text = geodb_collection + \" in \" +  city\n    p.title.align = \"center\"\n    p.title.text_font_size = \"25px\"\n\n    p.vbar(x='time', top='measurement_value', legend_field=\"indicator_value\", line_width=2, fill_color=factor_cmap('indicator_value', palette=Spectral3, factors=indicator_values.indicator_value), line_color=factor_cmap('indicator_value', palette=Spectral3, factors=indicator_values.indicator_value), source=source)\n\n    show(p)","visibility":"show","key":"EwOOskeyer"},{"type":"output","id":"yWylv66Qtf_Dby3TnjrH8","data":[],"visibility":"show","key":"HX6NabX1Wt"}],"visibility":"show","key":"PAumHXSXGv"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.289666,"end_time":"2023-03-22T13:11:37.794419","exception":false,"start_time":"2023-03-22T13:11:37.504753","status":"completed"},"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now we plot the cities with insitu water quality timeseries for the Venice lagoon.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RfduPploVR"}],"key":"nfQj8sVQ1X"}],"visibility":"show","key":"k1eFA8FYIv"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2023-03-22T13:11:38.272218Z","iopub.status.busy":"2023-03-22T13:11:38.271761Z","iopub.status.idle":"2023-03-22T13:11:47.967775Z","shell.execute_reply":"2023-03-22T13:11:47.961867Z"},"papermill":{"duration":9.939558,"end_time":"2023-03-22T13:11:47.975334","exception":false,"start_time":"2023-03-22T13:11:38.035776","status":"completed"},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Generate a unique list of cities\noutput_notebook()\ncities = geodb.get_collection_pg(geodb_collection, database=geodb_database, group='city', select='city')\n\ninteract(plot_city, city=cities.city[0]);","visibility":"show","key":"q8fpdHjUUz"},{"type":"output","id":"gaQ_cXi7uxBtfo6tcU7r6","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\u003cdiv class=\"bk-root\"\u003e\n        \u003ca href=\"https://bokeh.org\" target=\"_blank\" class=\"bk-logo bk-logo-small bk-logo-notebook\"\u003e\u003c/a\u003e\n        \u003cspan id=\"1002\"\u003eLoading BokehJS ...\u003c/span\u003e\n    \u003c/div\u003e\n","content_type":"text/html"}}},{"output_type":"display_data","metadata":{},"data":{"application/javascript":{"content":"(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\nconst JS_MIME_TYPE = 'application/javascript';\n  const HTML_MIME_TYPE = 'text/html';\n  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';\n  const CLASS_NAME = 'output_bokeh rendered_html';\n\n  /**\n   * Render data to the DOM node\n   */\n  function render(props, node) {\n    const script = document.createElement(\"script\");\n    node.appendChild(script);\n  }\n\n  /**\n   * Handle when an output is cleared or removed\n   */\n  function handleClearOutput(event, handle) {\n    const cell = handle.cell;\n\n    const id = cell.output_area._bokeh_element_id;\n    const server_id = cell.output_area._bokeh_server_id;\n    // Clean up Bokeh references\n    if (id != null \u0026\u0026 id in Bokeh.index) {\n      Bokeh.index[id].model.document.clear();\n      delete Bokeh.index[id];\n    }\n\n    if (server_id !== undefined) {\n      // Clean up Bokeh references\n      const cmd_clean = \"from bokeh.io.state import curstate; print(curstate().uuid_to_server['\" + server_id + \"'].get_sessions()[0].document.roots[0]._id)\";\n      cell.notebook.kernel.execute(cmd_clean, {\n        iopub: {\n          output: function(msg) {\n            const id = msg.content.text.trim();\n            if (id in Bokeh.index) {\n              Bokeh.index[id].model.document.clear();\n              delete Bokeh.index[id];\n            }\n          }\n        }\n      });\n      // Destroy server and session\n      const cmd_destroy = \"import bokeh.io.notebook as ion; ion.destroy_server('\" + server_id + \"')\";\n      cell.notebook.kernel.execute(cmd_destroy);\n    }\n  }\n\n  /**\n   * Handle when a new output is added\n   */\n  function handleAddOutput(event, handle) {\n    const output_area = handle.output_area;\n    const output = handle.output;\n\n    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only\n    if ((output.output_type != \"display_data\") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {\n      return\n    }\n\n    const toinsert = output_area.element.find(\".\" + CLASS_NAME.split(' ')[0]);\n\n    if (output.metadata[EXEC_MIME_TYPE][\"id\"] !== undefined) {\n      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];\n      // store reference to embed id on output_area\n      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE][\"id\"];\n    }\n    if (output.metadata[EXEC_MIME_TYPE][\"server_id\"] !== undefined) {\n      const bk_div = document.createElement(\"div\");\n      bk_div.innerHTML = output.data[HTML_MIME_TYPE];\n      const script_attrs = bk_div.children[0].attributes;\n      for (let i = 0; i \u003c script_attrs.length; i++) {\n        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);\n        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent\n      }\n      // store reference to server id on output_area\n      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE][\"server_id\"];\n    }\n  }\n\n  function register_renderer(events, OutputArea) {\n\n    function append_mime(data, metadata, element) {\n      // create a DOM node to render to\n      const toinsert = this.create_output_subarea(\n        metadata,\n        CLASS_NAME,\n        EXEC_MIME_TYPE\n      );\n      this.keyboard_manager.register_events(toinsert);\n      // Render to node\n      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};\n      render(props, toinsert[toinsert.length - 1]);\n      element.append(toinsert);\n      return toinsert\n    }\n\n    /* Handle when an output is cleared or removed */\n    events.on('clear_output.CodeCell', handleClearOutput);\n    events.on('delete.Cell', handleClearOutput);\n\n    /* Handle when a new output is added */\n    events.on('output_added.OutputArea', handleAddOutput);\n\n    /**\n     * Register the mime type and append_mime function with output_area\n     */\n    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {\n      /* Is output safe? */\n      safe: true,\n      /* Index of renderer in `output_area.display_order` */\n      index: 0\n    });\n  }\n\n  // register the mime type if in Jupyter Notebook environment and previously unregistered\n  if (root.Jupyter !== undefined) {\n    const events = require('base/js/events');\n    const OutputArea = require('notebook/js/outputarea').OutputArea;\n\n    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {\n      register_renderer(events, OutputArea);\n    }\n  }\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"\u003cdiv style='background-color: #fdd'\u003e\\n\"+\n     \"\u003cp\u003e\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"\u003c/p\u003e\\n\"+\n     \"\u003cul\u003e\\n\"+\n     \"\u003cli\u003ere-rerun `output_notebook()` to attempt to load from CDN again, or\u003c/li\u003e\\n\"+\n     \"\u003cli\u003euse INLINE resources instead, as so:\u003c/li\u003e\\n\"+\n     \"\u003c/ul\u003e\\n\"+\n     \"\u003ccode\u003e\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"\u003c/code\u003e\\n\"+\n     \"\u003c/div\u003e\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(\"1002\");\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() \u003c root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading \u003e 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i \u003c css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i \u003c js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-2.4.3.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-2.4.3.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.4.3.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.4.3.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-2.4.3.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i \u003c inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\nif (force === true) {\n        display_loaded();\n      }} else if (Date.now() \u003c root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(\"1002\")).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));","content_type":"application/javascript"},"application/vnd.bokehjs_load.v0+json":{"content":"(function(root) {\n  function now() {\n    return new Date();\n  }\n\n  const force = true;\n\n  if (typeof root._bokeh_onload_callbacks === \"undefined\" || force === true) {\n    root._bokeh_onload_callbacks = [];\n    root._bokeh_is_loading = undefined;\n  }\n\n\n  if (typeof (root._bokeh_timeout) === \"undefined\" || force === true) {\n    root._bokeh_timeout = Date.now() + 5000;\n    root._bokeh_failed_load = false;\n  }\n\n  const NB_LOAD_WARNING = {'data': {'text/html':\n     \"\u003cdiv style='background-color: #fdd'\u003e\\n\"+\n     \"\u003cp\u003e\\n\"+\n     \"BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \\n\"+\n     \"may be due to a slow or bad network connection. Possible fixes:\\n\"+\n     \"\u003c/p\u003e\\n\"+\n     \"\u003cul\u003e\\n\"+\n     \"\u003cli\u003ere-rerun `output_notebook()` to attempt to load from CDN again, or\u003c/li\u003e\\n\"+\n     \"\u003cli\u003euse INLINE resources instead, as so:\u003c/li\u003e\\n\"+\n     \"\u003c/ul\u003e\\n\"+\n     \"\u003ccode\u003e\\n\"+\n     \"from bokeh.resources import INLINE\\n\"+\n     \"output_notebook(resources=INLINE)\\n\"+\n     \"\u003c/code\u003e\\n\"+\n     \"\u003c/div\u003e\"}};\n\n  function display_loaded() {\n    const el = document.getElementById(\"1002\");\n    if (el != null) {\n      el.textContent = \"BokehJS is loading...\";\n    }\n    if (root.Bokeh !== undefined) {\n      if (el != null) {\n        el.textContent = \"BokehJS \" + root.Bokeh.version + \" successfully loaded.\";\n      }\n    } else if (Date.now() \u003c root._bokeh_timeout) {\n      setTimeout(display_loaded, 100)\n    }\n  }\n\n  function run_callbacks() {\n    try {\n      root._bokeh_onload_callbacks.forEach(function(callback) {\n        if (callback != null)\n          callback();\n      });\n    } finally {\n      delete root._bokeh_onload_callbacks\n    }\n    console.debug(\"Bokeh: all callbacks have finished\");\n  }\n\n  function load_libs(css_urls, js_urls, callback) {\n    if (css_urls == null) css_urls = [];\n    if (js_urls == null) js_urls = [];\n\n    root._bokeh_onload_callbacks.push(callback);\n    if (root._bokeh_is_loading \u003e 0) {\n      console.debug(\"Bokeh: BokehJS is being loaded, scheduling callback at\", now());\n      return null;\n    }\n    if (js_urls == null || js_urls.length === 0) {\n      run_callbacks();\n      return null;\n    }\n    console.debug(\"Bokeh: BokehJS not loaded, scheduling load and callback at\", now());\n    root._bokeh_is_loading = css_urls.length + js_urls.length;\n\n    function on_load() {\n      root._bokeh_is_loading--;\n      if (root._bokeh_is_loading === 0) {\n        console.debug(\"Bokeh: all BokehJS libraries/stylesheets loaded\");\n        run_callbacks()\n      }\n    }\n\n    function on_error(url) {\n      console.error(\"failed to load \" + url);\n    }\n\n    for (let i = 0; i \u003c css_urls.length; i++) {\n      const url = css_urls[i];\n      const element = document.createElement(\"link\");\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.rel = \"stylesheet\";\n      element.type = \"text/css\";\n      element.href = url;\n      console.debug(\"Bokeh: injecting link tag for BokehJS stylesheet: \", url);\n      document.body.appendChild(element);\n    }\n\n    for (let i = 0; i \u003c js_urls.length; i++) {\n      const url = js_urls[i];\n      const element = document.createElement('script');\n      element.onload = on_load;\n      element.onerror = on_error.bind(null, url);\n      element.async = false;\n      element.src = url;\n      console.debug(\"Bokeh: injecting script tag for BokehJS library: \", url);\n      document.head.appendChild(element);\n    }\n  };\n\n  function inject_raw_css(css) {\n    const element = document.createElement(\"style\");\n    element.appendChild(document.createTextNode(css));\n    document.body.appendChild(element);\n  }\n\n  const js_urls = [\"https://cdn.bokeh.org/bokeh/release/bokeh-2.4.3.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-gl-2.4.3.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.4.3.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.4.3.min.js\", \"https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-2.4.3.min.js\"];\n  const css_urls = [];\n\n  const inline_js = [    function(Bokeh) {\n      Bokeh.set_log_level(\"info\");\n    },\nfunction(Bokeh) {\n    }\n  ];\n\n  function run_inline_js() {\n    if (root.Bokeh !== undefined || force === true) {\n          for (let i = 0; i \u003c inline_js.length; i++) {\n      inline_js[i].call(root, root.Bokeh);\n    }\nif (force === true) {\n        display_loaded();\n      }} else if (Date.now() \u003c root._bokeh_timeout) {\n      setTimeout(run_inline_js, 100);\n    } else if (!root._bokeh_failed_load) {\n      console.log(\"Bokeh: BokehJS failed to load within specified timeout.\");\n      root._bokeh_failed_load = true;\n    } else if (force !== true) {\n      const cell = $(document.getElementById(\"1002\")).parents('.cell').data().cell;\n      cell.output_area.append_execute_result(NB_LOAD_WARNING)\n    }\n  }\n\n  if (root._bokeh_is_loading === 0) {\n    console.debug(\"Bokeh: BokehJS loaded, going straight to plotting\");\n    run_inline_js();\n  } else {\n    load_libs(css_urls, js_urls, function() {\n      console.debug(\"Bokeh: BokehJS plotting callback run at\", now());\n      run_inline_js();\n    });\n  }\n}(window));","content_type":"application/vnd.bokehjs_load.v0+json"}}},{"output_type":"display_data","metadata":{},"data":{"application/vnd.jupyter.widget-view+json":{"content":"{\"model_id\":\"529b72484ef64258b0e600d79fd99a08\",\"version_major\":2,\"version_minor\":0}","content_type":"application/vnd.jupyter.widget-view+json"},"text/plain":{"content":"interactive(children=(Text(value='Venice Lagoon', description='city'), Output()), _dom_classes=('widget-intera…","content_type":"text/plain"}}}],"visibility":"show","key":"hkBblocAT4"}],"visibility":"show","key":"TFRnYIB2ku"},{"type":"block","kind":"notebook-content","data":{"papermill":{"duration":0.289523,"end_time":"2023-03-22T13:11:48.605198","exception":false,"start_time":"2023-03-22T13:11:48.315675","status":"completed"},"tags":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Exercise 3","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QxZaIr6kto"}],"identifier":"exercise-3","label":"Exercise 3","html_id":"exercise-3","implicit":true,"key":"eUXQLL2Tgh"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Can you make some conclusions from the time series? This event has been studied at length in the literature, this ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"zUXuFUWJAb"},{"type":"link","url":"https://www.sciencedirect.com/science/article/pii/S0048969722000912","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"paper","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Z6VxU6Rsks"}],"urlSource":"https://www.sciencedirect.com/science/article/pii/S0048969722000912","key":"lgGRPKIOTA"},{"type":"text","value":" can be a starting point for some ideas on how to improve the method.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jkjWZniIBL"}],"key":"iv19yNLyMs"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"There could be another reason for the change in water quality in the region, the largest river in Italy is located just below Venice. Can you preform some anaylsis to investigate this further?","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"K7nPTgA1bx"}],"key":"wgNcXhP86a"}],"visibility":"show","key":"oHFYgBOzRN"}],"key":"jrvR6h6hDl"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Truck Detection Exercise","url":"/external-notebooks/eurodatacube/notebooks/notebooks/contributions/igarss2022/igarss-22-detect-trucks-sentinel2","group":"Contributions"},"next":{"title":"Lockdown in Venice","url":"/external-notebooks/eurodatacube/notebooks/notebooks/contributions/igarss2022/igarss-22-nasa-api-lockdown-in-venice","group":"Contributions"}}},"domain":"http://localhost:3000"},"project":{"github":"https://github.com/eoxhub-workspaces/documentation/","id":"5aa0318b-5bc1-41e2-b1d4-053e8b61961b","exports":[],"bibliography":[],"title":"Location for eodashboard notebooks","index":"readme","pages":[{"title":"External Notebooks","level":1},{"title":"Eurodatacube","level":2},{"title":"Notebooks","level":3},{"slug":"external-notebooks.eurodatacube.notebooks.readme","title":"Jupyter notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Notebooks","level":4},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.readme","title":"Euro Data Cube Notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Contributions","level":5},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-ai4arctic-sea-ice","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-biomass-forest-observation-sys","title":"AIREO pilot dataset - Biomass (Forest Observation System)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-cap","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-spacenet7","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aot-covid19","title":"Aerosol Optical Thickness (AOT) Anomaly Detection Using Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.batch-zarr-output","title":"Generating Zarr data cubes with Sentinel Hub Batch API","description":"","date":"","thumbnail":"/notebooks_test/build/68dffbf744fa42f4bf3d35e55684984e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.client-side-processing-using-mass-sh","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.cmems-data-download","title":"Cmems Data Download","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.detect-trucks-sentinel2","title":"Detect Trucks using Sentinel-2 data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.drought-monitoring","title":"Drought impact monitoring platform","description":"","date":"","thumbnail":"/notebooks_test/build/ad5c19782b006f72352ae57794305840.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-africa-cube-africa-custom-contest","title":"Custom Script Contest – Urban Growth in Africa","description":"","date":"","thumbnail":"/notebooks_test/build/e9275f3fe80a704e2f5aa1ec1220e48a.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-byoc-tutorial","title":"How to bring your own data to EDC: Using Sentinel Hub Python package","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-demo-phi-week-v2","title":"xcube-gen and xcube-geodb Hands-On Workshop Φ-Week 2020","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-geodb-4-eurocrops-demo","title":"Demonstration of Eurocrops data use in geoDB","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-notebook-lstm","title":"South Africa Crop Type Classification on Euro Data Cube (EDC)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-usecase-lpis-crop-type-classification","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.eurocrops-crop-classification-example","title":"Crop-classification using Sentinel-2 time-series","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.ghsl-urban-delineation","title":"\u003cb\u003eUrban delineation\u003cb\u003e","description":"","date":"","thumbnail":"/notebooks_test/build/7bbf545a5eae1d9ebdb91ae42b261063.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.globalearthmonitor-example","title":"Pre-requisites","description":"","date":"","thumbnail":"/notebooks_test/build/205c1ded6bd59771975a9fbd3753fd3b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.gpu-support-eoxhub","title":"GPU-Support on EOxHub","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.gran-chaco-phiweek","title":"ESA EO \\phi- week 2020","description":"","date":"","thumbnail":"/notebooks_test/build/80cee7db6cdc7002ceedda5689f889fa.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.howtolulc-batch-updated-210621","title":"How To: Land-Use-Land-Cover Prediction for Slovenia - using the Batch Processing API","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.lpis-lulc-slo","title":"LPIS Use Case for Land Use / Land Cover Classification","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.lps2022-leverage-euro-data-cube-services","title":"Living Planet Symposium 2022 Training Session","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.no2-analysis-covid19-lockdowns","title":"Impact of Covid19 induced lockdown on NO2 levels","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.no2-so2-trend-veda-api-igarss-2023","title":"Using the NASA VEDA EOAPI","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.ogc-edc","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.openeo-client-demo","title":"openEO Client Demo","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.race-finishedgoodsinventory-inidcator","title":"Finished Goods Inventory indicator for RACE","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.third-party-planetscope","title":"Third Party Data Import - PlanetScope","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.xcube-access-datasets","title":"Using xcube to access non-commercial and commercial data sets","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.xcube-viewer-as-a-service-in-edc1","title":"Visualizing data with xcube viewer in EuroDataCube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-evaluation-workshop","title":"DAPA Evaluation Workshop: Introduction \u0026 Documentation","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-1-cube-sentinel-2","title":"DAPA Tutorial #1: Cube - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-2-area-sentinel-2","title":"DAPA Tutorial #2: Area - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-3-timeseries-sentinel-2","title":"DAPA Tutorial #3: Timeseries - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-4-value-sentinel-2","title":"DAPA Tutorial #4: Value - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-5-dem","title":"DAPA Tutorial #5: DEM","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.fairicube.fairicube-data-access-demonstration","title":"EDC Sentinel Hub - data access using xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-australian-bushfires","title":"Australian Bushfires","description":"","date":"","thumbnail":"/notebooks_test/build/ab194b4f8c40a2b9d64d8a85e37ce1fd.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["IGARSS-22","EO Dashboard"],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-data-access","title":"Data Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-detect-trucks-sentinel2","title":"Truck Detection Exercise","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-lockdown-in-venice","title":"Environmental Impacts of Lockdown in Venice, Italy during 2020","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-nasa-api-lockdown-in-venice","title":"Lockdown in Venice","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-no2-timeseries-analysis","title":"NO2 timeseries analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-timeseries-stac-api-single-vs-multi","title":"Time series using STAC API statistics endpoints","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Curated","level":5},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.access-iacs-data","title":"How to access IACS Spatial Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-access-cci-data","title":"Access CCI data with xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-first-steps","title":"First steps on the Euro Data Cube platform","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-1-manage-datasets-v11","title":"Manage Collections in your GeoDB","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-2-explore-datasets-2","title":"Exploring Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-3-share-datasets1","title":"Sharing Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-access-urban-atlas-data-v1","title":"[xcube-geodb] How to accesss EEA Urban Atlas Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-data-access","title":"EDC Sentinel Hub - data access using xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinelhub-datafusion-basic","title":"EDC Sentinel Hub: Data Fusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinelhub-datafusion-ndvi","title":"EDC Sentinel Hub: Data Fusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-datasets","title":"EDC Sentinel Hub - using xcube to access different data sets in Sentinel Hub","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-setup","title":"Setup for EDC core API access using xcube client library","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-xcube-integration","title":"EDC Sentinel Hub - XCUBE integration","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-usecase-ndvi-timeline","title":"NDVI timeline","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.eo-learn","title":"Using eo-learn in EDC: a starter’s guide.","description":"","date":"","thumbnail":"/notebooks_test/build/5a1f8475f0c3652f4630d03d72891b98.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.esdl-edc-v0-2","title":"Earth System Data Lab Tutorial @ Euro Data Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.exploring-time-and-space-with-edc","title":"Exploring Time and Space: A guide to accessing, analysing and visualising data in the Euro Data Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.how-to-access-dem-data-through-sentinel-hub-api","title":"How to access DEM data through Sentinel Hub API","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.sentinelhub-py","title":"Using Sentinel Hub Process API in EDC: a starter’s guide.","description":"","date":"","thumbnail":"/notebooks_test/build/01e22903839391bc356ac886ec2b2fa7.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Notebooks","level":1},{"slug":"notebooks.example1","title":"📘 Example Notebook 1","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.example2","title":"📘 Example Notebook 2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/notebooks_test/build/manifest-B4831781.js";
import * as route0 from "/notebooks_test/build/root-QGLRP2PL.js";
import * as route1 from "/notebooks_test/build/routes/$-7JYT5576.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/notebooks_test/build/entry.client-UNPC4GT3.js");</script></body></html>