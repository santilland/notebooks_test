<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>ESA EO \phi- week 2020 - Location for eodashboard notebooks</title><meta property="og:title" content="ESA EO \phi- week 2020 - Location for eodashboard notebooks"/><meta name="generator" content="mystmd"/><meta name="keywords" content=""/><meta name="image" content="/build/80cee7db6cdc7002ceedda5689f889fa.jpeg"/><meta property="og:image" content="/build/80cee7db6cdc7002ceedda5689f889fa.jpeg"/><link rel="stylesheet" href="/build/_assets/app-HG4THSM4.css"/><link rel="stylesheet" href="/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="/favicon.ico"/><link rel="stylesheet" href="/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="block px-2 py-1 text-black underline">Skip to article content</a></div><div class="bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><a class="flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/"><span class="text-md sm:text-xl tracking-tight sm:mr-5">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R3iop:" data-state="closed" class="flex items-center h-10 aspect-square sm:w-64 text-left text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="hidden sm:block grow">Search</span><div aria-hidden="true" class="items-center hidden mx-1 font-mono text-sm text-gray-400 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-8 h-8 mx-3" title="Toggle theme between light and dark mode." aria-label="Toggle theme between light and dark mode."><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><article class="article content article-grid grid-gap"><main class="article-grid subgrid-gap col-screen"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="mb-8 pt-9"><div class="flex items-center h-6 mb-5 text-sm font-light"><div class="flex-grow"></div><a href="https://github.com/eoxhub-workspaces/documentation/" title="GitHub Repository: eoxhub-workspaces/documentation/" target="_blank" rel="noopener noreferrer" class="text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a><div class="inline-block mr-1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block"><title>Jupyter Notebook</title><path d="M20.2 1.7c0 .8-.5 1.4-1.3 1.5-.8 0-1.4-.5-1.5-1.3 0-.8.5-1.4 1.3-1.5.8-.1 1.5.5 1.5 1.3zM12 17.9c-3.7 0-7-1.3-8.7-3.3 1.8 4.8 7.1 7.3 11.9 5.5 2.5-.9 4.5-2.9 5.5-5.5-1.7 2-4.9 3.3-8.7 3.3zM12 5.1c3.7 0 7 1.3 8.7 3.3-1.8-4.8-7.1-7.3-11.9-5.5-2.5.9-4.5 2.9-5.5 5.5 1.7-2 5-3.3 8.7-3.3zM6.9 21.8c.1 1-.7 1.8-1.7 1.9-1 .1-1.8-.7-1.9-1.7 0-1 .7-1.8 1.7-1.9 1-.1 1.8.7 1.9 1.7zM3.7 4.6c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1c0 .5-.4 1-1 1z"></path></svg></div><div class="relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="relative ml-2 -mr-1" id="headlessui-menu-button-:Rd4fop:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="mb-0">ESA EO \phi- week 2020</h1></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><div id="egpuHXLVWO" class="relative group/block"><h2 id="side-event-2-euro-data-cube-hands-on-tutorial-and-training-session" class="relative group"><span class="heading-text">Side Event 2: Euro Data Cube - Hands-on Tutorial and Training Session</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#side-event-2-euro-data-cube-hands-on-tutorial-and-training-session" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><hr class="py-2 my-5 translate-y-2"/></div><div id="nD1lxEwdF5" class="relative group/block"><p>In the previous part of the session, you have already gained experience in navigating around the Euro Data Cube interface and using <strong>GeoDB</strong>. Now, we are going to show a use case example to demonstrate how you can combine some of what you have learnt with <strong>Sentinel Hub Services</strong>!</p></div><div id="gp2AT8SfWH" class="relative group/block"><h3 id="use-case-example-deforestation-in-the-gran-chaco-region" class="relative group"><span class="heading-text">Use Case Example: Deforestation in the Gran Chaco Region</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#use-case-example-deforestation-in-the-gran-chaco-region" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>In this Jupyter Notebook we are going to investigate deforestation events happening in the Gran Chaco region that spans across parts of eastern Bolivia, western Paraguay, northern Argentina and a small part of the Brazilian state of Mato Grosso. The region has one of the highest rates of deforestation in the world, mainly linked to the expansion of cattle farming.</p><p>The following articles provide more context information on the subject: <a target="_blank" rel="noreferrer" href="https://earthobservatory.nasa.gov/images/146731/deforestation-in-argentinas-gran-chaco" class="">Deforestation in Argentina’s Gran Chaco
</a>, <a target="_blank" rel="noreferrer" href="https://earthobservatory.nasa.gov/images/92078/deforestation-in-paraguay" class="">Deforestation in Paraguay</a>, <a target="_blank" rel="noreferrer" href="https://www.worldwildlife.org/places/gran-chaco" class="">WWF: Gran Chaco</a>.</p></div><div id="gdYRQowfj3" class="relative group/block"><img id="Lr4QWvK4Oe" style="margin:0 auto" src="/build/80cee7db6cdc7002ceedda5689f889fa.jpeg" alt="Deforestation" data-canonical-url="https://api.time.com/wp-content/uploads/2021/04/Amazon-Deforestation.jpg?w=800&amp;quality=85"/><p>Deforested areas in the rainforest, Brazil, on August 24, 2019. Carlos Fabal – AFP/Getty Images</p></div><div id="IS4Bw5RZpF" class="relative group/block"><br/><p>Throughout the following examples we will see how to:</p><ul><li>request satellite imagery using the Python wrapper to the Sentinel Hub API service</li><li>easily request metadata concerning images over a given area and time frame</li><li>extract basic statistical information for a given area and time frame</li></ul><p>First, we will access the <a target="_blank" rel="noreferrer" href="http://www.globalforestwatch.org/about/" class="">Global Forest Watch</a> dataset (saved as a GeoDB in EDC) on deforestation in Gran Chaco. The original version can be downloaded <a target="_blank" rel="noreferrer" href="https://data.globalforestwatch.org/datasets/gran-chaco-deforestation" class="">here</a>. The dataset, that runs from 2011 to early 2018, represents deforested areas as polygons, derived manually using 30-meter resolution Landsat images for the 55 scenes that cover the Gran Chaco.</p><p>To check the temporal and spatial accuracy of the polygons, we will select a small test subset in Paraguay and compare the polygons representing deforestation events in January 2018 to higher resolution Sentinel-2 images. In this section, we will see how to query data using Sentinel Hub’s python package, and how to get metadata from the Catalog API to select the correct images without wasting resources/time.</p><p>We will then show you how to use the brand-new data fusion capabilities of Sentinel Hub services to mitigate the drawbacks of using optical sensors for deforestation detection.</p><p>Finally, we will investigate the time-series of Sentinel-2 images, deriving NDVI (Normalized Difference Vegetation Index) to see if the deforestation event can be automatically detected.</p></div><div id="uT2bWW7PV4" class="relative group/block"><h4 id="load-necessary-libraries" class="relative group"><span class="heading-text">Load necessary libraries</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#load-necessary-libraries" title="Link to this Section" aria-label="Link to this Section">¶</a></h4></div><div id="H8W6647VcG" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># EDC
from edc import setup_environment_variables
from xcube_geodb.core.geodb import GeoDBClient

# Sentinel Hub Py
from sentinelhub import (SHConfig, BBox, bbox_to_dimensions, CRS, SentinelHubRequest, DataCollection, MimeType, FisRequest)
from sentinelhub.geometry import Geometry

# Utilities
from pathlib import Path
from oauthlib.oauth2 import BackendApplicationClient
from requests_oauthlib import OAuth2Session
from datetime import datetime as dt
import pandas as pd
import numpy as np
import tarfile

# Geographical libraries
import geopandas
from pyproj import Proj, transform
from shapely.geometry import shape, box
from shapely.ops import unary_union

# Plotting
import IPython
import matplotlib.pyplot as plt
import matplotlib.dates as mdates
import matplotlib.ticker as ticker
import matplotlib.gridspec as gridspec
from matplotlib import colors
import matplotlib.patches as mpatches
from mpl_toolkits.axes_grid1.inset_locator import inset_axes

# Rasterio
import rasterio
from rasterio.plot import show
import rasterio.features
from scipy.ndimage import morphology</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="k1387wCyrZyU8qkL_X7J1" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="YSqWTu4fE9" class="relative group/block"><h4 id="setup-environment-variables" class="relative group"><span class="heading-text">Setup environment variables</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#setup-environment-variables" title="Link to this Section" aria-label="Link to this Section">¶</a></h4></div><div id="CHEuvzsQg0" class="relative group/block"><p>There are several options to set up your Sentinel Hub credentials, depending on how you want to access the services. In this workflow, as we will be working with the <code>sentinelhub-py</code> package to run requests in Python, we set up an <code>SHConfig</code> object that will take care of identification with the services for us. Therefore, we assign the identification parameters provided by EDC to the <code>SHConfig</code> object.</p></div><div id="pO2ZVqaUlc" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Get identification parameters from EDC
setup_environment_variables()

# Assign environement variables for later use
sh_client_id = %env SH_CLIENT_ID
sh_client_secret = %env SH_CLIENT_SECRET
sh_instance_id = %env SH_INSTANCE_ID

# Setup SH services access
config = SHConfig()

config.sh_client_id = sh_client_id
config.sh_client_secret = sh_client_secret
config.instance_id = sh_instance_id</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="k9mA0pc5E73hJ98dSaqzO" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="UciSnF2crR" class="relative group/block"><p>Next, we set up access to the GeoDB, using <code>GeoDBClient</code> as shown in the previous section of this training session.</p></div><div id="g7ll8gHVnr" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">geodb = GeoDBClient()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="xxT3lf9Uipr4XWalcKemm" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="oQLedYnIPd" class="relative group/block"><hr class="py-2 my-5 translate-y-2"/></div><div id="HUhRrfH3sH" class="relative group/block"><h3 id="request-a-truecolor-image-as-overview-of-the-selected-area" class="relative group"><span class="heading-text">Request a truecolor image as overview of the selected area</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#request-a-truecolor-image-as-overview-of-the-selected-area" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Now that the credentials are set up, it is possible to request satellite images.</p><p>We will start by plotting an overview True Color RBG image from Sentinel-2 of the area that we will be working on.</p><p>The <em>Sentinel Hub Process API</em> will need the following information for a valid request:</p><ul><li>An <strong>AOI</strong> (area of interest): that contains the location’s coordinates (polygon or bounding box). The image size is pre-calculated according to the resolution desired.</li><li><strong>Evalscript</strong> in which you specify the data products and their visualisation</li><li><strong>Request body</strong> with parameters about the location and time</li></ul></div><div id="sQRL83x8qB" class="relative group/block"><h4 id="define-coordinates-for-area-of-interest-and-create-a-bbox-object" class="relative group"><span class="heading-text">Define coordinates for area of interest and create a bbox object</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#define-coordinates-for-area-of-interest-and-create-a-bbox-object" title="Link to this Section" aria-label="Link to this Section">¶</a></h4></div><div id="A5gmrEHSf8" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Select the coordinates (lower-left, upper right) of our AOI
aoi_bbox = [-60.28157336, -21.27560428, -60.12293070, -21.18495133]

# Set AOI overview bbox
resolution = 10
aoi_overview = BBox(bbox=aoi_bbox, crs=CRS.WGS84)  # Make a BBox object of the list of coordinates
aoi_overview_size = bbox_to_dimensions(aoi_overview, resolution=resolution)  # Automatically calculate the output size in px

print(f&quot;Output image size: {aoi_overview_size[0]} * {aoi_overview_size[1]} px&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="-0RnsTZloQ5AeDB-FKTNS" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Output image size: 1665 * 975 px
</span></code></pre></div></div></div><div id="BtwaUe5kym" class="relative group/block"><h4 id="evalscript-creation" class="relative group"><span class="heading-text">Evalscript creation</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#evalscript-creation" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>An <a target="_blank" rel="noreferrer" href="https://docs.sentinel-hub.com/api/latest/evalscript/v3/" class="">Evalscript</a> is a piece of Javascript code that allows you to define the input and output parameters of the data you would like to query, as well as specifying the processing to be applied to the satellite images.</p><p>For the evalscript you must specify at least the two following functions:</p><ul><li>setup function: this sets up the input (i.e. which bands to call) and output settings (number of bands to return, format, etc...).</li><li>evaluatePixel function - this function is where you specify the processing (to derive new information from the images, or for visualisation) to be applied to the images.</li></ul></div><div id="oXwHdTYAzS" class="relative group/block"><p>In the following Evalscript, we want to return an RGB True Color image. In the <code>setup</code> function, we will specify that we want to use the Red (<code>B04</code>), Green (<code>B03</code>) and Blue (<code>B02</code>) bands of Sentinel-2. Since we want a three-channel image (RGB), we specify that our output will have three bands. We use the convenient <code>AUTO</code> sample type for the returned data, as we are just going to visualise it. With <code>AUTO</code> values should range from 0-1, which will then automatically be stretched from the interval [0, 1] to [0, 255] and written into a UINT8 raster.</p><p>Because the image would be too dark if we return directly the band values scaled from 0 to 255, we apply a gain (multiplying the values by 3.5). This is just for visualisation purposes.</p></div><div id="f2iDHHqVKp" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">evalscript_true_color = &quot;&quot;&quot;
//VERSION=3

// Set up the input and output settings

function setup() {
  return {
    input: [&quot;B02&quot;, &quot;B03&quot;, &quot;B04&quot;],  //define input bands
    output: { bands: 3, sampleType: SampleType.AUTO}  //define amount of channels in output image (RGB = 3)
  };
}

// Map the input bands to the values in the output raster

function evaluatePixel(sample) {
  let gain = 3.5;
  return [gain * sample.B04, gain * sample.B03, gain * sample.B02];    //map bands 4, 3, 2 to RGB channels and multiply by 3.5 for enhanced truecolor visualisation
}
&quot;&quot;&quot;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="5QvR26N5g9CpmaBLqkLfH" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="jT2xwKxpyw" class="relative group/block"><h4 id="request-body-creation" class="relative group"><span class="heading-text">Request body creation</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#request-body-creation" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>The run the Evalscript, we need to define the payload, or data parameters to send to Sentinel Hub Services. The Sentinel Hub python package simplifies the writing of the payload, by using the <code>SentinelHubRequest</code> class to pass the following input parameters:</p><ol start="1"><li>the created evalscript</li><li>input data (data source and time interval)</li><li>define the output (name and format)</li><li>define bbox</li><li>size of the requested image</li><li>identification with the SHConfig object</li></ol></div><div id="NRElOHgoDM" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">request = SentinelHubRequest(evalscript=evalscript_true_color,
                             input_data=[SentinelHubRequest.input_data(data_collection=DataCollection.SENTINEL2_L2A,
                                                                       time_interval=(&quot;2017-12-31&quot;,
                                                                                      &quot;2017-12-31&quot;))],
                            responses=[SentinelHubRequest.output_response(&#x27;default&#x27;, MimeType.TIFF)],
                            bbox=aoi_overview,  
                            size=aoi_overview_size,
                            config=config)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="JvkzxBsy_3kuKF-37VAuS" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="pPj8E4xD8y" class="relative group/block"><p>Now that the request is created, we just need to run it using the <code>get_data</code> method.</p></div><div id="WairfWgPuJ" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">overview = request.get_data()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="4eeq73rHF883kx6vhnRYu" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="jW4BwmfpBJ" class="relative group/block"><h4 id="plot-the-requested-image" class="relative group"><span class="heading-text">Plot the requested image</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#plot-the-requested-image" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>By using <code>get_data</code> without any additional parameters saved the results to the <code>overview</code> variable. Let’s plot it to look at the returned data.</p></div><div id="ZfGoNmpKZE" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, ax = plt.subplots(nrows=1, ncols=1, figsize=(15,10))
ax.imshow(overview[0])

# Plot configuration
ax.set_xticks([])
ax.set_yticks([])
ax.set_title(&quot;2017-12-31&quot;)

plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="YqJuC-X1YUKub1rWaNJtm" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/build/624ff3ddb27f08391f6ebb848f696516.png" alt="&lt;Figure size 1500x1000 with 1 Axes&gt;"/></div></div><div id="ZOnPybysAm" class="relative group/block"><h4 id="quizz-can-you-figure-out-how-to-request-a-falsecolor-infrared-image" class="relative group"><span class="heading-text">Quizz: can you figure out how to request a falsecolor infrared image?</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#quizz-can-you-figure-out-how-to-request-a-falsecolor-infrared-image" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>Try to fill in the gaps in the evalscript below.</p><p><em>Hint: To receive a falsecolor infrared image you need to map Sentinel-2 Band 8 (NIR) to the red channel, Band 4 (RED) to the green channel, and Band 3 (GREEN) to the blue channel</em>.</p></div><div id="MyHJThJhdT" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">evalscript_false_color = &quot;&quot;&quot;
//VERSION=3

function setup() {
  return {
    input: [&quot;&quot;, &quot;&quot;, &quot;&quot;],
    output: { bands: 3 }
  };
}

function evaluatePixel(sample) {
  let gain = 2.5;
  return [ , , ];
}
&quot;&quot;&quot;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="rIqQJpG4pP5vAJ0wZtlFD" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="Y8qI9OdhL4" class="relative group/block"><p>Uncomment the following cell for the solution. Make sure to run the following cell twice, one time for fetching the solution and a second time for running the Evalscript.</p></div><div id="b2YN0CG16f" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># %load https://raw.githubusercontent.com/sentinel-hub/code-snippets/master/phiweek2020/Solution.py</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="q-qOIALOMDZ1mvJLJEH27" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="qKVCPTSaOx" class="relative group/block"><p>Now that we have the Evalscript, let’s run the request:</p></div><div id="ee5bRZ3WX0" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">request = SentinelHubRequest(evalscript=evalscript_false_color,
                             input_data=[SentinelHubRequest.input_data(data_collection=DataCollection.SENTINEL2_L2A,
                                                                       time_interval=(&quot;2017-12-31&quot;,
                                                                                      &quot;2017-12-31&quot;))],
                            responses=[SentinelHubRequest.output_response(&#x27;default&#x27;, MimeType.TIFF)],
                            bbox=aoi_overview,  
                            size=aoi_overview_size,
                            config=config)

overview_fc = request.get_data()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="X47NjeptgaGygjRqQv1Ex" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="H2zBShMHtj" class="relative group/block"><h4 id="plot-the-false-color-image" class="relative group"><span class="heading-text">Plot the False Color image</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#plot-the-false-color-image" title="Link to this Section" aria-label="Link to this Section">¶</a></h4></div><div id="Ka5BrPrkbL" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, ax = plt.subplots(nrows=1, ncols=1, figsize=(15,10))
ax.imshow(overview_fc[0])

# Plot configuration
ax.set_xticks([])
ax.set_yticks([])
ax.set_title(&quot;2017-12-31&quot;)

plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="EiCtUAQCKoNhYc2NG7thJ" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/build/ad2542ac2be7795d1c9a00bd8aac2224.png" alt="&lt;Figure size 1500x1000 with 1 Axes&gt;"/></div></div><div id="qR0jVrrAAG" class="relative group/block"><hr class="py-2 my-5 translate-y-2"/></div><div id="K7UtTIt5NW" class="relative group/block"><h3 id="get-the-collection-from-geodb-and-data-preparation" class="relative group"><span class="heading-text">Get the collection from GeoDB and data preparation</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#get-the-collection-from-geodb-and-data-preparation" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>In the next step we retrieve the prepared gran_chaco collection from GeoDB.</p><p>As a reminder, you can explore the original dataset <a target="_blank" rel="noreferrer" href="https://data.globalforestwatch.org/datasets/gran-chaco-deforestation/data?geometry=-60.601%2C-20.023%2C-59.293%2C-19.797" class="">here</a>.</p></div><div id="BEH5mlaeml" class="relative group/block"><h4 id="check-available-collections-in-geodb" class="relative group"><span class="heading-text">Check available collections in GeoDB</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#check-available-collections-in-geodb" title="Link to this Section" aria-label="Link to this Section">¶</a></h4></div><div id="YyZz0i4be9" class="relative group/block"><p>Using the <code>geodb</code> client, let’s look at what collections are available.</p></div><div id="AIHJIMn9vi" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Lets get already existing collections
geodb.get_my_collections()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="n8HWEOFfAps16mUiKPGx6" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="SJTBSxBfXC" class="relative group/block"><h4 id="query-the-collection-by-bbox-to-retrieve-only-the-area-we-are-interested-in" class="relative group"><span class="heading-text">Query the collection by bbox to retrieve only the area we are interested in</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#query-the-collection-by-bbox-to-retrieve-only-the-area-we-are-interested-in" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>We are interested in the <code>gran_chaco</code> GeoDB collection. However, we will not query it entirely in this exercise since we are only interested in a specific AOI that we defined further up. Therefore, not needing the whole dataset, we only retrieve the polygons that are contained in our area of interest by querying the dataset with our defined bbox.</p></div><div id="mnHgilIVA9" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">gran_chaco = geodb.get_collection_by_bbox(&#x27;gran_chaco&#x27;, database=&quot;phi_week&quot;, bbox=aoi_bbox, bbox_crs=4326, comparison_mode=&quot;contains&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="k5W1IrKyMMVVFSuGT8MSK" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="n6bxRIDZTz" class="relative group/block"><p>Let’s preview the collection subset that we have just queried.</p></div><div id="JUNUh8rkQz" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">gran_chaco</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="BoDeu8R2lA9x5vYnl6pw-" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="OG8WEcSTWA" class="relative group/block"><h4 id="data-preparation" class="relative group"><span class="heading-text">Data preparation</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#data-preparation" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>As we can see above, in the subset of the GeoDB that we queried, there are deforestation events detected in 2011, 2014, 2015, 2016, 2017 and 2018. Let’s narrow down the dataset a little further and only select the polygons in 2018.</p></div><div id="zd5IMysKaI" class="relative group/block"><p>In the following cell, we convert the date strings to <code>datetime</code> objects to make the querying easier.</p></div><div id="k8QaIAWwFn" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Convert the dates to datetime objects and store in a new column
gran_chaco[&quot;datetime&quot;] = pd.to_datetime(gran_chaco[&quot;date&quot;])</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="1nHv6FCSDzjhk5w-Sim8r" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="bc1RGZ7NIE" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Select only polygons from 2018
gran_chaco_subset_2018 = gran_chaco[gran_chaco[&quot;datetime&quot;].dt.year == 2018]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="iB_Uos8h_BmPYck7Jf9Uc" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="DXO4vw11q9" class="relative group/block"><p>Now, we can preview the subset that we have selected based on the year 2018.</p></div><div id="kwqrSEzmV4" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">gran_chaco_subset_2018</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="4unUug-7k2-gfsWrDxqG8" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="u4dwPiKvr5" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Plot all selected polygons
IPython.display.GeoJSON(gran_chaco_subset_2018.__geo_interface__)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="zvrporir2Kxq72hYuxNdO" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="kWjWEyUfzY" class="relative group/block"><p>Fun fact: thanks to Ipython, it is easy to zoom out to have an idea of the location of the polygons. Furthermore, you can click on an individual polygon to list the attributes of that specific shape in the dataframe.</p></div><div id="betoI5Zfpp" class="relative group/block"><hr class="py-2 my-5 translate-y-2"/></div><div id="cbRgzkijyU" class="relative group/block"><h3 id="query-catalog-api-for-dates-with-available-sentinel-2-data-before-and-after-the-registered-deforestation-event" class="relative group"><span class="heading-text">Query Catalog API for dates with  available Sentinel-2 data before and after the registered deforestation event</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#query-catalog-api-for-dates-with-available-sentinel-2-data-before-and-after-the-registered-deforestation-event" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>For our selected AOI, we will check if the registered deforestation date in the dataset that we are querying is correct. To do so, we will look at the closest cloud-free Sentinel images before and after the date assigned to the polygon (here, <code>2018-01-31</code>).</p><p>Rather than query all the Sentinel-2 images in a given period around the date of interest, which would be a waste of resources particularly in cloudy areas, we can use the Catalog API service to list metadata about the images that will guide our choice in the selection. The Catalog service allows us to return the dates of images intersecting the AOI, but other essential parameters, such as the scene’s overall cloud cover.</p></div><div id="sw6t9uHO8j" class="relative group/block"><h4 id="create-an-oauth2-session-and-create-a-token-for-it" class="relative group"><span class="heading-text">Create an OAuth2 session and create a token for it</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#create-an-oauth2-session-and-create-a-token-for-it" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>In order to send a request to the Catalog API we need to create a token first. Let’s start by creating an OAuth session.</p></div><div id="gcZS7DmzB1" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Create a session
client = BackendApplicationClient(client_id=sh_client_id)
oauth = OAuth2Session(client=client)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="PBAGeXNff9tVgVMZpac55" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="viulEofmfv" class="relative group/block"><p>The token acts like an ID we provide the API with to verify us as a registered user. This token is temporary (about 1h) for security reasons. If when running a Catalog request an authentification error is thrown, just execute the following cell again to obtain a new token.</p></div><div id="u59y95xch3" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Get token for the session
token = oauth.fetch_token(token_url=&#x27;https://services.sentinel-hub.com/oauth/token&#x27;,
                          client_id=sh_client_id, client_secret=sh_client_secret)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="MAHsNwUnVTWn4a5fgdsbs" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="SnjdY8PFIS" class="relative group/block"><h4 id="create-the-catalog-api-request" class="relative group"><span class="heading-text">Create the Catalog API request</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#create-the-catalog-api-request" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>We specify the service endpoint URL, set the Content-Type to ‘application/json’ because we only want to receive a list of dates with available Sentinel-2 data within the selected period. We also set the <code>collection</code> that we want to query (here Sentinel-2 L1C), and the time range we are interested in.</p></div><div id="bvZzgGECMc" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Set the Catalog API url
catalog_url = &quot;https://services.sentinel-hub.com/api/v1/catalog/&quot;

# Set the header
headers = {
  &#x27;Content-Type&#x27;: &#x27;application/json&#x27;
}

# Set the Catalog request parameters
collections = &quot;sentinel-2-l1c&quot;
datetime= &quot;2017-10-01T00:00:00Z/2018-02-15T23:59:59Z&quot;  # We set a wide time range to get an idea of the available data</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="PMNh05cFucW83U9SWshwi" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="BbeGP62QnT" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Run the catalog request
response = oauth.request(&quot;GET&quot;, f&quot;https://services.sentinel-hub.com/api/v1/catalog/collections/{collections}/items?bbox={aoi_bbox[0]},{aoi_bbox[1]},{aoi_bbox[2]},{aoi_bbox[3]}&amp;datetime={datetime}&amp;limit=20&quot;, headers=headers)
catalog_results = response.json()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="8M6EcDW3qRn_gM-VSuKQx" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="bbxDH935aH" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Fetch the dates and cloud cover values
available_data = []
for entry in catalog_results[&quot;features&quot;]:
    available_data.append((entry[&quot;properties&quot;][&quot;datetime&quot;], entry[&quot;properties&quot;][&quot;eo:cloud_cover&quot;]))
    
print(available_data)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="asU8VqTHg-q_47C-gxvBq" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>[(&#x27;2018-02-14T14:10:42Z&#x27;, 0.0), (&#x27;2018-02-09T14:10:39Z&#x27;, 1.74), (&#x27;2018-02-04T14:10:42Z&#x27;, 0.34), (&#x27;2018-01-30T14:10:39Z&#x27;, 20.4), (&#x27;2018-01-20T14:14:24Z&#x27;, 47.4), (&#x27;2018-01-15T14:10:50Z&#x27;, 77.53), (&#x27;2018-01-10T14:10:37Z&#x27;, 48.09), (&#x27;2017-12-31T14:13:44Z&#x27;, 5.99), (&#x27;2017-12-26T14:10:40Z&#x27;, 59.38), (&#x27;2017-12-21T14:10:33Z&#x27;, 81.81), (&#x27;2017-12-11T14:10:34Z&#x27;, 1.43), (&#x27;2017-12-06T14:10:41Z&#x27;, 69.5), (&#x27;2017-12-01T14:12:55Z&#x27;, 25.88), (&#x27;2017-11-21T14:14:18Z&#x27;, 0.08), (&#x27;2017-11-16T14:10:43Z&#x27;, 57.75), (&#x27;2017-11-11T14:10:32Z&#x27;, 17.35), (&#x27;2017-10-27T14:11:07Z&#x27;, 47.9), (&#x27;2017-10-22T14:10:32Z&#x27;, 100.0), (&#x27;2017-10-07T14:10:44Z&#x27;, 12.11), (&#x27;2017-10-02T14:11:57Z&#x27;, 57.92)]
</span></code></pre></div></div></div><div id="g542irlVKO" class="relative group/block"><hr class="py-2 my-5 translate-y-2"/></div><div id="PK3LFmQs1X" class="relative group/block"><h3 id="filter-the-available-dates" class="relative group"><span class="heading-text">Filter the available dates</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#filter-the-available-dates" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>We now have a list of images and their respective cloud cover available, we can filter out for the closest dates to the deforestation event marked in our database, taking in account the cloud cover.</p><p>Let’s select the images with less than 10% cloud cover over the entire scene.</p></div><div id="qcgNnJ00WR" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Set the date of interest. Since all the dates are the same in our subset, we take the first one.
deforestation_date = dt.strptime(gran_chaco_subset_2018.date.values[0], &quot;%Y-%m-%d&quot;)

# Cloud cover percentage filter
cc = 10

# We want to select the dates that have less than the set % of cloud cover
available_datetimes = [dt.strptime(x[0], &quot;%Y-%m-%dT%H:%M:%SZ&quot;) for x in available_data if x[1] &lt;= cc]

# Find the index before and after our date of interest
past_dates = [date for date in available_datetimes if date &lt; deforestation_date]
future_dates = [date for date in available_datetimes if date &gt;= deforestation_date]

before_ind = available_datetimes.index(max(past_dates))
after_ind = available_datetimes.index(min(future_dates))</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="qKu0_-7vj3Cx3b9j7-br-" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="rkfK4Vp0R3" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">print(f&quot;Closest date with less than {cc}% cloud cover. Before: {available_datetimes[before_ind]}; After: {available_datetimes[after_ind]}&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="FNTM3A_C9xaREyy7nxGtk" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Closest date with less than 10% cloud cover. Before: 2017-12-31 14:13:44; After: 2018-02-04 14:10:42
</span></code></pre></div></div></div><div id="AGVKzqdgmk" class="relative group/block"><hr class="py-2 my-5 translate-y-2"/></div><div id="AKlS89ZwZo" class="relative group/block"><h3 id="query-sentinel-2-images" class="relative group"><span class="heading-text">Query Sentinel-2 images</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#query-sentinel-2-images" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Now we have the dates that we are interested in, we will query the images using <code>sentinelhub-py</code>, as we did for the True Color and False Color RGB images.</p></div><div id="KfiC4OSXMU" class="relative group/block"><p>First we set the bounding box to cover our selected field based on the geometry of the object in the database. We will set a buffer to make sure that we cover the entire set of polygons. Note that the buffer values are in degrees since the coordinates are in <code>WGS84</code>.</p></div><div id="RhsfzI4LUN" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Set AOI bounding box for our example polygons and image size according to desired resolution
resolution = 10
aoi = BBox(bbox=box(*gran_chaco_subset_2018.total_bounds).buffer(0.001).bounds, crs=CRS.WGS84)
aoi_size = bbox_to_dimensions(aoi, resolution=resolution)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="upH3PbFx-QLvhL-ceB38S" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="ZCfn5ehMI0" class="relative group/block"><p>In our request, we will do things a little differently from the previous requests. Indeed, to be able to plot the extent of the fields in our image, we need it to be georeferenced. Therefore, using the numpy array returned when calling the request is not sufficient. To get a georeferenced image, we will save the response as a <code>geotiff</code> locally, then open it with a geospatial library later (here we will use <code>rasterio</code>).</p></div><div id="r8ilJAUA0P" class="relative group/block"><p>We will make two requests: one for the date before the event, that we selected earlier, and one after. Before each request, we make a directory to save the <code>geotiff</code>s and set the <code>save_data</code> parameter to <code>True</code> in the <code>get_data</code> method. Note, make sure that you delete any previous requests in the folders (if they exist).</p></div><div id="RQj81D9v4a" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Make a directory to save the response
Path(&#x27;./results/before&#x27;).mkdir(parents=True, exist_ok=True)
  
request = SentinelHubRequest(evalscript=evalscript_true_color,
                             input_data=[SentinelHubRequest.input_data(data_collection=DataCollection.SENTINEL2_L2A,
                                                                       time_interval=(dt.strftime(available_datetimes[before_ind], &quot;%Y-%m-%d&quot;),
                                                                                      dt.strftime(available_datetimes[before_ind], &quot;%Y-%m-%d&quot;)))],
                            responses=[SentinelHubRequest.output_response(&#x27;default&#x27;, MimeType.TIFF)],
                            bbox=aoi,  
                            size=aoi_size,
                            data_folder=&#x27;./results/before/&#x27;,
                            config=config)

true_color_before = request.get_data(save_data=True)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="MVR332j0v4_1wg1Rwen7e" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="XPFMDUBSSN" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Make a directory to save the response
Path(&#x27;./results/after&#x27;).mkdir(parents=True, exist_ok=True)
  
request = SentinelHubRequest(evalscript=evalscript_true_color,
                             input_data=[SentinelHubRequest.input_data(data_collection=DataCollection.SENTINEL2_L2A,
                                                                       time_interval=(dt.strftime(available_datetimes[after_ind], &quot;%Y-%m-%d&quot;),
                                                                                      dt.strftime(available_datetimes[after_ind], &quot;%Y-%m-%d&quot;)))],
                            responses=[SentinelHubRequest.output_response(&#x27;default&#x27;, MimeType.TIFF)],
                            bbox=aoi,  
                            size=aoi_size,
                            data_folder=&#x27;./results/after/&#x27;,
                            config=config)

true_color_after = request.get_data(save_data=True)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="_0Whmc5wteHLC6nMloWUo" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="YkM5dkno7M" class="relative group/block"><p>Now that we have downloaded the data, let’s fetch the path to the resulting <code>geotiff</code>s and open them with rasterio.</p></div><div id="xXLX32ok8y" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Get folder name created
fld_a = [f for f in Path(&quot;./results/before/&quot;).iterdir() if f.is_dir()][0]
fld_b = [f for f in Path(&quot;./results/after/&quot;).iterdir() if f.is_dir()][0]

# Open raster with Rasterio
raster_before = rasterio.open(str(fld_a.joinpath(&quot;response.tiff&quot;)))
raster_after = rasterio.open(str(fld_b.joinpath(&quot;response.tiff&quot;)))</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="OZeE_qrmpR1JCN2eiwWY6" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="cNTXyS8KH4" class="relative group/block"><h4 id="plot-the-raster-images-saved-locally-and-show-the-outline-of-the-selected-polygons-in-the-database" class="relative group"><span class="heading-text">Plot the raster images saved locally and show the outline of the selected polygons in the database</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#plot-the-raster-images-saved-locally-and-show-the-outline-of-the-selected-polygons-in-the-database" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>Here will plot the georeferenced rasterio rasters and add the parcel outlines over the images.</p></div><div id="oy2wMDJN0u" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, (ax, ax1) = plt.subplots(nrows=1, ncols=2, figsize=(18, 10))

# Plot images before and after
show(raster_before, ax=ax)
show(raster_after, ax=ax1)

# Plot the field outline over the images
gran_chaco_subset_2018.plot(ax=ax, edgecolor=&quot;red&quot;, facecolor=&quot;none&quot;, linewidth=2)
gran_chaco_subset_2018.plot(ax=ax1, edgecolor=&quot;red&quot;, facecolor=&quot;none&quot;, linewidth=2)

# Plot configuration
for axs in [ax, ax1]:
    axs.set_xticks([])
    axs.set_yticks([])

ax.set_title(dt.strftime(available_datetimes[before_ind], &quot;%Y-%m-%d&quot;))
ax1.set_title(dt.strftime(available_datetimes[after_ind], &quot;%Y-%m-%d&quot;))

plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="faCrNTvOsWvkVtsEpgsXT" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/build/909f35a6e5ed0497d8a33b9782feaf27.png" alt="&lt;Figure size 1800x1000 with 2 Axes&gt;"/></div></div><div id="IDHef3ijBF" class="relative group/block"><p>In the image above, we notice several points:</p><ol start="1"><li><p>For some of the smaller polygons we can see that the deforestation happened between the 31<sup>st</sup> December 2017 and 4<sup>th</sup> February 2018. Due to cloud coverage, we cannot narrow down the date any more. But we will get back to this point later in the process.</p></li><li><p>The larger polygons that were identified as deforested in January 2018 in the dataset were already partly deforested in December 2017.</p></li><li><p>Certain areas delimited manually based on the Landsat images seems shifted compared to the Sentinel-2 images: i.e. the large polygon top centre. This shift may be due to the difference in resolution or slight geolocalisation differences between the sensors.</p></li></ol></div><div id="exLTLX07M1" class="relative group/block"><h4 id="compare-with-landsat-imagery" class="relative group"><span class="heading-text">Compare with Landsat imagery</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#compare-with-landsat-imagery" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>To see the field delination on a Landsat image, we can query a Landsat image as we did for Sentinel.</p></div><div id="f14ZBP87jq" class="relative group/block"><h3 id="quizz-what-is-the-easiest-way-to-write-an-evalscript-for-landsat-true-color" class="relative group"><span class="heading-text">Quizz: what is the easiest way to write an Evalscript for Landsat True Color?</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#quizz-what-is-the-easiest-way-to-write-an-evalscript-for-landsat-true-color" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Based on Landsat <a target="_blank" rel="noreferrer" href="https://docs.sentinel-hub.com/api/latest/data/landsat-8/" class="">bands</a> available, how would you return a True Color image using the Evalscript?</p></div><div id="CDIiTh3y7J" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">evalscript_landsat_true_color = &quot;&quot;&quot;&quot;&quot;&quot;

# Adjust the image size for the change in resolution
aoi_size_landsat = bbox_to_dimensions(aoi, resolution=30)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="iQ2Uuly0ERVLR7ieVkhMK" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="NqzmzDBBn2" class="relative group/block"><p>Uncomment the following cell for the solution. Make sure to run the following cell twice, one time for fetching the solution and a second time for running the Evalscript.</p></div><div id="zb6OqIqH79" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># %load https://raw.githubusercontent.com/sentinel-hub/code-snippets/master/phiweek2020/Solution2.py</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="HEw-8ZQ-z-ZhY7KecA22Z" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="PBrP1pxaQ2" class="relative group/block"><p>Bonus question: how would you improve the resolution of the True Color image?</p></div><div id="nQPWI0LjFr" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">evalscript_landsat_true_color_improved = &quot;&quot;&quot;&quot;&quot;&quot;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="inbm1tcMvBBZyd1OzD1GF" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="MfEceszzbB" class="relative group/block"><p>Uncomment the following cell for the solution. Make sure to run the following cell twice, one time for fetching the solution and a second time for running the Evalscript.</p></div><div id="QiG260PCZS" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># %load https://raw.githubusercontent.com/sentinel-hub/code-snippets/master/phiweek2020/Solution3.py</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="B1myuRzNdwnMU19LnpUch" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="w3qydlBw1F" class="relative group/block"><p>Run the query (using the Evalscript of your choice) for two dates that were preselected.</p></div><div id="BDnPNbGzlE" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Make a directory to save the request
Path(&#x27;./results/landsat/before&#x27;).mkdir(parents=True, exist_ok=True)
  
request = SentinelHubRequest(evalscript=evalscript_landsat_true_color,
                             input_data=[SentinelHubRequest.input_data(data_collection=DataCollection.LANDSAT8,
                                                                       time_interval=(&quot;2017-12-16&quot;,
                                                                                      &quot;2017-12-16&quot;))],
                            responses=[SentinelHubRequest.output_response(&#x27;default&#x27;, MimeType.TIFF)],
                            bbox=aoi,  
                            size=aoi_size_landsat,
                            data_folder=&#x27;./results/landsat/before&#x27;,
                            config=config)

true_color_landsat= request.get_data(save_data=True)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="03XLBnkdzddhvG9fWdVyN" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="cGA4LW1gbK" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Make a directory to save the request
Path(&#x27;./results/landsat/after&#x27;).mkdir(parents=True, exist_ok=True)
  
request = SentinelHubRequest(evalscript=evalscript_landsat_true_color,
                             input_data=[SentinelHubRequest.input_data(data_collection=DataCollection.LANDSAT8,
                                                                       time_interval=(&quot;2018-01-17&quot;,
                                                                                      &quot;2018-01-17&quot;))],
                            responses=[SentinelHubRequest.output_response(&#x27;default&#x27;, MimeType.TIFF)],
                            bbox=aoi,  
                            size=aoi_size_landsat,
                            data_folder=&#x27;./results/landsat/after&#x27;,
                            config=config)

true_color_landsat= request.get_data(save_data=True)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="5e_ltoe9eewtj24ka2VV-" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="gkZ4dmfGb5" class="relative group/block"><p>As we did for Sentinel-2, fetch the latest folder and open the image with Rasterio.</p></div><div id="a2O9tY1n7n" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Get folder name created
fld_lb = [f for f in Path(&quot;./results/landsat/before&quot;).iterdir() if f.is_dir()][0]
fld_la = [f for f in Path(&quot;./results/landsat/after&quot;).iterdir() if f.is_dir()][0]

# Open raster with Rasterio
raster_landsat_before = rasterio.open(str(fld_lb.joinpath(&quot;response.tiff&quot;)))
raster_landsat_after = rasterio.open(str(fld_la.joinpath(&quot;response.tiff&quot;)))</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="F4nJZW8sfbeH2puatWtNu" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="dv4wPqQ2Et" class="relative group/block"><h4 id="plot-the-landsat-scene-saved-locally-and-show-the-outline-of-the-selected-field-in-the-database" class="relative group"><span class="heading-text">Plot the Landsat scene saved locally and show the outline of the selected field in the database</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#plot-the-landsat-scene-saved-locally-and-show-the-outline-of-the-selected-field-in-the-database" title="Link to this Section" aria-label="Link to this Section">¶</a></h4></div><div id="h3GSuTrGke" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, (ax, ax1) = plt.subplots(nrows=1, ncols=2, figsize=(18, 10))

# Plot images before and after
show(raster_landsat_before, ax=ax)
show(raster_landsat_after, ax=ax1)

# Plot the field outline over the images
gran_chaco_subset_2018.plot(ax=ax, edgecolor=&quot;red&quot;, facecolor=&quot;none&quot;, linewidth=2)
gran_chaco_subset_2018.plot(ax=ax1, edgecolor=&quot;red&quot;, facecolor=&quot;none&quot;, linewidth=2)

# Plot configuration
for axs in [ax, ax1]:
    axs.set_xticks([])
    axs.set_yticks([])

ax.set_title(&quot;2017-12-16&quot;)
ax1.set_title(&quot;2018-01-17&quot;)

plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="1klPL_oYwEV3Ylh1NawJp" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/build/09f0808806b1f1aef3dee709aba79bc8.png" alt="&lt;Figure size 1800x1000 with 2 Axes&gt;"/></div></div><div id="WIEs1emClz" class="relative group/block"><p>Looking at the Landsat images in December 2017 and January 2018, provides more information on how the polygons were delineated. Indeed, owing to the revisit time of Landsat (14 days) and cloud cover, some of the deforestation events that happened end of December 2017 (as we saw in the Sentinel-2 images) were missed. The Landsat acquisition on 17<sup>th</sup> January 2018 provides more insight into the timing of the deforestation. Nevertheless, two of the polygon were already partly deforested in December 2017, which could mean that the dataset contains operator errors. The images also show that the 31<sup>st</sup> January 2018 indicated in the dataset is an arbitrary date representing the entire month of January.</p></div><div id="AVXq2OGRgW" class="relative group/block"><hr class="py-2 my-5 translate-y-2"/></div><div id="Jmk1SPlVyR" class="relative group/block"><h3 id="filling-in-the-gaps-or-how-to-use-data-fusion-to-mitigate-gaps-in-optical-imagery-time-series" class="relative group"><span class="heading-text">“Filling in the Gaps” or how to use data fusion to mitigate gaps in optical imagery time series</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#filling-in-the-gaps-or-how-to-use-data-fusion-to-mitigate-gaps-in-optical-imagery-time-series" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>In the previous section, we were able to fetch Sentinel-2 images to observe deforestation events. However, in January all the scenes acquired were completely cloud covered. As a recap, let’s just look at cloud cover for that time of year using the previous catalog request.</p></div><div id="F2iG9Eqa5k" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, ax = plt.subplots(nrows=1, ncols=1, figsize=(18, 10))

# Plot the cloud cover for available dates
ax.plot([dt.strptime(x[0], &quot;%Y-%m-%dT%H:%M:%SZ&quot;) for x in available_data], [x[1] for x in available_data], marker=&#x27;o&#x27;,
        markersize=12, linestyle=&quot;none&quot;, color=&quot;black&quot;)

# Highlight January
ax.fill_between((dt.strptime(&quot;2018-01-01&quot;, &quot;%Y-%m-%d&quot;), dt.strptime(&quot;2018-01-31&quot;, &quot;%Y-%m-%d&quot;)), (0,0), (100,100), color=&quot;red&quot;, alpha=0.3)

# Plot 10% level
ax.plot([dt.strptime(x[0], &quot;%Y-%m-%dT%H:%M:%SZ&quot;) for x in available_data], [10 for x in available_data], linestyle=&quot;--&quot;, linewidth=2, color=&quot;black&quot;)

# Plot configuration
ax.set_ylim(0,100)
ax.set_ylabel(&quot;Cloud cover percentage&quot;)
ax.set_xlabel(&quot;Date&quot;)

plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="3mf2WhZzZCEcnfgUrKw0R" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/build/0fe69697504e4786eaa1f80da1cd31ad.png" alt="&lt;Figure size 1800x1000 with 1 Axes&gt;"/></div></div><div id="qaDFLnHaQw" class="relative group/block"><p>We also know that the deforestation happened before the 17<sup>th</sup> January 2018, when looking at the Landsat image. But is there any way of checking with another satellite platform that isn’t affected by clouds?</p><p>By combining optical imagery with SAR (Synthetic Aperture Radar), the shortcomings of cloud cover can be (partly) mitigated. In this example, we will use Sentinel-1 images. Although the revisit frequency of Sentinel-1 is similar to Sentinel-2 (approximately 6 days at the equator), the additional data may be used to increase the temporal resolution of time-series regardless of local atmospheric conditions.</p></div><div id="lHg68EnOKC" class="relative group/block"><h4 id="datafusion" class="relative group"><span class="heading-text">Datafusion</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#datafusion" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>We recently wrote a <a target="_blank" rel="noreferrer" href="https://medium.com/sentinel-hub/data-fusion-combine-satellite-datasets-to-unlock-new-possibilities-26356c481169" class="">blog post</a> about the new datafusion capabilities of Sentinel Hub services. Here, we will combine Sentinel-2 and Sentinel-1 images to detect deforestation event that happened in January.</p></div><div id="IhCPG14rJQ" class="relative group/block"><p>First we will use the Catalog API service again to obtain the list of available Sentinel-1 acquisitions in January 2018.</p></div><div id="FwR57oEHqw" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Set the Catalog API url
catalog_url = &quot;https://services.sentinel-hub.com/api/v1/catalog/&quot;

# Set the header
headers = {
  &#x27;Content-Type&#x27;: &#x27;application/json&#x27;
}

# Set the Catalog request parameters
collections = &quot;sentinel-1-grd&quot;  # This time, we use the Sentinel 1 collection
datetime= &quot;2018-01-01T00:00:00Z/2018-01-31T23:59:59Z&quot;  # Time range over January 2018

# Run the catalog request
response = oauth.request(&quot;GET&quot;, f&quot;https://services.sentinel-hub.com/api/v1/catalog/collections/{collections}/items?bbox={aoi_bbox[0]},{aoi_bbox[1]},{aoi_bbox[2]},{aoi_bbox[3]}&amp;datetime={datetime}&amp;limit=20&quot;, headers=headers)
catalog_results = response.json()

# Fetch the dates and write to a list
s1_dates = []

for entry in catalog_results[&quot;features&quot;]:
    s1_dates.append(entry[&quot;properties&quot;][&quot;datetime&quot;])
    
print(s1_dates)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="gIjAyiKw55IWWpLT-P9jC" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>[&#x27;2018-01-26T09:27:02Z&#x27;, &#x27;2018-01-25T22:33:01Z&#x27;, &#x27;2018-01-14T09:27:02Z&#x27;, &#x27;2018-01-13T22:33:01Z&#x27;, &#x27;2018-01-02T09:27:03Z&#x27;, &#x27;2018-01-01T22:33:02Z&#x27;]
</span></code></pre></div></div></div><div id="FPPcVL7cys" class="relative group/block"><p>With the Catalog service API, we see that there are 6 images available for January 2018.</p><h4 id="evalscript" class="relative group"><span class="heading-text">Evalscript</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#evalscript" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>In the following Evalscript we will perform the following steps for each pixel in the image:</p><ul><li>check if the pixel’s NDVI (see below) value has dropped between December and February. If it hasn’t, we will assume there was no deforestation in January and return the Sentinel-2 True Color RGB.</li><li>if the NDVI has dropped from above 0.4 to below 0.4 (an empirical threshold that we set), we then look at the backscatter between different Sentinel-1 dates.</li><li>if the drop in backscatter from a date to another is larger than a given value (once again empirically determined), then we return a colour according to the date.</li></ul><p>To perform the operations in the list above, we need:</p><ul><li>the closest cloud-free Sentinel-2 image before January</li><li>the closest cloud-free Sentinel-2 image after January</li><li>all Sentinel-1 images in January</li></ul></div><div id="VZFqjLKrh8" class="relative group/block"><p><br/><strong>NDVI (Normalized difference vegetation index)</strong></p><p><em>The well known and widely used NDVI is a simple, but effective index for quantifying green vegetation. It normalizes green leaf scattering in Near Infra-red wavelengths with chlorophyll absorption in red wavelengths.</em></p><p><em>The value range of the NDVI is -1 to 1. Negative values of NDVI (values approaching -1) correspond to water. Values close to zero (-0.1 to 0.1) generally correspond to barren areas of rock, sand, or snow. Low, positive values represent shrub and grassland (approximately 0.2 to 0.4), while high values indicate temperate and tropical rainforests (values approaching 1).</em><br/></p></div><div id="g6vREReSNx" class="relative group/block"><p>Here we color coded the changes as follows:</p><p>2018-01-01 -&gt; 2018-01-02 = ORANGE</p><p>2018-01-02 -&gt; 2018-01-13 = WHITE</p><p>2018-01-13 -&gt; 2018-01-14 = BLUE</p><p>2018-01-14 -&gt; 2018-01-25 = GREEN</p><p>2018-01-25 -&gt; 2018-01-26 = RED</p></div><div id="om2G2lzr3b" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">evalscript_data_fusion = &quot;&quot;&quot;
//VERSION=3

function setup (){
  return {
    input: [
      {datasource: &quot;s1&quot;, bands:[&quot;VH&quot;]},
      {datasource: &quot;s2_before&quot;, bands:[&quot;B02&quot;, &quot;B03&quot;, &quot;B04&quot;, &quot;B08&quot;]},
      {datasource: &quot;s2_after&quot;, bands:[&quot;B02&quot;, &quot;B03&quot;, &quot;B04&quot;, &quot;B08&quot;]}],
    output: [
      {id: &quot;default&quot;, bands: 3}
    ],
    mosaicking: &quot;ORBIT&quot;
  };
}
  
// visualizes decibels from -20 to 0
function toDb(linear) {
  // the following commented out lines are simplified below
  // var log = 10 * Math.log(linear) / Math.LN10
  // var val = Math.max(0, (log + 20) / 20)
  return Math.max(0, Math.log(linear) * 0.21714724095 + 1)
}
  
function evaluatePixel(samples, scenes) {

  // Get samples from different specified datasources
  var s1 = samples.s1;
  var s2before = samples.s2_before[0];
  var s2after = samples.s2_after[0];
 
  // Calculate NDVI before January and after
  let ndvi_before = index(s2before.B08, s2before.B04);
  let ndvi_after = index(s2after.B08, s2after.B04);
  
  // Gain for RGB images
  var gain = 3;

  // If NDVI drop between dates is more than 0.4, query S1 data,
  // otherwise return True Color
  if (ndvi_before &gt; 0.4 &amp;&amp; ndvi_after &lt; 0.4){
  
    // Db difference threshold
    let threshold_bc = 0.2;
      
    // Return different dates by color
    if (toDb(s1[5].VH) - toDb(s1[4].VH) &gt; threshold_bc){
      return[255/255, 153/255, 51/255]
    } else if (toDb(s1[4].VH) - toDb(s1[3].VH)  &gt; threshold_bc){
      return [255/255, 255/255, 255/255]
    } else if (toDb(s1[3].VH) - toDb(s1[2].VH)  &gt; threshold_bc){
      return [0, 0, 255/255]
    } else if (toDb(s1[2].VH) - toDb(s1[1].VH)  &gt; threshold_bc){
      return [0, 255/255, 0]
    } else if (toDb(s1[1].VH) - toDb(s1[0].VH)  &gt; threshold_bc){
      return [255/255, 0, 0] // RED
    } else {
      return [s2after.B04 * gain, s2after.B03 * gain, s2after.B02 * gain];
    }
  } else {
    return [s2after.B04 * gain, s2after.B03 * gain, s2after.B02 * gain];
  }
}
&quot;&quot;&quot;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="F0XULLA0my8XhjuMe_3Si" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="O9wOJ1AONb" class="relative group/block"><h4 id="building-the-request-body" class="relative group"><span class="heading-text">Building the request body</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#building-the-request-body" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>When calling multiple sources of satellite data, the request body is written slightly differently to a request using a single sensor. In the following request, we need to specify as inputs: the Sentinel-1 images during January, the Sentinel-2 images before and after January. The latter are called as two separate data sources to save the number of images queried.</p><p>In the input data section we show you two different ways of selecting the input parameters for the different data sources:</p><ul><li>as a dictionary, which allows more control over the parameters</li><li>as a <code>SentinelHubRequest.input_data</code> object</li></ul></div><div id="KP2YZsNSix" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">request = SentinelHubRequest(
  evalscript=evalscript_data_fusion,
  input_data=[
    {&#x27;type&#x27;: &#x27;S1GRD&#x27;,
     &quot;id&quot;: &quot;s1&quot;,
     &quot;dataFilter&quot;: {
          &quot;timeRange&quot;: {
            &quot;from&quot;: &quot;2018-01-01T00:00:00Z&quot;,
            &quot;to&quot;: &quot;2018-01-31T23:59:59Z&quot;
          }
        },
     &quot;processing&quot;: {
                    &quot;orthorectify&quot;: &quot;true&quot;
                   }
    },
    SentinelHubRequest.input_data(
      data_collection=DataCollection.SENTINEL2_L2A,
      time_interval=(&#x27;2017-12-31&#x27;, &#x27;2017-12-31&#x27;),        
      other_args = {&quot;id&quot;:&quot;s2_before&quot;}
    ),
    SentinelHubRequest.input_data(
      data_collection=DataCollection.SENTINEL2_L2A,
      time_interval=(&#x27;2018-02-04&#x27;, &#x27;2018-02-04&#x27;),        
      other_args = {&quot;id&quot;:&quot;s2_after&quot;}
    ),
    
  ],
  responses=[
    SentinelHubRequest.output_response(&#x27;default&#x27;, MimeType.TIFF),
    
  ],
  bbox=aoi,  
  size=aoi_size,
  config=config
)
datafusion_results = request.get_data() </code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="_6-lK2bJPHFuQ6qYj5-nn" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="IwtYpQAw6K" class="relative group/block"><h4 id="plot-the-resulting-image" class="relative group"><span class="heading-text">Plot the resulting image</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#plot-the-resulting-image" title="Link to this Section" aria-label="Link to this Section">¶</a></h4></div><div id="E4PHEUezGB" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, ax = plt.subplots(nrows=1, ncols=1, figsize=(18, 10))

# Plot the image
ax.imshow(datafusion_results[0])

# Plot configuration
for axs in [ax, ax1]:
    axs.set_xticks([])
    axs.set_yticks([])
    
patches = [mpatches.Patch(color=&quot;orange&quot;, label=&quot;2018-01-01 - 2018-01-02&quot;),
           mpatches.Patch(facecolor=&quot;white&quot;, edgecolor=&quot;black&quot;, label=&quot;2018-01-02 - 2018-01-13&quot;) ,
           mpatches.Patch(color=&quot;blue&quot;, label=&quot;2018-01-13 - 2018-01-14&quot;),
           mpatches.Patch(color=&quot;lime&quot;, label=&quot;2018-01-14 - 2018-01-25&quot;),
           mpatches.Patch(color=&quot;red&quot;, label=&quot;2018-01-25 - 2018-01-26&quot;)]

plt.legend(handles=patches, bbox_to_anchor=(1.05, 1), title=&quot;Deforestation timing:&quot;, loc=2, borderaxespad=0. )

ax.set_title(&quot;Deforestation detection with Sentinel-1&quot;)
plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="D7t1VQ9f82hjMy65uSQPJ" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/build/58489ad4cbbcb257e136c78bd109f084.png" alt="&lt;Figure size 1800x1000 with 1 Axes&gt;"/></div></div><div id="INpFa8Ah16" class="relative group/block"><p>Thanks to the use of datafusion, we have managed to narrow down the date of deforestation, despite the large gap in optical satellite images (cloudless scenes) during January.</p><p>This approach is useful for a visual analysis of images, but is difficultly scalable. In the next section, we will touch upon the automation of the workflow for deforestation event detection.</p></div><div id="F32Vgd3T9e" class="relative group/block"><hr class="py-2 my-5 translate-y-2"/></div><div id="VHlooDyHy1" class="relative group/block"><h3 id="thoughts-about-automated-detection-of-deforestation-events" class="relative group"><span class="heading-text">Thoughts about automated detection of deforestation events</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#thoughts-about-automated-detection-of-deforestation-events" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="pjhfTidDcf" class="relative group/block"><p>As we have seen previously, the manual delineation of deforested parcels using optical images presents several challenges. Furthermore, the method requires significant efforts and time to be scaled up to larger areas. To investigate the potential of automated detection of deforestation, we will make use of the FIS (Feature Info Service) to extract Sentinel-2 derived variables over a given period.</p><p>In the following steps, we will query NDVI values over the entire time-series of available Sentinel-2 data to investigate trends.</p></div><div id="WXkT47bIJw" class="relative group/block"><p>First, we select a test field from our dataset. We choose a field that was fully forested in December 2017 and fully cleared in February 2018.</p></div><div id="AAn7yQFxZr" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Select a test field
field = gran_chaco_subset_2018[gran_chaco_subset_2018[&quot;field_id&quot;] == 88025]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="F2Afkua1u9gEIQVDuJQlM" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="l9WMWndohX" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Plot the field
IPython.display.GeoJSON(field.__geo_interface__)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="mFlMvhUSMzbQtKJFCxUF-" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="MaGZdMmNgR" class="relative group/block"><p>The Sentinel Hub Python package also allows to use FIS. In the following steps we will build several requests in order to investigate the data in logical steps.</p><p>In the first request we will query NDVI for the period <code>2015-01-01</code> to <code>2018-02-14</code>. The request looks a lot like the <code>SentinelHubRequest</code> previously used.</p></div><div id="DtyJKxudhg" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Request NDVI until February 2018
fis_request = FisRequest(layer=&#x27;NDVI&#x27;,
                         data_collection=DataCollection.SENTINEL2_L1C,
                         geometry_list=[Geometry(field.geometry.values[0], crs=CRS.WGS84)],
                         time=(&#x27;2015-01-01&#x27;, &#x27;2018-02-14&#x27;),
                         resolution=&#x27;10m&#x27;,
                         data_folder=&#x27;./data&#x27;,
                         maxcc=0.1,
                         config=config
                         )
ndvi = fis_request.get_data(save_data=False)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="hxhb7juJdVn4tEq-VIijJ" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="oftS7Cn9Wg" class="relative group/block"><p>Let’s look at the results of our first request.</p></div><div id="tkU54Sle7o" class="relative group/block"><p>FIS request returns a list of dictionaries and is difficult to read. To make the results more readable, we created a small function to convert the results to a Pandas Dataframe.</p></div><div id="Ua2dBeJLV3" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">def fis_data_to_dataframe(fis_data):
    &quot;&quot;&quot; Creates a DataFrame from list of FIS responses
    &quot;&quot;&quot;
    COLUMNS = [&#x27;date&#x27;, &#x27;min&#x27;, &#x27;max&#x27;, &#x27;mean&#x27;, &#x27;stDev&#x27;]
    data = []
    for fd in fis_data:
        for channel, channel_stats in fd.items():
            if channel == &#x27;C0&#x27;:                
                for stat in channel_stats:
                    row = [dt.strptime(stat[&#x27;date&#x27;], &quot;%Y-%m-%d&quot;)]
                    for column in COLUMNS[1:]:
                        row.append(stat[&#x27;basicStats&#x27;][column])
                        data.append(row)
        
    # Save to pandas dataframe and reset index
    df = pd.DataFrame(data, columns=COLUMNS).sort_values([&#x27;date&#x27;]).drop_duplicates()
    df.reset_index(drop=True, inplace=True)
    
    return df</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="f3l47BpQAv5fOqz05aKgW" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="V7BYpEA9ex" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Convert the FIS results to a dataframe
ndvi_df = fis_data_to_dataframe(ndvi)

# Drop a date (visually identified as hazy)
ndvi_df.drop(ndvi_df.loc[ndvi_df[&#x27;date&#x27;]==&quot;2016-12-01&quot;].index, inplace=True)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="zCS9ovqUCWmnNcqHdoqKW" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="VS8jwu2qUC" class="relative group/block"><p>In the next cell, we plot the results of the first request, nicely formatted in a Pandas Dataframe.</p></div><div id="FYjbnW9qlZ" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">ndvi_df</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="3lTs4p02VvBFTrFyXWubY" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="KyILf9HiqG" class="relative group/block"><p>Next, we build a second request that runs from February 2018 to today, to see how NDVI evolves after deforestation has happened.</p></div><div id="Tx53VduL5S" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Build the request after deforestation
fis_request = FisRequest(layer=&#x27;NDVI&#x27;,
                         data_collection=DataCollection.SENTINEL2_L1C,
                         geometry_list=[Geometry(field.geometry.values[0], crs=CRS.WGS84)],
                         time=(&#x27;2018-02-14&#x27;, dt.today()),
                         resolution=&#x27;10m&#x27;,
                         data_folder=&#x27;./data&#x27;,
                         maxcc=0.05,
                         config=config
                         )

# Run the request
ndvi_updated = fis_request.get_data(save_data=False)

# Convert the results to a dataframe
ndvi_df_updated = fis_data_to_dataframe(ndvi_updated)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="-hbrHwVQd8vB0j9gV3lQ5" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="j3Do0si8it" class="relative group/block"><p>Finally, we are interested in comparing the temporal evolution of NDVI to that of a parcel that was not deforested. To do so, we selected an area that was still forested in September 2020&gt;</p></div><div id="EtrxHcCHHb" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># We select a parcel of forest of approximately the same size of our field for comparison purposes
forest = [ -60.19555112, -21.23150358, -60.18345680, -21.22224216]
aoi_forest = BBox(bbox=forest, crs=CRS.WGS84)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="l6XyXmW82Hlel8GWFi2Ef" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="QK1o0Gx7y6" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Build the request
fis_request = FisRequest(layer=&#x27;NDVI&#x27;,
                         data_collection=DataCollection.SENTINEL2_L1C,
                         geometry_list=[aoi_forest],
                         time=(&#x27;2015-01-01&#x27;, dt.today()),
                         resolution=&#x27;10m&#x27;,
                         maxcc=0.05,
                         config=config
                         )
# Run the request
forest_patch = fis_request.get_data(save_data=False)

# Convert the results to a dataframe
forest_df = fis_data_to_dataframe(forest_patch)

# Drop a date (visually identified as hazy)
forest_df.drop(forest_df.loc[forest_df[&#x27;date&#x27;]==&quot;2018-09-12&quot;].index, inplace=True)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="3aR8HkctVV89vGQykq9_A" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="KHMRXf1aed" class="relative group/block"><h4 id="plot-the-mean-ndvi-of-the-selected-field-over-the-date-range" class="relative group"><span class="heading-text">Plot the mean NDVI of the selected field over the date range</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#plot-the-mean-ndvi-of-the-selected-field-over-the-date-range" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>Now our data is ready, we can plot it in steps.</p></div><div id="ap7dNICqrU" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">def plot_timeline(step=1):
    &quot;&quot;&quot;Plot timeline.&quot;&quot;&quot;
    
    # Check step value
    if (step &lt; 1 or step &gt;4):
        raise ValueError(&quot;Step out of range 1-4&quot;)
        
    # Setup subplots
    fig = plt.figure(figsize=(18,14))
    gs = fig.add_gridspec(2, 2)
    ax = fig.add_subplot(gs[1, :])
    ax2 = fig.add_subplot(gs[0, 0])
    ax2.set_title(&#x27;gs[1, :-1]&#x27;)
    ax3 = fig.add_subplot(gs[0, 1])
    ax3.set_title(&#x27;gs[1, :-1]&#x27;)

    ###########
    # 1. Plot the rasters of the field as a reminder
    show(raster_before, ax=ax2)
    ax2.set_title(dt.strftime(available_datetimes[before_ind], &quot;%Y-%m-%d&quot;))
    show(raster_after, ax=ax3)
    ax3.set_title(dt.strftime(available_datetimes[after_ind], &quot;%Y-%m-%d&quot;))

    # 2. Plot the mean NDVI until the deforestation
    ndvi_df.plot(x=&#x27;date&#x27;, y=&#x27;mean&#x27;, ax=ax, linestyle=&#x27;-&#x27;, marker=&#x27;.&#x27;, label=r&quot;Mean NDVI of the field $\pm 1\sigma$&quot; )

    # Plot the standard deviation as a shaded area
    ax.fill_between(ndvi_df.date,
                    (ndvi_df[&quot;mean&quot;] - ndvi_df[&quot;stDev&quot;]),
                    (ndvi_df[&quot;mean&quot;] + ndvi_df[&quot;stDev&quot;]),
                    alpha=0.3)

    # Highlight before and after dates
    ax.scatter([&quot;2017-12-31&quot;, &quot;2018-02-04&quot;], [ndvi_df[ndvi_df[&quot;date&quot;]==&quot;2017-12-31&quot;][&quot;mean&quot;], ndvi_df[ndvi_df[&quot;date&quot;]==&quot;2018-02-04&quot;][&quot;mean&quot;]], marker=&quot;o&quot;, s=65, color=&quot;red&quot;)

    ###########
    if step &gt;= 2:
        # 2. Plot period after the identified deforestation event
        ndvi_df_updated.plot(x=&#x27;date&#x27;, y=&#x27;mean&#x27;, ax=ax, linestyle=&#x27;-&#x27;, marker=&#x27;.&#x27;,
                             color=&quot;indianred&quot;, label=&quot;Period after deforestation&quot; )
        ax.fill_between(ndvi_df_updated.date, ndvi_df_updated[&quot;mean&quot;] - ndvi_df_updated[&quot;stDev&quot;],
                        ndvi_df_updated[&quot;mean&quot;] + ndvi_df_updated[&quot;stDev&quot;],
                        alpha=0.3, color=&quot;indianred&quot;)

    ###########
    if step &gt;= 3:
        # 3. Plot dry season months
        ax.fill_between((&quot;2015-08-01&quot;, &quot;2015-10-30&quot;), (0,0), (1,1), color=&quot;lightgrey&quot;, alpha=0.7)
        ax.fill_between((&quot;2016-08-01&quot;, &quot;2016-10-30&quot;), (0,0), (1,1), color=&quot;lightgrey&quot;, alpha=0.7)
        ax.fill_between((&quot;2017-08-01&quot;, &quot;2017-10-30&quot;), (0,0), (1,1), color=&quot;lightgrey&quot;, alpha=0.7)
        ax.fill_between((&quot;2018-08-01&quot;, &quot;2018-10-30&quot;), (0,0), (1,1), color=&quot;lightgrey&quot;, alpha=0.7)
        ax.fill_between((&quot;2019-08-01&quot;, &quot;2019-10-30&quot;), (0,0), (1,1), color=&quot;lightgrey&quot;, alpha=0.7)
        ax.fill_between((&quot;2020-08-01&quot;, &quot;2020-10-30&quot;), (0,0), (1,1), color=&quot;lightgrey&quot;, alpha=0.7)

    ###########
    if step == 4:
        # 4. Plot forest patch NDVI
        forest_df.plot(x=&#x27;date&#x27;, y=&#x27;mean&#x27;, ax=ax, linestyle=&#x27;-&#x27;, marker=&#x27;.&#x27;, color=&quot;forestgreen&quot;, label=&quot;Patch of forest close to AOI&quot; )
    
    # Plot configuration
    ax.legend()
    ax.set_ylabel(&quot;NDVI&quot;)
    ax.set_xlabel(&quot;Date&quot;)
    ax.set_ylim(0, 1)

    ax.tick_params(axis=&#x27;both&#x27;, direction=&#x27;inout&#x27;, )
    ax.xaxis.set_major_locator(mdates.MonthLocator(interval=2))
    ax.yaxis.set_major_locator(plt.MultipleLocator(0.1))
    ax.yaxis.set_ticks_position(&quot;both&quot;)

    for axs in [ax2, ax3]:
        field.plot(ax=axs, edgecolor=&quot;red&quot;, facecolor=&quot;none&quot;, linewidth=2)
        axs.set_xticks([])
        axs.set_yticks([])

    plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="qiGxW8JfJQk1rT9Rukm8f" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="dU0uiWEfmE" class="relative group/block"><h4 id="plot-the-data" class="relative group"><span class="heading-text">Plot the data</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#plot-the-data" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>Plot the time series by changing the <code>step</code> parameter incresingly from 1 to 4, and observe the graph at each step&gt;</p></div><div id="BVo31ABEn8" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">plot_timeline(step=4)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="IU17hLJacJF20EMrRFh3n" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/build/bb177cbaccbf3a28cc6b6a339cb15948.png" alt="&lt;Figure size 1800x1400 with 3 Axes&gt;"/></div></div><div id="l7SXJ4I0Es" class="relative group/block"><p>Exploring time-series of satellite imagery with FIS is an easy way to understand the data without having to query dozens of images.</p><p>What does the time series of data tell us?</p><p><strong>Step 1:</strong></p><p>The NDVI values have small variations over the years, but we notice a very sharp decrease at the time of the identified deforestation event (before and after deforestation are highlighted in red). Can this drop in NDVI be used to detect deforestation?</p><p><strong>Step 2:</strong></p><p>When looking at the entire time-series of our field until today, we notice large variations in NDVI, with high values followed by large drops. These trends represent cultivated fields that are harvested and cannot be differentiated from deforestation events.</p><p><strong>Step 3:</strong></p><p>If we shade the dry season each year, we can see that there is a drop in NDVI for forested areas. Furthermore, the harvesting period also corresponds to the dry season. We also notice more variation in the data outside of the dry season.</p><p><strong>Step 4:</strong></p><p>By plotting the entire time-series of available Sentinel-2 data for a forested patch close the to the selected field, we can compare trends between forested areas and areas after deforestation then cultivation. We can also see that the drop in NDVI for the forest isn’t as pronounced during the dry season than for cultivated fields.</p><p>This graph, along with the previous plots, can provide hints on how to implement an automated workflow to detect a deforestation event, without confusing deforestation with harvesting. Maybe you have some ideas? If you want to explore the subject in more detail, you can run through the following “bonus” section...</p></div><div id="MIaDLH2lRX" class="relative group/block"><hr class="py-2 my-5 translate-y-2"/></div><div id="LofT3A4djk" class="relative group/block"><p><strong>END OF GUIDED TUTORIAL</strong></p></div><div id="RPfhymGuAh" class="relative group/block"><hr class="py-2 my-5 translate-y-2"/></div><div id="CBcaRpl1Qa" class="relative group/block"><h3 id="bonus-example-testing-the-implementation-of-an-automated-deforestation-detection-method-using-sentinel-2-images" class="relative group"><span class="heading-text">Bonus example: testing the implementation of an automated deforestation detection method using Sentinel-2 images</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#bonus-example-testing-the-implementation-of-an-automated-deforestation-detection-method-using-sentinel-2-images" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>If you want to continue exploring test cases of Sentinel Hub services in the Euro Data Cube, the following cells show an example workflow that automatically detects deforestation events from Sentinel-2 images.</p><p>This empirical method was designed to showcase Sentinel hub features and probably only works locally. If you think of a better solution, don’t hesitate to implement it and share it with the World through the EDC Marketplace!</p></div><div id="pTPimmP495" class="relative group/block"><h4 id="ndvi-comparison-before-after-a-deforestation-event" class="relative group"><span class="heading-text">NDVI comparison before / after a deforestation event</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#ndvi-comparison-before-after-a-deforestation-event" title="Link to this Section" aria-label="Link to this Section">¶</a></h4></div><div id="ilgj9ELBvY" class="relative group/block"><p>In the previous graph, we have seen that even after a deforestation event, there are periods where the NDVI peaks, and is followed by a sharp drop.</p><p>First, let’s inspect the difference between the maximum NDVI before the know deforestation date, and an other peak later on.</p></div><div id="ne8cPiUtfV" class="relative group/block"><p>Looking at the graph we will compare the True Color and NDVI images of the selected field on <code>2017-12-31</code> and <code>2018-11-11</code>. We start by requesting a True Color RGB and NDVI band in the Evalscript.</p></div><div id="tlC40eKsUJ" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">evalscript_multi_response = &quot;&quot;&quot;
//VERSION=3

function setup() {
  return {
    input: [&quot;B02&quot;, &quot;B03&quot;, &quot;B04&quot;, &quot;B08&quot;],
    output: [{
        id: &quot;truecolor&quot;,
        bands: 3
        },
        {
        id: &quot;ndvi&quot;,
        bands: 1,
        sampleType: SampleType.UINT16
        }
    ]
  };
}

function evaluatePixel(sample) {
  let ndvi = index(sample.B08, sample.B04);
  
  let gain = 3.5;
  return {&quot;truecolor&quot;: [gain * sample.B04, gain * sample.B03, gain * sample.B02],
         &quot;ndvi&quot;: [10000 * ndvi + 10000]};
}
&quot;&quot;&quot;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="pl2KfSo_Bpx6dXxCPGeom" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="dTWlcqsGvR" class="relative group/block"><p>Note that we returned ndvi as <code>UINT16</code> with the following operation: <code>[10000 * ndvi + 10000]</code></p><p>This trick reduces the size of the returned image, as well as the number of Processing Units used with Sentinel Hub’s process API. You can then convert the returned product back to floats by doing: <code>ndvi_float = (ndvi - 10000.)/10000.</code></p><p>Of course, you can request the NDVI band as <code>FLOAT32</code> directly if you wish.</p></div><div id="rr9EAPGZrC" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Set AOI bounding box for our example field and image size according to desired resolution
resolution = 10
aoi_field = BBox(bbox=field.geometry.bounds.values.tolist()[0], crs=CRS.WGS84)
aoi_field_size = bbox_to_dimensions(aoi, resolution=resolution)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="kecRF6_a4Et_iqaNLMrvu" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="vaQTN8zr8R" class="relative group/block"><p>In the next cell we create the request body in a loop for both dates and append the <code>SentinelHubRequest</code> to a list.</p></div><div id="jVcNgcfPAe" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">date_list = [&quot;2017-12-31&quot;, &quot;2018-11-11&quot;]
requests = []

for date in date_list:
    requests.append(SentinelHubRequest(evalscript=evalscript_multi_response,
                                       input_data=[SentinelHubRequest.input_data(data_collection=DataCollection.SENTINEL2_L2A,
                                                                                 time_interval=(date,
                                                                                                date))],
                                responses=[SentinelHubRequest.output_response(&#x27;truecolor&#x27;, MimeType.TIFF),
                                           SentinelHubRequest.output_response(&#x27;ndvi&#x27;, MimeType.TIFF)],
                                bbox=aoi_field,  
                                size=aoi_field_size,
                                config=config))</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="EsLWCpGwVF34EG0bVZs8Q" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="kh2ik2kZL3" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Fetch the data for both requests
t1 = requests[0].get_data()
t2 = requests[1].get_data()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="BL-DKTW0xJucztYJZJVU_" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="scZXUBs1cx" class="relative group/block"><h5 id="plot-the-true-color-image-and-ndvi-for-the-two-selected-dates" class="relative group"><span class="heading-text">Plot the True Color image and NDVI for the two selected dates</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#plot-the-true-color-image-and-ndvi-for-the-two-selected-dates" title="Link to this Section" aria-label="Link to this Section">¶</a></h5></div><div id="qHt33veZuu" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig = plt.figure(figsize=(16,14))
gs = fig.add_gridspec(2, 2, width_ratios=(20, 20),wspace=0.1, hspace=0.1)

# Setup subplots
ax = fig.add_subplot(gs[0, 0])
ax1 = fig.add_subplot(gs[0, 1])
ax3 = fig.add_subplot(gs[1, 0])
ax4 = fig.add_subplot(gs[1, 1])

# Plot True Color images
ax.imshow(t1[0][&#x27;truecolor.tif&#x27;])
ax1.imshow(t2[0][&#x27;truecolor.tif&#x27;])

# Plot NDVI (converting to floats)
ndvi_pl = ax3.imshow((t1[0][&#x27;ndvi.tif&#x27;] - 10000.)/10000., cmap=&quot;Greens&quot;, vmin=0, vmax=1)
ax4.imshow((t2[0][&#x27;ndvi.tif&#x27;] - 10000.)/10000., cmap=&quot;Greens&quot;, vmin=0, vmax=1)

# Plot configuration
for axs in [ax, ax1, ax3, ax4]:
    axs.set_xticks([])
    axs.set_yticks([])
    
ax.set_ylabel(&quot;True Color RGB&quot;)
ax3.set_ylabel(&quot;NDVI&quot;)
ax.set_title(&quot;2017-12-11&quot;)
ax1.set_title(&quot;2018-11-11&quot;)

# Setup colorbar
axins = inset_axes(ax4, 
               width=&quot;5%&quot;,  
               height=&quot;100%&quot;,  
               loc=&#x27;lower left&#x27;,
               bbox_to_anchor=(1.05, 0.0, 1, 1),
               bbox_transform=ax4.transAxes,
               borderpad=0,
               )

cb = fig.colorbar(ndvi_pl, cax=axins)

plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="_FCTnhXBloeM9jBWmvCPG" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/build/9056164dab6c6859c214294cb0bd87d8.png" alt="&lt;Figure size 1600x1400 with 5 Axes&gt;"/></div></div><div id="IpMV6kEmCL" class="relative group/block"><p>The above image shows that it is difficult to differenciate between forest and cultures. The NDVI values are also similar between crops and forest, even though a pattern in the cultivated field is visible. Nevertheless, the values are similar if averaged over the field.</p></div><div id="BVrte1mIcQ" class="relative group/block"><h4 id="implementation-of-an-empirical-automated-approach" class="relative group"><span class="heading-text">Implementation of an empirical automated approach</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#implementation-of-an-empirical-automated-approach" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>Based on the graph of NDVI values over time, we saw that a drop in NDVI doesn’t always signify a deforestation event, and can also be linked to harvesting fields. We also saw in the plot above, that it is very difficult to differentiate the NDVi of forest and cultivated deforested parcels. However, the graph showed that the minimum NDVI observed during the dry season is higher for forested areas than for cultivated areas.</p><p>Based on these observations we will design an algorithm that accounts for the following points:</p><ul><li>We will loop through each available image (with less than 5% cloud cover) in a given period.</li><li>For each image, if the NDVI of the dry season preceding the date is higher than an arbitrary threshold, we consider that the pixel was forested the previous year.</li><li>If the pixel is considered as forested the previous year, we compare the difference in NDVI with the previous date in the time-series, looking for a large drop in NDVI. If we observe a drop (more than an arbitrary threshold), then we assume a deforestation event. However, a pixel can only be deforested once: only the first event in the time series is recorded.</li></ul></div><div id="ENax3cTGPE" class="relative group/block"><p>First we will set a time period (three months for this example), then use the Catalog API to fetch the valid images over our area of interest (here the overall area defined at the beginning of the Jupyter Notebook.)</p></div><div id="DIPMNKjFyl" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Set start and end date of each period
START_DATE = &#x27;2018-01-01&#x27;
END_DATE = &#x27;2018-03-31&#x27;

# Query the period using Catalog API (if you get a token error, don&#x27;t forget to request a new token higher up)
collections = &quot;sentinel-2-l1c&quot;
datetime= f&quot;{START_DATE}T00:00:00Z/{END_DATE}T23:59:59Z&quot;

# Run the catalog request
response = oauth.request(&quot;GET&quot;, f&quot;https://services.sentinel-hub.com/api/v1/catalog/collections/{collections}/items?bbox={aoi_bbox[0]},{aoi_bbox[1]},{aoi_bbox[2]},{aoi_bbox[3]}&amp;datetime={datetime}&amp;limit=20&quot;, headers=headers)
catalog_results = response.json()

# Fetch the dates and cloud cover values
available_data = []
for entry in catalog_results[&quot;features&quot;]:
    available_data.append((entry[&quot;properties&quot;][&quot;datetime&quot;], entry[&quot;properties&quot;][&quot;eo:cloud_cover&quot;]))

# Make a list of dates for cloud_cover less than 5%
cloud_free_dates = [x[0] for x in available_data if x[1] &lt;= 5]

# Reverse to match Evalscript output
cloud_free_dates.reverse()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="V0fulAE-SLd1-MZE0CzJg" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="FswOBuAJP3" class="relative group/block"><p>In the following Evalscript, we will request 4 data outputs for each available image in 2018:</p><ul><li>B02 (Blue)</li><li>B03 (Green)</li><li>B04 (Red)</li><li>A binary product containing the “deforested” pixels (value = 1) for further processing.</li></ul></div><div id="w4eO4AkBvW" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">deforestation_basic_evalscript = &quot;&quot;&quot;
//VERSION=3

// number of days with a valid image
const n_days = {number_days};


function setup (){{
  // Sentinel Hub&#x27;s function that prepares inputs/outputs
  return {{
    input: [
      // We need 2 datasources for S2L2A, because we are 
      // querying 2 different time ranges
      {{datasource: &quot;l2a_winter&quot;, bands:[&quot;B04&quot;, &quot;B08&quot;]}},
      {{datasource: &quot;l2a&quot;, bands:[&quot;B02&quot;, &quot;B03&quot;, &quot;B04&quot;, &quot;B08&quot;]}}],
    output: [
      {{id: &quot;deforestation_band&quot;, bands: n_days , sampleType: &quot;UINT8&quot;}},
      {{id: &quot;B02&quot;, bands: n_days , sampleType: &quot;UINT16&quot;}},
      {{id: &quot;B03&quot;, bands: n_days , sampleType: &quot;UINT16&quot;}},
      {{id: &quot;B04&quot;, bands: n_days , sampleType: &quot;UINT16&quot;}}
  ],
  mosaicking: &quot;ORBIT&quot;
  }};
}}


function evaluatePixel(samples, scenes) {{
  // Sentinel Hub&#x27;s function that processes the data
  
  var S2L2A_scenes = scenes.l2a.scenes;
  var L2AW = samples.l2a_winter;
  var S2L2A = samples.l2a;

  // 1. Calculate the average NDVI in the winter of the previous year
  var ndvi = 0;

  for (var i = 0; i &lt; L2AW.length; i++) {{
    ndvi += index(L2AW[i].B08, L2AW[i].B04);
  }}

  var avg_ndvi = ndvi / L2AW.length;
    
  // 2. Run through all the dates in 2018 and detect deforestation events

  //  Initialise data
  var cloudless_bands = {{&#x27;B02&#x27;:new Array(n_days).fill(0),
                         &#x27;B03&#x27;:new Array(n_days).fill(0),
                         &#x27;B04&#x27;:new Array(n_days).fill(0),
                         &#x27;representation&#x27;:new Array(n_days).fill(0)}};
                         
  var count = 0;
  var deforestation_sum = 0;
  var deforestation = [];

  for (var j = S2L2A.length-2; j &gt;= 0; j--){{
    if (index(S2L2A[j+1].B08, S2L2A[j+1].B04) - index(S2L2A[j].B08, S2L2A[j].B04) &gt; 0.2){{
      if (avg_ndvi &gt;= 0.35 &amp;&amp; deforestation_sum == 0 &amp;&amp; index(S2L2A[j].B08, S2L2A[j].B04) &lt; 0.4){{
        deforestation.push(1);
        deforestation_sum += 1;
      }} else {{
        deforestation.push(0);
      }}
    }} else{{
      deforestation.push(0);
    }}
    // Fill bands with data
    cloudless_bands[&#x27;B02&#x27;][count] = S2L2A[j].B02 * 65535;
    cloudless_bands[&#x27;B03&#x27;][count] = S2L2A[j].B03 * 65535;
    cloudless_bands[&#x27;B04&#x27;][count] = S2L2A[j].B04 * 65535;
    
    count += 1;
  }}
  

  return {{&quot;deforestation_band&quot;: deforestation,
          &quot;B02&quot;: cloudless_bands.B02,
          &quot;B03&quot;: cloudless_bands.B03,
          &quot;B04&quot;: cloudless_bands.B04}};
}}
&quot;&quot;&quot;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="1Sq3THfLUoPlqdDz-t493" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="ptmbV5l9LF" class="relative group/block"><p>In the follwing cell we build the request, and run it, saving the results to a file, since we want to open the files with rasterio to vectorise the results.</p></div><div id="NmAAtkpC0C" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">request = SentinelHubRequest(
  evalscript=deforestation_basic_evalscript.format(number_days=len(cloud_free_dates)-1),
  input_data=[
    SentinelHubRequest.input_data(
      data_collection=DataCollection.SENTINEL2_L2A,
      time_interval=(START_DATE, END_DATE),        
      other_args = {&quot;dataFilter&quot;:{&quot;maxCloudCoverage&quot;:&quot;5&quot;},&quot;id&quot;:&quot;l2a&quot;}
    ),
    SentinelHubRequest.input_data(
      data_collection=DataCollection.SENTINEL2_L2A,
      time_interval=(&#x27;2017-08-01&#x27;, &#x27;2017-10-01&#x27;),        
      other_args = {&quot;dataFilter&quot;:{&quot;maxCloudCoverage&quot;:&quot;5&quot;},&quot;id&quot;:&quot;l2a_winter&quot;}
    ),
    
  ],
  responses=[
    SentinelHubRequest.output_response(&#x27;deforestation_band&#x27;, MimeType.TIFF),
    SentinelHubRequest.output_response(&#x27;B02&#x27;, MimeType.TIFF),
    SentinelHubRequest.output_response(&#x27;B03&#x27;, MimeType.TIFF),
    SentinelHubRequest.output_response(&#x27;B04&#x27;, MimeType.TIFF),
    
  ],
  bbox=aoi_overview,  
  size=aoi_overview_size,
  data_folder=&#x27;./results/deforestation&#x27;,

  config=config
)
response = request.get_data(save_data=True) </code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="EST2_EkE2XTWYSibfOSQr" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="PdtVfl0vUh" class="relative group/block"><p>The response is stored as a tar, so we need to decompress it.</p></div><div id="hlgDEl8THG" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Fetch folder created in the destination directory
fld_d = [f for f in Path(&quot;./results/deforestation/&quot;).iterdir() if f.is_dir()][0]

# Extract the tar file
with tarfile.open(fld_d.joinpath(&quot;response.tar&quot;) , &#x27;r&#x27;) as tar:
    tar.extractall(path=fld_d)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="vldhR_FSCia94XxfGcHpO" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="ICeDCJQ88d" class="relative group/block"><h4 id="plot-the-automatically-detected-deforested-areas-on-the-rgb-image" class="relative group"><span class="heading-text">Plot the automatically detected deforested areas on the RGB image</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#plot-the-automatically-detected-deforested-areas-on-the-rgb-image" title="Link to this Section" aria-label="Link to this Section">¶</a></h4></div><div id="eSFP61LJ8e" class="relative group/block"><p>For easier plotting we will define a function.</p></div><div id="GAXbMqizcd" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">def plot_fields_RGB(r, g, b, fields, t=0, gain=2, alpha=0.5, title=None):
    
    rgb_stack = np.stack((r[:,:,t], g[:,:,t], b[:,:,t]), axis=2)
    deforested_plots = np.ma.masked_where(fields[:,:,t] == 0, fields[:,:,t])


    # make a color map of fixed colors
    cmap = colors.ListedColormap([&#x27;red&#x27;])
    bounds=[0,1]
    norm = colors.BoundaryNorm(bounds, cmap.N)

    fig, ax = plt.subplots(nrows=1, ncols=1, figsize=(20,20))
    ax.imshow(rgb_stack * gain)
    ax.imshow(deforested_plots, cmap=cmap, norm=norm, interpolation=&#x27;none&#x27;, alpha=alpha)
    
    # Plot configuration
    ax.set_xticks([])
    ax.set_yticks([])
    
    patches = [mpatches.Patch(color=&quot;red&quot;, label=&quot;Deforested area&quot;, alpha=0.9)]
    plt.legend(handles=patches, loc=2)

    ax.set_title(title)
    plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="g1MmdoReTfMNJnsPfesvR" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="OT2kzx1yZ4" class="relative group/block"><p>Since we are running a per-pixel analysis in the Evalscript, noise may appear in the results. We have defined a function in the cell below that allows us to remove spurious pixels and return a “cleaner” result.</p></div><div id="iI3FKMHWdB" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Clean deforestation band
def erode_dilate(array, size, dim=0):
    
    if dim &gt;= 1:
        er = morphology.grey_erosion(array, size=(size, size, dim))
        dil = morphology.grey_dilation(er, size=(size, size, dim))
    else:
        er = morphology.grey_erosion(array, size=(size, size))
        dil = morphology.grey_dilation(er, size=(size, size))
    
    
    return dil</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="K2JdsUx7e0CkEcJoj5ymt" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="T0adbQEO5d" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Fetch the responses from the returned variable and assign them to individual variables
# The division by 65535 converts the UINT16 DN back to Reflectance
B02 = response[0][&#x27;B02.tif&#x27;] / 65535
B03 = response[0][&#x27;B03.tif&#x27;] / 65535
B04 = response[0][&#x27;B04.tif&#x27;] / 65535

# Clean the deforested array 
deforest_raster = erode_dilate(response[0][&quot;deforestation_band.tif&quot;], 3, dim=1)

# Free the returned variavle from our SentinelHub request
response = None</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="KS9rTUN4bHAXf2Kr-2Uqi" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="oC8rZuU5nC" class="relative group/block"><p>Finally we can plot the data in the next cell. In the function below, <code>t</code> corresponds to the time slice, <code>gain</code> to the multiplication factor of the RGB image for visualisation, and we fetch the time step from the catalog API (the date corresponds to <code>t</code> + 1, since we skip the first timestep in the Evalscript)</p></div><div id="OjxGBRDLA5" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Plot the RGB image for a date with the raster
plot_fields_RGB(B04, B03, B02, deforest_raster, t = 0, gain=3, title=cloud_free_dates[1])</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="eHTJ3dt8dadTA8y_fa5TE" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Clipping input data to the valid range for imshow with RGB data ([0..1] for floats or [0..255] for integers).
</span></code></pre></div><img src="/build/b704895ea24c1fe0a9fdd68e5996afbd.png" alt="&lt;Figure size 2000x2000 with 1 Axes&gt;"/></div></div><div id="Fex041CO03" class="relative group/block"><h4 id="convert-results-to-polygons" class="relative group"><span class="heading-text">Convert results to polygons</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#convert-results-to-polygons" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>Now that we have saved the binary <code>deforestation</code> raster locally, we can use <code>rasterio</code> to convert the raster to polygons, in order to update the database that we queried at the start of this notebook.</p></div><div id="lsbZRxBMBc" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Open the deforestation band
deforestation_raw = []
deforestation_cleaned = []

with rasterio.open(fld_d.joinpath(&quot;deforestation_band.tif&quot;)) as dataset:
    # Loop over bands
    for bnd in range(dataset.count):
        dataset_band = dataset.read(bnd+1)
       
        # Clean the polygons with an erosion / dilation step
        clean_defor = erode_dilate(dataset_band, 3)
        
        # Calculate polygons from both cleaned and raw rasters
        raw_shapes = list(rasterio.features.shapes(dataset_band,
                                                   transform=dataset.transform))
        clean_shapes = list(rasterio.features.shapes(clean_defor,
                                                     transform=dataset.transform))

        raw_polygons = [shape(geom) for geom, value in raw_shapes if value == 1]
        clean_polygons = [shape(geom) for geom, value in clean_shapes if value == 1]

        # Make a multipolygon and conver to GeoSeries
        deforestation_raw.append(geopandas.GeoSeries(unary_union(raw_polygons)))
        deforestation_cleaned.append(geopandas.GeoSeries(unary_union(clean_polygons)))</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="as_GKRktgWMbuhXu2S6Kn" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="pG3QMu5v05" class="relative group/block"><p>Let’s compare the polyons from the first time step to see how the cleaning step performs.</p></div><div id="A7n0IxrlCA" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, ax = plt.subplots(nrows=1, ncols=1, figsize=(18,12))

raw = deforestation_raw[0].plot(ax=ax, color=&quot;red&quot;, label=&quot;Raw deforestation detection band&quot;)
clean = deforestation_cleaned[0].plot(ax=ax, color=&quot;black&quot;, label=&quot;Cleaned deforestation detection band&quot;)

# Plot configuration
ax.set_xlim(-60.20, -60.26)
ax.set_xticks([])
ax.set_yticks([])
plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="pT3A69ckDqvd9M8A4fcOZ" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/build/c3b8848855d7547f18185884a2840410.png" alt="&lt;Figure size 1800x1200 with 1 Axes&gt;"/></div></div><div id="NWQblQRnc0" class="relative group/block"><p>In the plot above, the raw deforestation polygons are plotted in red and the cleaned polygons in black. The erosion dilation step removes a lot of individual scattered pixels, but is a little too “agressive” in some of the plots. Nevertheless, most fields are correctly represented and noise is removed.</p></div><div id="bkd1mKSiTj" class="relative group/block"><h4 id="looping-the-loop-adding-the-polygons-back-into-a-dataframe" class="relative group"><span class="heading-text">“Looping the loop”: adding the polygons back into a dataframe</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#looping-the-loop-adding-the-polygons-back-into-a-dataframe" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>Now we have a set of polygons representing deforestation, we can add them into our existing dataset.</p></div><div id="wNmALTOHoG" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Create a geopandas with our polygons
rdf = geopandas.GeoDataFrame(pd.concat(deforestation_cleaned, ignore_index=True) )

# Add metadata
rdf[&quot;pais&quot;] = &quot;Paraguay&quot;
rdf[&quot;prov_dep&quot;] = &quot;Boquerón&quot;
rdf[&quot;date&quot;] = [x.split(&quot;T&quot;)[0] for x in cloud_free_dates[1:]]

# Rename the geometry column
rdf.rename(columns={0: &#x27;geometry&#x27;}, inplace=True)

# Show the created geopandas
rdf</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="66z5547iaK223m-AkgocN" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="izPj9aTc4Q" class="relative group/block"><p>Now we have a correctly formatted <code>geopandas</code> Dataframe, we can append it to the database that we queried at the start of this tutorial.</p></div><div id="jODX91z8lV" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">gran_chaco_updated = gran_chaco.append(rdf)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="pcX9opyuuY1KRE-fAMBYu" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="XTBa2ErUnT" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Let&#x27;s look at the updated dataframe
gran_chaco_updated</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="HPsfEIYDRR93qn5AWHzUn" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="lBkkdCCeLJ" class="relative group/block"><p>In this example we only filled out basic information, in the previous steps, you can calculate more of the parameters listed in the table. For now, let’s compare the polygons in the original dataset, with those in the updated dataset.</p></div><div id="F4vzjrehAE" class="relative group/block"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre class="block p-3 hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, (ax, ax2) = plt.subplots(nrows=1, ncols=2, figsize=(18,12))

# Plot  datasets
gran_chaco.plot(ax=ax)
gran_chaco_updated.plot(ax=ax2)

plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="BzKdxRcZGjTI8KYZfVAp0" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><img src="/build/bf8383c592374cadea215ca9c670d210.png" alt="&lt;Figure size 1800x1200 with 2 Axes&gt;"/></div></div><div id="ISZMJZAJhX" class="relative group/block"><p>We can see that we have detected more deforestation events in February and March 2018, a promising result. To share the dataset using geoDB, please refer to the free tutorial Jupyter Notebooks in the Marketplace.</p><p>As mentioned earlier, this basic approach is empirical and may not be robust for different areas/time of year. The goal was to get you started in creating your own scripts, and we hope to see new exciting algorithms in EDC...</p></div><div></div></main></article><script>((a,d)=>{if(!window.history.state||!window.history.state.key){let h=Math.random().toString(32).slice(2);window.history.replaceState({key:h},"")}try{let f=JSON.parse(sessionStorage.getItem(a)||"{}")[d||window.history.state.key];typeof f=="number"&&window.scrollTo(0,f)}catch(h){console.error(h),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/build/entry.client-UNPC4GT3.js"/><link rel="modulepreload" href="/build/_shared/chunk-OCTKKCIL.js"/><link rel="modulepreload" href="/build/_shared/chunk-UAI5KRM7.js"/><link rel="modulepreload" href="/build/_shared/chunk-2NH4LW52.js"/><link rel="modulepreload" href="/build/_shared/chunk-IZFMW3M4.js"/><link rel="modulepreload" href="/build/_shared/chunk-HBJK6BW3.js"/><link rel="modulepreload" href="/build/_shared/chunk-HYMQ7M2K.js"/><link rel="modulepreload" href="/build/_shared/chunk-OHOXABTA.js"/><link rel="modulepreload" href="/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/build/_shared/chunk-CPTH56EW.js"/><link rel="modulepreload" href="/build/_shared/chunk-3CVK3PYF.js"/><link rel="modulepreload" href="/build/_shared/chunk-J6FHCSRC.js"/><link rel="modulepreload" href="/build/_shared/chunk-S4SWV34C.js"/><link rel="modulepreload" href="/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/build/root-QGLRP2PL.js"/><link rel="modulepreload" href="/build/_shared/chunk-CB3BH7WY.js"/><link rel="modulepreload" href="/build/routes/$-7JYT5576.js"/><script>window.__remixContext = {"url":"/external-notebooks/eurodatacube/notebooks/notebooks/contributions/gran-chaco-phiweek","state":{"loaderData":{"root":{"config":{"version":1,"myst":"1.3.25","options":{"hide_toc":true,"hide_footer_links":true,"folders":true},"nav":[],"actions":[],"projects":[{"github":"https://github.com/eoxhub-workspaces/documentation/","id":"5aa0318b-5bc1-41e2-b1d4-053e8b61961b","exports":[],"bibliography":[],"title":"Location for eodashboard notebooks","index":"readme","pages":[{"title":"External Notebooks","level":1},{"title":"Eurodatacube","level":2},{"title":"Notebooks","level":3},{"slug":"external-notebooks.eurodatacube.notebooks.readme","title":"Jupyter notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Notebooks","level":4},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.readme","title":"Euro Data Cube Notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Contributions","level":5},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-ai4arctic-sea-ice","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-biomass-forest-observation-sys","title":"AIREO pilot dataset - Biomass (Forest Observation System)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-cap","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-spacenet7","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aot-covid19","title":"Aerosol Optical Thickness (AOT) Anomaly Detection Using Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.batch-zarr-output","title":"Generating Zarr data cubes with Sentinel Hub Batch API","description":"","date":"","thumbnail":"/build/68dffbf744fa42f4bf3d35e55684984e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.client-side-processing-using-mass-sh","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.cmems-data-download","title":"Cmems Data Download","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.detect-trucks-sentinel2","title":"Detect Trucks using Sentinel-2 data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.drought-monitoring","title":"Drought impact monitoring platform","description":"","date":"","thumbnail":"/build/ad5c19782b006f72352ae57794305840.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-africa-cube-africa-custom-contest","title":"Custom Script Contest – Urban Growth in Africa","description":"","date":"","thumbnail":"/build/e9275f3fe80a704e2f5aa1ec1220e48a.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-byoc-tutorial","title":"How to bring your own data to EDC: Using Sentinel Hub Python package","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-demo-phi-week-v2","title":"xcube-gen and xcube-geodb Hands-On Workshop Φ-Week 2020","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-geodb-4-eurocrops-demo","title":"Demonstration of Eurocrops data use in geoDB","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-notebook-lstm","title":"South Africa Crop Type Classification on Euro Data Cube (EDC)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-usecase-lpis-crop-type-classification","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.eurocrops-crop-classification-example","title":"Crop-classification using Sentinel-2 time-series","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.ghsl-urban-delineation","title":"\u003cb\u003eUrban delineation\u003cb\u003e","description":"","date":"","thumbnail":"/build/7bbf545a5eae1d9ebdb91ae42b261063.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.globalearthmonitor-example","title":"Pre-requisites","description":"","date":"","thumbnail":"/build/205c1ded6bd59771975a9fbd3753fd3b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.gpu-support-eoxhub","title":"GPU-Support on EOxHub","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.gran-chaco-phiweek","title":"ESA EO \\phi- week 2020","description":"","date":"","thumbnail":"/build/80cee7db6cdc7002ceedda5689f889fa.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.howtolulc-batch-updated-210621","title":"How To: Land-Use-Land-Cover Prediction for Slovenia - using the Batch Processing API","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.lpis-lulc-slo","title":"LPIS Use Case for Land Use / Land Cover Classification","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.lps2022-leverage-euro-data-cube-services","title":"Living Planet Symposium 2022 Training Session","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.no2-analysis-covid19-lockdowns","title":"Impact of Covid19 induced lockdown on NO2 levels","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.no2-so2-trend-veda-api-igarss-2023","title":"Using the NASA VEDA EOAPI","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.ogc-edc","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.openeo-client-demo","title":"openEO Client Demo","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.race-finishedgoodsinventory-inidcator","title":"Finished Goods Inventory indicator for RACE","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.third-party-planetscope","title":"Third Party Data Import - PlanetScope","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.xcube-access-datasets","title":"Using xcube to access non-commercial and commercial data sets","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.xcube-viewer-as-a-service-in-edc1","title":"Visualizing data with xcube viewer in EuroDataCube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-evaluation-workshop","title":"DAPA Evaluation Workshop: Introduction \u0026 Documentation","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-1-cube-sentinel-2","title":"DAPA Tutorial #1: Cube - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-2-area-sentinel-2","title":"DAPA Tutorial #2: Area - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-3-timeseries-sentinel-2","title":"DAPA Tutorial #3: Timeseries - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-4-value-sentinel-2","title":"DAPA Tutorial #4: Value - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-5-dem","title":"DAPA Tutorial #5: DEM","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.fairicube.fairicube-data-access-demonstration","title":"EDC Sentinel Hub - data access using xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-australian-bushfires","title":"Australian Bushfires","description":"","date":"","thumbnail":"/build/ab194b4f8c40a2b9d64d8a85e37ce1fd.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["IGARSS-22","EO Dashboard"],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-data-access","title":"Data Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-detect-trucks-sentinel2","title":"Truck Detection Exercise","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-lockdown-in-venice","title":"Environmental Impacts of Lockdown in Venice, Italy during 2020","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-nasa-api-lockdown-in-venice","title":"Lockdown in Venice","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-no2-timeseries-analysis","title":"NO2 timeseries analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-timeseries-stac-api-single-vs-multi","title":"Time series using STAC API statistics endpoints","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Curated","level":5},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.access-iacs-data","title":"How to access IACS Spatial Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-access-cci-data","title":"Access CCI data with xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-first-steps","title":"First steps on the Euro Data Cube platform","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-1-manage-datasets-v11","title":"Manage Collections in your GeoDB","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-2-explore-datasets-2","title":"Exploring Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-3-share-datasets1","title":"Sharing Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-access-urban-atlas-data-v1","title":"[xcube-geodb] How to accesss EEA Urban Atlas Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-data-access","title":"EDC Sentinel Hub - data access using xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinelhub-datafusion-basic","title":"EDC Sentinel Hub: Data Fusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinelhub-datafusion-ndvi","title":"EDC Sentinel Hub: Data Fusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-datasets","title":"EDC Sentinel Hub - using xcube to access different data sets in Sentinel Hub","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-setup","title":"Setup for EDC core API access using xcube client library","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-xcube-integration","title":"EDC Sentinel Hub - XCUBE integration","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-usecase-ndvi-timeline","title":"NDVI timeline","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.eo-learn","title":"Using eo-learn in EDC: a starter’s guide.","description":"","date":"","thumbnail":"/build/5a1f8475f0c3652f4630d03d72891b98.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.esdl-edc-v0-2","title":"Earth System Data Lab Tutorial @ Euro Data Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.exploring-time-and-space-with-edc","title":"Exploring Time and Space: A guide to accessing, analysing and visualising data in the Euro Data Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.how-to-access-dem-data-through-sentinel-hub-api","title":"How to access DEM data through Sentinel Hub API","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.sentinelhub-py","title":"Using Sentinel Hub Process API in EDC: a starter’s guide.","description":"","date":"","thumbnail":"/build/01e22903839391bc356ac886ec2b2fa7.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Notebooks","level":1},{"slug":"notebooks.example1","title":"📘 Example Notebook 1","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.example2","title":"📘 Example Notebook 2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static"},"routes/$":{"config":{"version":1,"myst":"1.3.25","options":{"hide_toc":true,"hide_footer_links":true,"folders":true},"nav":[],"actions":[],"projects":[{"github":"https://github.com/eoxhub-workspaces/documentation/","id":"5aa0318b-5bc1-41e2-b1d4-053e8b61961b","exports":[],"bibliography":[],"title":"Location for eodashboard notebooks","index":"readme","pages":[{"title":"External Notebooks","level":1},{"title":"Eurodatacube","level":2},{"title":"Notebooks","level":3},{"slug":"external-notebooks.eurodatacube.notebooks.readme","title":"Jupyter notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Notebooks","level":4},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.readme","title":"Euro Data Cube Notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Contributions","level":5},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-ai4arctic-sea-ice","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-biomass-forest-observation-sys","title":"AIREO pilot dataset - Biomass (Forest Observation System)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-cap","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-spacenet7","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aot-covid19","title":"Aerosol Optical Thickness (AOT) Anomaly Detection Using Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.batch-zarr-output","title":"Generating Zarr data cubes with Sentinel Hub Batch API","description":"","date":"","thumbnail":"/build/68dffbf744fa42f4bf3d35e55684984e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.client-side-processing-using-mass-sh","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.cmems-data-download","title":"Cmems Data Download","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.detect-trucks-sentinel2","title":"Detect Trucks using Sentinel-2 data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.drought-monitoring","title":"Drought impact monitoring platform","description":"","date":"","thumbnail":"/build/ad5c19782b006f72352ae57794305840.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-africa-cube-africa-custom-contest","title":"Custom Script Contest – Urban Growth in Africa","description":"","date":"","thumbnail":"/build/e9275f3fe80a704e2f5aa1ec1220e48a.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-byoc-tutorial","title":"How to bring your own data to EDC: Using Sentinel Hub Python package","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-demo-phi-week-v2","title":"xcube-gen and xcube-geodb Hands-On Workshop Φ-Week 2020","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-geodb-4-eurocrops-demo","title":"Demonstration of Eurocrops data use in geoDB","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-notebook-lstm","title":"South Africa Crop Type Classification on Euro Data Cube (EDC)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-usecase-lpis-crop-type-classification","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.eurocrops-crop-classification-example","title":"Crop-classification using Sentinel-2 time-series","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.ghsl-urban-delineation","title":"\u003cb\u003eUrban delineation\u003cb\u003e","description":"","date":"","thumbnail":"/build/7bbf545a5eae1d9ebdb91ae42b261063.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.globalearthmonitor-example","title":"Pre-requisites","description":"","date":"","thumbnail":"/build/205c1ded6bd59771975a9fbd3753fd3b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.gpu-support-eoxhub","title":"GPU-Support on EOxHub","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.gran-chaco-phiweek","title":"ESA EO \\phi- week 2020","description":"","date":"","thumbnail":"/build/80cee7db6cdc7002ceedda5689f889fa.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.howtolulc-batch-updated-210621","title":"How To: Land-Use-Land-Cover Prediction for Slovenia - using the Batch Processing API","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.lpis-lulc-slo","title":"LPIS Use Case for Land Use / Land Cover Classification","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.lps2022-leverage-euro-data-cube-services","title":"Living Planet Symposium 2022 Training Session","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.no2-analysis-covid19-lockdowns","title":"Impact of Covid19 induced lockdown on NO2 levels","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.no2-so2-trend-veda-api-igarss-2023","title":"Using the NASA VEDA EOAPI","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.ogc-edc","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.openeo-client-demo","title":"openEO Client Demo","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.race-finishedgoodsinventory-inidcator","title":"Finished Goods Inventory indicator for RACE","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.third-party-planetscope","title":"Third Party Data Import - PlanetScope","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.xcube-access-datasets","title":"Using xcube to access non-commercial and commercial data sets","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.xcube-viewer-as-a-service-in-edc1","title":"Visualizing data with xcube viewer in EuroDataCube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-evaluation-workshop","title":"DAPA Evaluation Workshop: Introduction \u0026 Documentation","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-1-cube-sentinel-2","title":"DAPA Tutorial #1: Cube - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-2-area-sentinel-2","title":"DAPA Tutorial #2: Area - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-3-timeseries-sentinel-2","title":"DAPA Tutorial #3: Timeseries - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-4-value-sentinel-2","title":"DAPA Tutorial #4: Value - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-5-dem","title":"DAPA Tutorial #5: DEM","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.fairicube.fairicube-data-access-demonstration","title":"EDC Sentinel Hub - data access using xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-australian-bushfires","title":"Australian Bushfires","description":"","date":"","thumbnail":"/build/ab194b4f8c40a2b9d64d8a85e37ce1fd.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["IGARSS-22","EO Dashboard"],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-data-access","title":"Data Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-detect-trucks-sentinel2","title":"Truck Detection Exercise","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-lockdown-in-venice","title":"Environmental Impacts of Lockdown in Venice, Italy during 2020","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-nasa-api-lockdown-in-venice","title":"Lockdown in Venice","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-no2-timeseries-analysis","title":"NO2 timeseries analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-timeseries-stac-api-single-vs-multi","title":"Time series using STAC API statistics endpoints","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Curated","level":5},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.access-iacs-data","title":"How to access IACS Spatial Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-access-cci-data","title":"Access CCI data with xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-first-steps","title":"First steps on the Euro Data Cube platform","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-1-manage-datasets-v11","title":"Manage Collections in your GeoDB","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-2-explore-datasets-2","title":"Exploring Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-3-share-datasets1","title":"Sharing Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-access-urban-atlas-data-v1","title":"[xcube-geodb] How to accesss EEA Urban Atlas Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-data-access","title":"EDC Sentinel Hub - data access using xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinelhub-datafusion-basic","title":"EDC Sentinel Hub: Data Fusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinelhub-datafusion-ndvi","title":"EDC Sentinel Hub: Data Fusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-datasets","title":"EDC Sentinel Hub - using xcube to access different data sets in Sentinel Hub","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-setup","title":"Setup for EDC core API access using xcube client library","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-xcube-integration","title":"EDC Sentinel Hub - XCUBE integration","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-usecase-ndvi-timeline","title":"NDVI timeline","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.eo-learn","title":"Using eo-learn in EDC: a starter’s guide.","description":"","date":"","thumbnail":"/build/5a1f8475f0c3652f4630d03d72891b98.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.esdl-edc-v0-2","title":"Earth System Data Lab Tutorial @ Euro Data Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.exploring-time-and-space-with-edc","title":"Exploring Time and Space: A guide to accessing, analysing and visualising data in the Euro Data Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.how-to-access-dem-data-through-sentinel-hub-api","title":"How to access DEM data through Sentinel Hub API","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.sentinelhub-py","title":"Using Sentinel Hub Process API in EDC: a starter’s guide.","description":"","date":"","thumbnail":"/build/01e22903839391bc356ac886ec2b2fa7.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Notebooks","level":1},{"slug":"notebooks.example1","title":"📘 Example Notebook 1","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.example2","title":"📘 Example Notebook 2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"page":{"version":1,"kind":"Notebook","sha256":"a79365eb0a94bfd2f5a3a91bce013c6f5ba6d45724050fe80d300c3753629296","slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.gran-chaco-phiweek","location":"/external_notebooks/eurodatacube/notebooks/notebooks/contributions/Gran_Chaco_phiweek.ipynb","dependencies":[],"frontmatter":{"title":"ESA EO \\phi- week 2020","content_includes_title":false,"kernelspec":{"name":"edc","display_name":"EDC 0.24.5 (Python3)","language":"python"},"github":"https://github.com/eoxhub-workspaces/documentation/","numbering":{"title":{"offset":5}},"edit_url":"https://github.com/eoxhub-workspaces/documentation//blob/main/external_notebooks/eurodatacube/notebooks/notebooks/contributions/Gran_Chaco_phiweek.ipynb","thumbnail":"/build/80cee7db6cdc7002ceedda5689f889fa.jpeg","exports":[{"format":"ipynb","filename":"Gran_Chaco_phiweek.ipynb","url":"/build/Gran_Chaco_phiweek-651815bfc861805361bf455ad1777028.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Side Event 2: Euro Data Cube - Hands-on Tutorial and Training Session","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xY35xss6PZ"}],"identifier":"side-event-2-euro-data-cube-hands-on-tutorial-and-training-session","label":"Side Event 2: Euro Data Cube - Hands-on Tutorial and Training Session","html_id":"side-event-2-euro-data-cube-hands-on-tutorial-and-training-session","implicit":true,"key":"Wi2DVOZ8yh"},{"type":"thematicBreak","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"kP8AfoBT8F"}],"key":"egpuHXLVWO"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In the previous part of the session, you have already gained experience in navigating around the Euro Data Cube interface and using ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DeqyYsFPYZ"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"GeoDB","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AsuStzR2Ig"}],"key":"vcgpGxisU5"},{"type":"text","value":". Now, we are going to show a use case example to demonstrate how you can combine some of what you have learnt with ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Y2AdP1IRS5"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Sentinel Hub Services","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"B56OKiEXA3"}],"key":"rzI516una4"},{"type":"text","value":"!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PLvVZcGrQX"}],"key":"DYV6Mbt3Yi"}],"key":"nD1lxEwdF5"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Use Case Example: Deforestation in the Gran Chaco Region","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kOM124Rw3y"}],"identifier":"use-case-example-deforestation-in-the-gran-chaco-region","label":"Use Case Example: Deforestation in the Gran Chaco Region","html_id":"use-case-example-deforestation-in-the-gran-chaco-region","implicit":true,"key":"pnqaPCky3n"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In this Jupyter Notebook we are going to investigate deforestation events happening in the Gran Chaco region that spans across parts of eastern Bolivia, western Paraguay, northern Argentina and a small part of the Brazilian state of Mato Grosso. The region has one of the highest rates of deforestation in the world, mainly linked to the expansion of cattle farming.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"eTabVphios"}],"key":"TU2Wr8mwg7"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"The following articles provide more context information on the subject: ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"vzvve7wplg"},{"type":"link","url":"https://earthobservatory.nasa.gov/images/146731/deforestation-in-argentinas-gran-chaco","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Deforestation in Argentina’s Gran Chaco\n","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ud7edVB5Dq"}],"urlSource":"https://earthobservatory.nasa.gov/images/146731/deforestation-in-argentinas-gran-chaco","key":"ARsRnNNDa8"},{"type":"text","value":", ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"IDcb3HwpvL"},{"type":"link","url":"https://earthobservatory.nasa.gov/images/92078/deforestation-in-paraguay","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Deforestation in Paraguay","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"e22fA2QLy6"}],"urlSource":"https://earthobservatory.nasa.gov/images/92078/deforestation-in-paraguay","key":"zNgf25sB9Q"},{"type":"text","value":", ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"dIm3KPu4Jk"},{"type":"link","url":"https://www.worldwildlife.org/places/gran-chaco","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"WWF: Gran Chaco","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"PIo8G9hI0Y"}],"urlSource":"https://www.worldwildlife.org/places/gran-chaco","key":"IZp1wrGYay"},{"type":"text","value":".","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"QRQPwwfPRe"}],"key":"YHsGEp6jLL"}],"key":"gp2AT8SfWH"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"image","url":"/build/80cee7db6cdc7002ceedda5689f889fa.jpeg","alt":"Deforestation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Lr4QWvK4Oe","urlSource":"https://api.time.com/wp-content/uploads/2021/04/Amazon-Deforestation.jpg?w=800\u0026quality=85"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Deforested areas in the rainforest, Brazil, on August 24, 2019. Carlos Fabal – AFP/Getty Images","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"DlGzcAX2P9"}],"key":"RH2yKm6fam"}],"key":"gdYRQowfj3"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"break","key":"hNjC22r2P5"},{"type":"paragraph","children":[{"type":"text","value":"Throughout the following examples we will see how to:","key":"Kryo50REOg"}],"key":"q0tlizKeAx"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"request satellite imagery using the Python wrapper to the Sentinel Hub API service","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"abkDAroA2P"}],"key":"jdTv73Mbzz"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"easily request metadata concerning images over a given area and time frame","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"nVqEWiRqpm"}],"key":"EQscqiBxr6"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"extract basic statistical information for a given area and time frame","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"va6gUX11PE"}],"key":"Xymgi8t4gn"}],"key":"FUsz0b8E2r"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"First, we will access the ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"RjeR8PCYtl"},{"type":"link","url":"http://www.globalforestwatch.org/about/","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Global Forest Watch","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"xR7s8qoCJl"}],"urlSource":"http://www.globalforestwatch.org/about/","key":"x5a6olja1t"},{"type":"text","value":" dataset (saved as a GeoDB in EDC) on deforestation in Gran Chaco. The original version can be downloaded ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"td7Z77EJoT"},{"type":"link","url":"https://data.globalforestwatch.org/datasets/gran-chaco-deforestation","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"here","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"KAyvplyKdU"}],"urlSource":"https://data.globalforestwatch.org/datasets/gran-chaco-deforestation","key":"Uckyv5mt90"},{"type":"text","value":". The dataset, that runs from 2011 to early 2018, represents deforested areas as polygons, derived manually using 30-meter resolution Landsat images for the 55 scenes that cover the Gran Chaco.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"TxBTldLDWo"}],"key":"VqNY800zJz"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"To check the temporal and spatial accuracy of the polygons, we will select a small test subset in Paraguay and compare the polygons representing deforestation events in January 2018 to higher resolution Sentinel-2 images. In this section, we will see how to query data using Sentinel Hub’s python package, and how to get metadata from the Catalog API to select the correct images without wasting resources/time.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"RhEINOM0vp"}],"key":"rwJhB0aiIF"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"We will then show you how to use the brand-new data fusion capabilities of Sentinel Hub services to mitigate the drawbacks of using optical sensors for deforestation detection.","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"GgzEsLyOPK"}],"key":"HjGVEvG5ks"},{"type":"paragraph","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Finally, we will investigate the time-series of Sentinel-2 images, deriving NDVI (Normalized Difference Vegetation Index) to see if the deforestation event can be automatically detected.","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"Ykn6ArsAiU"}],"key":"ktMuMwEVpS"}],"key":"IS4Bw5RZpF"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Load necessary libraries","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CdOhZ3cunm"}],"identifier":"load-necessary-libraries","label":"Load necessary libraries","html_id":"load-necessary-libraries","implicit":true,"key":"HcrCU08Idd"}],"key":"uT2bWW7PV4"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# EDC\nfrom edc import setup_environment_variables\nfrom xcube_geodb.core.geodb import GeoDBClient\n\n# Sentinel Hub Py\nfrom sentinelhub import (SHConfig, BBox, bbox_to_dimensions, CRS, SentinelHubRequest, DataCollection, MimeType, FisRequest)\nfrom sentinelhub.geometry import Geometry\n\n# Utilities\nfrom pathlib import Path\nfrom oauthlib.oauth2 import BackendApplicationClient\nfrom requests_oauthlib import OAuth2Session\nfrom datetime import datetime as dt\nimport pandas as pd\nimport numpy as np\nimport tarfile\n\n# Geographical libraries\nimport geopandas\nfrom pyproj import Proj, transform\nfrom shapely.geometry import shape, box\nfrom shapely.ops import unary_union\n\n# Plotting\nimport IPython\nimport matplotlib.pyplot as plt\nimport matplotlib.dates as mdates\nimport matplotlib.ticker as ticker\nimport matplotlib.gridspec as gridspec\nfrom matplotlib import colors\nimport matplotlib.patches as mpatches\nfrom mpl_toolkits.axes_grid1.inset_locator import inset_axes\n\n# Rasterio\nimport rasterio\nfrom rasterio.plot import show\nimport rasterio.features\nfrom scipy.ndimage import morphology","key":"wqUSPrFtP3"},{"type":"output","id":"k1387wCyrZyU8qkL_X7J1","data":[],"key":"Ye1kQ1ytzk"}],"key":"H8W6647VcG"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Setup environment variables","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FGjVuER0Co"}],"identifier":"setup-environment-variables","label":"Setup environment variables","html_id":"setup-environment-variables","implicit":true,"key":"rhApdMnS9Q"}],"key":"YSqWTu4fE9"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"There are several options to set up your Sentinel Hub credentials, depending on how you want to access the services. In this workflow, as we will be working with the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Ai553Mi75G"},{"type":"inlineCode","value":"sentinelhub-py","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dZlenx4H6b"},{"type":"text","value":" package to run requests in Python, we set up an ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"K0A1gtPVuD"},{"type":"inlineCode","value":"SHConfig","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Kt0yvCt2nW"},{"type":"text","value":" object that will take care of identification with the services for us. Therefore, we assign the identification parameters provided by EDC to the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hRPNe5wH44"},{"type":"inlineCode","value":"SHConfig","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"grYgjhOtg1"},{"type":"text","value":" object.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QUm6WClOBH"}],"key":"tZ7h34oLJT"}],"key":"CHEuvzsQg0"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Get identification parameters from EDC\nsetup_environment_variables()\n\n# Assign environement variables for later use\nsh_client_id = %env SH_CLIENT_ID\nsh_client_secret = %env SH_CLIENT_SECRET\nsh_instance_id = %env SH_INSTANCE_ID\n\n# Setup SH services access\nconfig = SHConfig()\n\nconfig.sh_client_id = sh_client_id\nconfig.sh_client_secret = sh_client_secret\nconfig.instance_id = sh_instance_id","key":"aOBpUha1bl"},{"type":"output","id":"k9mA0pc5E73hJ98dSaqzO","data":[{"output_type":"display_data","metadata":{},"data":{"text/markdown":{"content":"API credentials have automatically been injected for your active subscriptions.  \nThe following environment variables are now available:\n* `GEODB_API_SERVER_PORT`, `GEODB_API_SERVER_URL`, `GEODB_AUTH_AUD`, `GEODB_AUTH_CLIENT_ID`, `GEODB_AUTH_CLIENT_SECRET`, `GEODB_AUTH_DOMAIN`\n* `SH_CLIENT_ID`, `SH_CLIENT_NAME`, `SH_CLIENT_SECRET`, `SH_INSTANCE_ID`\n\nThe following additional environment variables have been loaded from `~/custom.env`:\n* `maxar_collection`\n* `planet_collection`\n* `pleiades_collection`\n* `s1grd_collection`\n* `spot_collection`\n","content_type":"text/markdown"},"text/plain":{"content":"\u003cIPython.core.display.Markdown object\u003e","content_type":"text/plain"}}}],"key":"VVNLpgJJwN"}],"key":"pO2ZVqaUlc"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Next, we set up access to the GeoDB, using ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Fc6PZUqyW2"},{"type":"inlineCode","value":"GeoDBClient","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bcber1MAfx"},{"type":"text","value":" as shown in the previous section of this training session.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kH5F0pYPRL"}],"key":"VZ3hxbkVS2"}],"key":"UciSnF2crR"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"geodb = GeoDBClient()","key":"CN7Q1Yqb5e"},{"type":"output","id":"xxT3lf9Uipr4XWalcKemm","data":[],"key":"YviE2Z3Z1H"}],"key":"g7ll8gHVnr"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wkVDTUN7uH"}],"key":"oQLedYnIPd"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Request a truecolor image as overview of the selected area","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hIVx0XUJeZ"}],"identifier":"request-a-truecolor-image-as-overview-of-the-selected-area","label":"Request a truecolor image as overview of the selected area","html_id":"request-a-truecolor-image-as-overview-of-the-selected-area","implicit":true,"key":"hdRevJsYfH"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Now that the credentials are set up, it is possible to request satellite images.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"PLeeJn724m"}],"key":"S4ahGcaCeu"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"We will start by plotting an overview True Color RBG image from Sentinel-2 of the area that we will be working on.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Zn13kKYZom"}],"key":"ewDx1YmZYZ"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"XVrO49CO3I"},{"type":"emphasis","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Sentinel Hub Process API","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"st1D7BB03y"}],"key":"gXaIzTV8D7"},{"type":"text","value":" will need the following information for a valid request:","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"U8dyLqfQTU"}],"key":"Pfh3o1038L"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":9,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"An ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"NjV0PCwfPK"},{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"AOI","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"ZWZkNwWFSX"}],"key":"r4uS8yX8kN"},{"type":"text","value":" (area of interest): that contains the location’s coordinates (polygon or bounding box). The image size is pre-calculated according to the resolution desired.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"gjrIGZWdnB"}],"key":"gm5nfntdUO"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Evalscript","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"sayNMHqZFZ"}],"key":"irkjJu5HqL"},{"type":"text","value":" in which you specify the data products and their visualisation","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"tY6t1iiB3t"}],"key":"pZjRnCNDII"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"strong","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Request body","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"ZLJb5WsKxp"}],"key":"BwLF6MfY5k"},{"type":"text","value":" with parameters about the location and time","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"Ej0dfGM58b"}],"key":"TVzA1fodqD"}],"key":"zC3dJfkL4o"}],"key":"HUhRrfH3sH"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Define coordinates for area of interest and create a bbox object","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Cimryh5rJM"}],"identifier":"define-coordinates-for-area-of-interest-and-create-a-bbox-object","label":"Define coordinates for area of interest and create a bbox object","html_id":"define-coordinates-for-area-of-interest-and-create-a-bbox-object","implicit":true,"key":"a9AQcIeTPN"}],"key":"sQRL83x8qB"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Select the coordinates (lower-left, upper right) of our AOI\naoi_bbox = [-60.28157336, -21.27560428, -60.12293070, -21.18495133]\n\n# Set AOI overview bbox\nresolution = 10\naoi_overview = BBox(bbox=aoi_bbox, crs=CRS.WGS84)  # Make a BBox object of the list of coordinates\naoi_overview_size = bbox_to_dimensions(aoi_overview, resolution=resolution)  # Automatically calculate the output size in px\n\nprint(f\"Output image size: {aoi_overview_size[0]} * {aoi_overview_size[1]} px\")","key":"L5Zco7wthX"},{"type":"output","id":"-0RnsTZloQ5AeDB-FKTNS","data":[{"name":"stdout","output_type":"stream","text":"Output image size: 1665 * 975 px\n"}],"key":"tZ1CiQslqu"}],"key":"A5gmrEHSf8"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Evalscript creation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HVjS5ab4qi"}],"identifier":"evalscript-creation","label":"Evalscript creation","html_id":"evalscript-creation","implicit":true,"key":"xDYDqxOYWL"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"An ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"it9TJSVM6v"},{"type":"link","url":"https://docs.sentinel-hub.com/api/latest/evalscript/v3/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Evalscript","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RerdyNqHMX"}],"urlSource":"https://docs.sentinel-hub.com/api/latest/evalscript/v3/","key":"qYyzUA3muG"},{"type":"text","value":" is a piece of Javascript code that allows you to define the input and output parameters of the data you would like to query, as well as specifying the processing to be applied to the satellite images.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"cjnvvQEhDM"}],"key":"VWDMMSKAzg"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"For the evalscript you must specify at least the two following functions:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"LuOZkRvPp5"}],"key":"DyWyy8OsnO"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"setup function: this sets up the input (i.e. which bands to call) and output settings (number of bands to return, format, etc...).","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"KRzFn9csQU"}],"key":"wuXV8bWuJt"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"evaluatePixel function - this function is where you specify the processing (to derive new information from the images, or for visualisation) to be applied to the images.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"XsWyQYWwJC"}],"key":"ncNNqxyYc7"}],"key":"yGzL1B7r3E"}],"key":"BtwaUe5kym"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In the following Evalscript, we want to return an RGB True Color image. In the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WT2fZRkbl7"},{"type":"inlineCode","value":"setup","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qutoctdaZ8"},{"type":"text","value":" function, we will specify that we want to use the Red (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Nj6suGqSKW"},{"type":"inlineCode","value":"B04","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TPrtgw3t6O"},{"type":"text","value":"), Green (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"h8LG2OmgAr"},{"type":"inlineCode","value":"B03","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Bpw1vH3bxS"},{"type":"text","value":") and Blue (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BNZfxpbMA4"},{"type":"inlineCode","value":"B02","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UPA12Ad8i1"},{"type":"text","value":") bands of Sentinel-2. Since we want a three-channel image (RGB), we specify that our output will have three bands. We use the convenient ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lyPPX6DJxt"},{"type":"inlineCode","value":"AUTO","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"v64K16WiVV"},{"type":"text","value":" sample type for the returned data, as we are just going to visualise it. With ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JO2mlgBVgW"},{"type":"inlineCode","value":"AUTO","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tHtXHx80u1"},{"type":"text","value":" values should range from 0-1, which will then automatically be stretched from the interval [0, 1] to [0, 255] and written into a UINT8 raster.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"syuPruUDOD"}],"key":"A6s09mMlXE"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Because the image would be too dark if we return directly the band values scaled from 0 to 255, we apply a gain (multiplying the values by 3.5). This is just for visualisation purposes.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ZULEiPU4HS"}],"key":"eg4o3eQ82s"}],"key":"oXwHdTYAzS"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"evalscript_true_color = \"\"\"\n//VERSION=3\n\n// Set up the input and output settings\n\nfunction setup() {\n  return {\n    input: [\"B02\", \"B03\", \"B04\"],  //define input bands\n    output: { bands: 3, sampleType: SampleType.AUTO}  //define amount of channels in output image (RGB = 3)\n  };\n}\n\n// Map the input bands to the values in the output raster\n\nfunction evaluatePixel(sample) {\n  let gain = 3.5;\n  return [gain * sample.B04, gain * sample.B03, gain * sample.B02];    //map bands 4, 3, 2 to RGB channels and multiply by 3.5 for enhanced truecolor visualisation\n}\n\"\"\"","key":"Jt28M0vTww"},{"type":"output","id":"5QvR26N5g9CpmaBLqkLfH","data":[],"key":"zXBJwjjEW9"}],"key":"f2iDHHqVKp"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Request body creation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RpD84Qhb9h"}],"identifier":"request-body-creation","label":"Request body creation","html_id":"request-body-creation","implicit":true,"key":"UoWj7NDO5j"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The run the Evalscript, we need to define the payload, or data parameters to send to Sentinel Hub Services. The Sentinel Hub python package simplifies the writing of the payload, by using the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"oDjIQn6lj7"},{"type":"inlineCode","value":"SentinelHubRequest","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"spF2XH6ICu"},{"type":"text","value":" class to pass the following input parameters:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"VoQxDFPfzR"}],"key":"MSPEPYWmCT"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"the created evalscript","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"FB4TsiyMqJ"}],"key":"Z5q3oQBSaN"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"input data (data source and time interval)","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"X9rhKgLcJD"}],"key":"AcljAUj6Qm"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"define the output (name and format)","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"WxJimZRWy7"}],"key":"aGDrr6PLd9"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"define bbox","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"zBveSeF4cf"}],"key":"eI0BRNfw4m"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"size of the requested image","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"m8V4yJsFsl"}],"key":"TWYpW4FZlN"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"identification with the SHConfig object","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"Lq9DZmdmmc"}],"key":"M8LQ0f8x7s"}],"key":"ZNCC14i3Lj"}],"key":"jT2xwKxpyw"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"request = SentinelHubRequest(evalscript=evalscript_true_color,\n                             input_data=[SentinelHubRequest.input_data(data_collection=DataCollection.SENTINEL2_L2A,\n                                                                       time_interval=(\"2017-12-31\",\n                                                                                      \"2017-12-31\"))],\n                            responses=[SentinelHubRequest.output_response('default', MimeType.TIFF)],\n                            bbox=aoi_overview,  \n                            size=aoi_overview_size,\n                            config=config)","key":"WeW9UX6XII"},{"type":"output","id":"JvkzxBsy_3kuKF-37VAuS","data":[],"key":"UgJOa504MD"}],"key":"NRElOHgoDM"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now that the request is created, we just need to run it using the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WJ05jhETXg"},{"type":"inlineCode","value":"get_data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XalmCs1B10"},{"type":"text","value":" method.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mMolN8FHcY"}],"key":"dlPh8v9UFY"}],"key":"pPj8E4xD8y"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"overview = request.get_data()","key":"LgI3FgLcvd"},{"type":"output","id":"4eeq73rHF883kx6vhnRYu","data":[],"key":"zSmJC3a8cT"}],"key":"WairfWgPuJ"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the requested image","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Q4Y6HtLmlg"}],"identifier":"plot-the-requested-image","label":"Plot the requested image","html_id":"plot-the-requested-image","implicit":true,"key":"utWXjePqzy"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"By using ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"CnBydoZgq4"},{"type":"inlineCode","value":"get_data","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"XeaBH5EOok"},{"type":"text","value":" without any additional parameters saved the results to the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"cGOB2c2ZF9"},{"type":"inlineCode","value":"overview","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"NwBOolmzxU"},{"type":"text","value":" variable. Let’s plot it to look at the returned data.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"qRjinqMlSD"}],"key":"RrlyLz2wZR"}],"key":"jW4BwmfpBJ"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(nrows=1, ncols=1, figsize=(15,10))\nax.imshow(overview[0])\n\n# Plot configuration\nax.set_xticks([])\nax.set_yticks([])\nax.set_title(\"2017-12-31\")\n\nplt.show()","key":"ewf6qVGDQo"},{"type":"output","id":"YqJuC-X1YUKub1rWaNJtm","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"624ff3ddb27f08391f6ebb848f696516","path":"/build/624ff3ddb27f08391f6ebb848f696516.png"},"text/plain":{"content":"\u003cFigure size 1500x1000 with 1 Axes\u003e","content_type":"text/plain"}}}],"key":"BLgTXmcDVc"}],"key":"ZfGoNmpKZE"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Quizz: can you figure out how to request a falsecolor infrared image?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"taWh8IZm9V"}],"identifier":"quizz-can-you-figure-out-how-to-request-a-falsecolor-infrared-image","label":"Quizz: can you figure out how to request a falsecolor infrared image?","html_id":"quizz-can-you-figure-out-how-to-request-a-falsecolor-infrared-image","implicit":true,"key":"cLDKUsHsjh"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Try to fill in the gaps in the evalscript below.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"QxCkXy9QSG"}],"key":"b33yIq2Pha"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Hint: To receive a falsecolor infrared image you need to map Sentinel-2 Band 8 (NIR) to the red channel, Band 4 (RED) to the green channel, and Band 3 (GREEN) to the blue channel","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"mMMVxhecSk"}],"key":"HzzrMMS6WE"},{"type":"text","value":".","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"GAckqmPzZM"}],"key":"BdGVJlIZoX"}],"key":"ZOnPybysAm"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"evalscript_false_color = \"\"\"\n//VERSION=3\n\nfunction setup() {\n  return {\n    input: [\"\", \"\", \"\"],\n    output: { bands: 3 }\n  };\n}\n\nfunction evaluatePixel(sample) {\n  let gain = 2.5;\n  return [ , , ];\n}\n\"\"\"","key":"FaupfHchIU"},{"type":"output","id":"rIqQJpG4pP5vAJ0wZtlFD","data":[],"key":"VWQ4FdOMS7"}],"key":"MyHJThJhdT"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Uncomment the following cell for the solution. Make sure to run the following cell twice, one time for fetching the solution and a second time for running the Evalscript.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZGxedXXCDW"}],"key":"ok0bXQ8Pmb"}],"key":"Y8qI9OdhL4"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# %load https://raw.githubusercontent.com/sentinel-hub/code-snippets/master/phiweek2020/Solution.py","key":"mTbuqVXCph"},{"type":"output","id":"q-qOIALOMDZ1mvJLJEH27","data":[],"key":"SBzZPVJ2Ie"}],"key":"b2YN0CG16f"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now that we have the Evalscript, let’s run the request:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QVwpO1YR3f"}],"key":"X1Tbi9dOVZ"}],"key":"qKVCPTSaOx"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"request = SentinelHubRequest(evalscript=evalscript_false_color,\n                             input_data=[SentinelHubRequest.input_data(data_collection=DataCollection.SENTINEL2_L2A,\n                                                                       time_interval=(\"2017-12-31\",\n                                                                                      \"2017-12-31\"))],\n                            responses=[SentinelHubRequest.output_response('default', MimeType.TIFF)],\n                            bbox=aoi_overview,  \n                            size=aoi_overview_size,\n                            config=config)\n\noverview_fc = request.get_data()","key":"cMurPB6yLv"},{"type":"output","id":"X47NjeptgaGygjRqQv1Ex","data":[],"key":"b4vYQIbraD"}],"key":"ee5bRZ3WX0"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the False Color image","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"e6oQo38sA5"}],"identifier":"plot-the-false-color-image","label":"Plot the False Color image","html_id":"plot-the-false-color-image","implicit":true,"key":"zhd8XuIMJL"}],"key":"H2zBShMHtj"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(nrows=1, ncols=1, figsize=(15,10))\nax.imshow(overview_fc[0])\n\n# Plot configuration\nax.set_xticks([])\nax.set_yticks([])\nax.set_title(\"2017-12-31\")\n\nplt.show()","key":"wTlDrHqxB3"},{"type":"output","id":"EiCtUAQCKoNhYc2NG7thJ","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"ad2542ac2be7795d1c9a00bd8aac2224","path":"/build/ad2542ac2be7795d1c9a00bd8aac2224.png"},"text/plain":{"content":"\u003cFigure size 1500x1000 with 1 Axes\u003e","content_type":"text/plain"}}}],"key":"KpLATfKFtT"}],"key":"Ka5BrPrkbL"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zmh4a3iSt9"}],"key":"qR0jVrrAAG"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Get the collection from GeoDB and data preparation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tsGi5NlXwg"}],"identifier":"get-the-collection-from-geodb-and-data-preparation","label":"Get the collection from GeoDB and data preparation","html_id":"get-the-collection-from-geodb-and-data-preparation","implicit":true,"key":"lYwjUPpone"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"In the next step we retrieve the prepared gran_chaco collection from GeoDB.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"W46XwpqqZB"}],"key":"LzdA5oRERV"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"As a reminder, you can explore the original dataset ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"wskj9pI1W8"},{"type":"link","url":"https://data.globalforestwatch.org/datasets/gran-chaco-deforestation/data?geometry=-60.601%2C-20.023%2C-59.293%2C-19.797","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"here","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"WDjeby1Hei"}],"urlSource":"https://data.globalforestwatch.org/datasets/gran-chaco-deforestation/data?geometry=-60.601%2C-20.023%2C-59.293%2C-19.797","key":"jD2rRyJ2PP"},{"type":"text","value":".","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"cRhfKkzPrE"}],"key":"VWI0rOUtTC"}],"key":"K7UtTIt5NW"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Check available collections in GeoDB","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YgMX6yc7ZN"}],"identifier":"check-available-collections-in-geodb","label":"Check available collections in GeoDB","html_id":"check-available-collections-in-geodb","implicit":true,"key":"Rf01HFjM1n"}],"key":"BEH5mlaeml"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Using the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dVQ1yTJ79R"},{"type":"inlineCode","value":"geodb","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zfwGmCtwwh"},{"type":"text","value":" client, let’s look at what collections are available.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Uvt1Vg5Jq1"}],"key":"Hz0eaeztY7"}],"key":"YyZz0i4be9"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Lets get already existing collections\ngeodb.get_my_collections()","key":"RJdIPEGzJs"},{"type":"output","id":"n8HWEOFfAps16mUiKPGx6","data":[{"output_type":"execute_result","execution_count":13,"metadata":{},"data":{"text/html":{"content":"\u003cdiv\u003e\n\u003cstyle scoped\u003e\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n\u003c/style\u003e\n\u003ctable border=\"1\" class=\"dataframe\"\u003e\n  \u003cthead\u003e\n    \u003ctr style=\"text-align: right;\"\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003eowner\u003c/th\u003e\n      \u003cth\u003edatabase\u003c/th\u003e\n      \u003cth\u003etable_name\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003cth\u003e0\u003c/th\u003e\n      \u003ctd\u003egeodb_0b01bfcd-2d09-46f8-84e8-cb5720fba14c\u003c/td\u003e\n      \u003ctd\u003egeodb_0b01bfcd-2d09-46f8-84e8-cb5720fba14c\u003c/td\u003e\n      \u003ctd\u003edelineated_parcels_s\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e1\u003c/th\u003e\n      \u003ctd\u003egeodb_0b01bfcd-2d09-46f8-84e8-cb5720fba14c\u003c/td\u003e\n      \u003ctd\u003egeodb_0b01bfcd-2d09-46f8-84e8-cb5720fba14c\u003c/td\u003e\n      \u003ctd\u003etest_batic\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e2\u003c/th\u003e\n      \u003ctd\u003egeodb_0b01bfcd-2d09-46f8-84e8-cb5720fba14c\u003c/td\u003e\n      \u003ctd\u003ephi_week\u003c/td\u003e\n      \u003ctd\u003ealster\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e3\u003c/th\u003e\n      \u003ctd\u003egeodb_0b01bfcd-2d09-46f8-84e8-cb5720fba14c\u003c/td\u003e\n      \u003ctd\u003ephi_week\u003c/td\u003e\n      \u003ctd\u003egran_chaco\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e4\u003c/th\u003e\n      \u003ctd\u003egeodb_0d6df427-8c09-41b9-abc9-64ce13a68125\u003c/td\u003e\n      \u003ctd\u003egeodb_0d6df427-8c09-41b9-abc9-64ce13a68125\u003c/td\u003e\n      \u003ctd\u003eland_use\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e...\u003c/th\u003e\n      \u003ctd\u003e...\u003c/td\u003e\n      \u003ctd\u003e...\u003c/td\u003e\n      \u003ctd\u003e...\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e865\u003c/th\u003e\n      \u003ctd\u003egeodb_lpis_iacs_admin\u003c/td\u003e\n      \u003ctd\u003eanja\u003c/td\u003e\n      \u003ctd\u003eN4a\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e866\u003c/th\u003e\n      \u003ctd\u003egeodb_lpis_iacs_admin\u003c/td\u003e\n      \u003ctd\u003eanja\u003c/td\u003e\n      \u003ctd\u003erace_indicators\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e867\u003c/th\u003e\n      \u003ctd\u003egeodb_lpis_iacs_admin\u003c/td\u003e\n      \u003ctd\u003elpis_iacs\u003c/td\u003e\n      \u003ctd\u003eland_use_slo\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e868\u003c/th\u003e\n      \u003ctd\u003egeodb_lpis_iacs_admin\u003c/td\u003e\n      \u003ctd\u003elpis_iacs\u003c/td\u003e\n      \u003ctd\u003elpis_aut\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e869\u003c/th\u003e\n      \u003ctd\u003egeodb_lpis_iacs_admin\u003c/td\u003e\n      \u003ctd\u003elpis_iacs\u003c/td\u003e\n      \u003ctd\u003elpis_slo\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003e870 rows × 3 columns\u003c/p\u003e\n\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"                                          owner  \\\n0    geodb_0b01bfcd-2d09-46f8-84e8-cb5720fba14c   \n1    geodb_0b01bfcd-2d09-46f8-84e8-cb5720fba14c   \n2    geodb_0b01bfcd-2d09-46f8-84e8-cb5720fba14c   \n3    geodb_0b01bfcd-2d09-46f8-84e8-cb5720fba14c   \n4    geodb_0d6df427-8c09-41b9-abc9-64ce13a68125   \n..                                          ...   \n865                       geodb_lpis_iacs_admin   \n866                       geodb_lpis_iacs_admin   \n867                       geodb_lpis_iacs_admin   \n868                       geodb_lpis_iacs_admin   \n869                       geodb_lpis_iacs_admin   \n\n                                       database            table_name  \n0    geodb_0b01bfcd-2d09-46f8-84e8-cb5720fba14c  delineated_parcels_s  \n1    geodb_0b01bfcd-2d09-46f8-84e8-cb5720fba14c            test_batic  \n2                                      phi_week                alster  \n3                                      phi_week            gran_chaco  \n4    geodb_0d6df427-8c09-41b9-abc9-64ce13a68125              land_use  \n..                                          ...                   ...  \n865                                        anja                   N4a  \n866                                        anja       race_indicators  \n867                                   lpis_iacs          land_use_slo  \n868                                   lpis_iacs              lpis_aut  \n869                                   lpis_iacs              lpis_slo  \n\n[870 rows x 3 columns]","content_type":"text/plain"}}}],"key":"gDBmwdleet"}],"key":"AIHJIMn9vi"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Query the collection by bbox to retrieve only the area we are interested in","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"N66ER09h3M"}],"identifier":"query-the-collection-by-bbox-to-retrieve-only-the-area-we-are-interested-in","label":"Query the collection by bbox to retrieve only the area we are interested in","html_id":"query-the-collection-by-bbox-to-retrieve-only-the-area-we-are-interested-in","implicit":true,"key":"c2B53kVil6"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We are interested in the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"pNZ86YxO4l"},{"type":"inlineCode","value":"gran_chaco","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"JOO9OuHQCw"},{"type":"text","value":" GeoDB collection. However, we will not query it entirely in this exercise since we are only interested in a specific AOI that we defined further up. Therefore, not needing the whole dataset, we only retrieve the polygons that are contained in our area of interest by querying the dataset with our defined bbox.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jZubDcwD9w"}],"key":"hYaY2lmxO6"}],"key":"SJTBSxBfXC"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"gran_chaco = geodb.get_collection_by_bbox('gran_chaco', database=\"phi_week\", bbox=aoi_bbox, bbox_crs=4326, comparison_mode=\"contains\")","key":"kEh181V65t"},{"type":"output","id":"k5W1IrKyMMVVFSuGT8MSK","data":[],"key":"PIQTCtqWQR"}],"key":"mnHgilIVA9"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s preview the collection subset that we have just queried.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PDW2EmGAne"}],"key":"FmOl4sVVIE"}],"key":"n6bxRIDZTz"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"gran_chaco","key":"afuWVG88jp"},{"type":"output","id":"BoDeu8R2lA9x5vYnl6pw-","data":[{"output_type":"execute_result","execution_count":15,"metadata":{},"data":{"text/html":{"content":"\u003cdiv\u003e\n\u003cstyle scoped\u003e\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n\u003c/style\u003e\n\u003ctable border=\"1\" class=\"dataframe\"\u003e\n  \u003cthead\u003e\n    \u003ctr style=\"text-align: right;\"\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003eid\u003c/th\u003e\n      \u003cth\u003ecreated_at\u003c/th\u003e\n      \u003cth\u003emodified_at\u003c/th\u003e\n      \u003cth\u003egeometry\u003c/th\u003e\n      \u003cth\u003eobjectid\u003c/th\u003e\n      \u003cth\u003efield_id\u003c/th\u003e\n      \u003cth\u003epais\u003c/th\u003e\n      \u003cth\u003eprov_dep\u003c/th\u003e\n      \u003cth\u003emunicipios\u003c/th\u003e\n      \u003cth\u003edate\u003c/th\u003e\n      \u003cth\u003eshape_leng\u003c/th\u003e\n      \u003cth\u003eshape_area\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003cth\u003e0\u003c/th\u003e\n      \u003ctd\u003e9333\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:39.568135+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.26329 -21.27054, -60.26325 -21.2...\u003c/td\u003e\n      \u003ctd\u003e7784\u003c/td\u003e\n      \u003ctd\u003e9333\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2011-12-31\u003c/td\u003e\n      \u003ctd\u003e3203.541559\u003c/td\u003e\n      \u003ctd\u003e5.661000e+05\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e1\u003c/th\u003e\n      \u003ctd\u003e9347\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:39.568135+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.26322 -21.23245, -60.26334 -21.2...\u003c/td\u003e\n      \u003ctd\u003e7798\u003c/td\u003e\n      \u003ctd\u003e9347\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2011-12-31\u003c/td\u003e\n      \u003ctd\u003e23061.565888\u003c/td\u003e\n      \u003ctd\u003e4.140725e+06\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e2\u003c/th\u003e\n      \u003ctd\u003e40758\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:44.48827+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.26381 -21.25916, -60.26376 -21.2...\u003c/td\u003e\n      \u003ctd\u003e32303\u003c/td\u003e\n      \u003ctd\u003e40758\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2014-10-31\u003c/td\u003e\n      \u003ctd\u003e247.465000\u003c/td\u003e\n      \u003ctd\u003e1.491147e+03\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e3\u003c/th\u003e\n      \u003ctd\u003e40763\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:44.48827+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.26370 -21.25423, -60.26392 -21.2...\u003c/td\u003e\n      \u003ctd\u003e32308\u003c/td\u003e\n      \u003ctd\u003e40763\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2014-10-31\u003c/td\u003e\n      \u003ctd\u003e156.980834\u003c/td\u003e\n      \u003ctd\u003e8.272126e+02\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e4\u003c/th\u003e\n      \u003ctd\u003e40768\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:44.48827+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.26354 -21.24383, -60.26380 -21.2...\u003c/td\u003e\n      \u003ctd\u003e32313\u003c/td\u003e\n      \u003ctd\u003e40768\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2014-10-31\u003c/td\u003e\n      \u003ctd\u003e244.941473\u003c/td\u003e\n      \u003ctd\u003e2.648666e+03\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e5\u003c/th\u003e\n      \u003ctd\u003e40770\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:44.48827+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.26355 -21.23751, -60.26350 -21.2...\u003c/td\u003e\n      \u003ctd\u003e32315\u003c/td\u003e\n      \u003ctd\u003e40770\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2014-10-31\u003c/td\u003e\n      \u003ctd\u003e258.094701\u003c/td\u003e\n      \u003ctd\u003e2.089448e+03\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e6\u003c/th\u003e\n      \u003ctd\u003e58546\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:45.943354+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.19709 -21.20089, -60.19801 -21.2...\u003c/td\u003e\n      \u003ctd\u003e42365\u003c/td\u003e\n      \u003ctd\u003e58546\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2015-10-31\u003c/td\u003e\n      \u003ctd\u003e35369.274281\u003c/td\u003e\n      \u003ctd\u003e5.651093e+06\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e7\u003c/th\u003e\n      \u003ctd\u003e58548\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:45.943354+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.17358 -21.19005, -60.17543 -21.1...\u003c/td\u003e\n      \u003ctd\u003e42365\u003c/td\u003e\n      \u003ctd\u003e58548\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2015-10-31\u003c/td\u003e\n      \u003ctd\u003e35369.274281\u003c/td\u003e\n      \u003ctd\u003e5.651093e+06\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e8\u003c/th\u003e\n      \u003ctd\u003e66517\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:47.16828+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.23363 -21.25623, -60.24235 -21.2...\u003c/td\u003e\n      \u003ctd\u003e42700\u003c/td\u003e\n      \u003ctd\u003e66517\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2016-06-30\u003c/td\u003e\n      \u003ctd\u003e63232.505444\u003c/td\u003e\n      \u003ctd\u003e1.189560e+07\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e9\u003c/th\u003e\n      \u003ctd\u003e66518\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:47.16828+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.23382 -21.26173, -60.25247 -21.2...\u003c/td\u003e\n      \u003ctd\u003e42700\u003c/td\u003e\n      \u003ctd\u003e66518\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2016-06-30\u003c/td\u003e\n      \u003ctd\u003e63232.505444\u003c/td\u003e\n      \u003ctd\u003e1.189560e+07\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e10\u003c/th\u003e\n      \u003ctd\u003e68177\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:47.16828+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.23342 -21.26788, -60.23342 -21.2...\u003c/td\u003e\n      \u003ctd\u003e42806\u003c/td\u003e\n      \u003ctd\u003e68177\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2016-08-31\u003c/td\u003e\n      \u003ctd\u003e54236.171652\u003c/td\u003e\n      \u003ctd\u003e1.099213e+07\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e11\u003c/th\u003e\n      \u003ctd\u003e68188\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:47.16828+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.23990 -21.26734, -60.25252 -21.2...\u003c/td\u003e\n      \u003ctd\u003e42806\u003c/td\u003e\n      \u003ctd\u003e68188\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2016-08-31\u003c/td\u003e\n      \u003ctd\u003e54236.171652\u003c/td\u003e\n      \u003ctd\u003e1.099213e+07\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e12\u003c/th\u003e\n      \u003ctd\u003e68189\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:47.16828+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.22272 -21.27312, -60.23180 -21.2...\u003c/td\u003e\n      \u003ctd\u003e42806\u003c/td\u003e\n      \u003ctd\u003e68189\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2016-08-31\u003c/td\u003e\n      \u003ctd\u003e54236.171652\u003c/td\u003e\n      \u003ctd\u003e1.099213e+07\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e13\u003c/th\u003e\n      \u003ctd\u003e69469\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:47.16828+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.23374 -21.26714, -60.23990 -21.2...\u003c/td\u003e\n      \u003ctd\u003e42911\u003c/td\u003e\n      \u003ctd\u003e69469\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2016-09-30\u003c/td\u003e\n      \u003ctd\u003e46417.194449\u003c/td\u003e\n      \u003ctd\u003e7.108902e+06\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e14\u003c/th\u003e\n      \u003ctd\u003e69474\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:47.16828+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.23157 -21.26809, -60.23164 -21.2...\u003c/td\u003e\n      \u003ctd\u003e42911\u003c/td\u003e\n      \u003ctd\u003e69474\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2016-09-30\u003c/td\u003e\n      \u003ctd\u003e46417.194449\u003c/td\u003e\n      \u003ctd\u003e7.108902e+06\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e15\u003c/th\u003e\n      \u003ctd\u003e70590\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:48.497587+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.23386 -21.25709, -60.23372 -21.2...\u003c/td\u003e\n      \u003ctd\u003e42965\u003c/td\u003e\n      \u003ctd\u003e70590\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2016-11-30\u003c/td\u003e\n      \u003ctd\u003e96005.066733\u003c/td\u003e\n      \u003ctd\u003e1.744413e+07\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e16\u003c/th\u003e\n      \u003ctd\u003e70591\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:48.497587+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.24358 -21.25610, -60.25239 -21.2...\u003c/td\u003e\n      \u003ctd\u003e42965\u003c/td\u003e\n      \u003ctd\u003e70591\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2016-11-30\u003c/td\u003e\n      \u003ctd\u003e96005.066733\u003c/td\u003e\n      \u003ctd\u003e1.744413e+07\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e17\u003c/th\u003e\n      \u003ctd\u003e75456\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:48.497587+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.21706 -21.27261, -60.22272 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43184\u003c/td\u003e\n      \u003ctd\u003e75456\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2017-03-31\u003c/td\u003e\n      \u003ctd\u003e284316.143820\u003c/td\u003e\n      \u003ctd\u003e4.828256e+07\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e18\u003c/th\u003e\n      \u003ctd\u003e86719\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.17380 -21.19416, -60.16402 -21.1...\u003c/td\u003e\n      \u003ctd\u003e43679\u003c/td\u003e\n      \u003ctd\u003e86719\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2017-12-31\u003c/td\u003e\n      \u003ctd\u003e174512.220879\u003c/td\u003e\n      \u003ctd\u003e3.070367e+07\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e19\u003c/th\u003e\n      \u003ctd\u003e86727\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.17478 -21.20611, -60.17436 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43679\u003c/td\u003e\n      \u003ctd\u003e86727\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2017-12-31\u003c/td\u003e\n      \u003ctd\u003e174512.220879\u003c/td\u003e\n      \u003ctd\u003e3.070367e+07\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e20\u003c/th\u003e\n      \u003ctd\u003e86731\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.18514 -21.19408, -60.18514 -21.1...\u003c/td\u003e\n      \u003ctd\u003e43679\u003c/td\u003e\n      \u003ctd\u003e86731\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2017-12-31\u003c/td\u003e\n      \u003ctd\u003e174512.220879\u003c/td\u003e\n      \u003ctd\u003e3.070367e+07\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e21\u003c/th\u003e\n      \u003ctd\u003e86738\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.16414 -21.20403, -60.16396 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43679\u003c/td\u003e\n      \u003ctd\u003e86738\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2017-12-31\u003c/td\u003e\n      \u003ctd\u003e174512.220879\u003c/td\u003e\n      \u003ctd\u003e3.070367e+07\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e22\u003c/th\u003e\n      \u003ctd\u003e86742\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.17995 -21.19400, -60.17474 -21.1...\u003c/td\u003e\n      \u003ctd\u003e43679\u003c/td\u003e\n      \u003ctd\u003e86742\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2017-12-31\u003c/td\u003e\n      \u003ctd\u003e174512.220879\u003c/td\u003e\n      \u003ctd\u003e3.070367e+07\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e23\u003c/th\u003e\n      \u003ctd\u003e86747\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.19185 -21.20799, -60.19147 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43679\u003c/td\u003e\n      \u003ctd\u003e86747\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2017-12-31\u003c/td\u003e\n      \u003ctd\u003e174512.220879\u003c/td\u003e\n      \u003ctd\u003e3.070367e+07\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e24\u003c/th\u003e\n      \u003ctd\u003e86749\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.19158 -21.20394, -60.19156 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43679\u003c/td\u003e\n      \u003ctd\u003e86749\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2017-12-31\u003c/td\u003e\n      \u003ctd\u003e174512.220879\u003c/td\u003e\n      \u003ctd\u003e3.070367e+07\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e25\u003c/th\u003e\n      \u003ctd\u003e88002\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.19158 -21.20394, -60.18492 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43800\u003c/td\u003e\n      \u003ctd\u003e88002\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.618180\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e26\u003c/th\u003e\n      \u003ctd\u003e88006\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.18432 -21.19408, -60.17995 -21.1...\u003c/td\u003e\n      \u003ctd\u003e43800\u003c/td\u003e\n      \u003ctd\u003e88006\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.618180\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e27\u003c/th\u003e\n      \u003ctd\u003e88018\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.17365 -21.20509, -60.17372 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43800\u003c/td\u003e\n      \u003ctd\u003e88018\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.618180\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e28\u003c/th\u003e\n      \u003ctd\u003e88019\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.16963 -21.21093, -60.16956 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43800\u003c/td\u003e\n      \u003ctd\u003e88019\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.618180\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e29\u003c/th\u003e\n      \u003ctd\u003e88022\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.19696 -21.20406, -60.19563 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43800\u003c/td\u003e\n      \u003ctd\u003e88022\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.618180\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e30\u003c/th\u003e\n      \u003ctd\u003e88024\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.18506 -21.20018, -60.18504 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43800\u003c/td\u003e\n      \u003ctd\u003e88024\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.618180\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e31\u003c/th\u003e\n      \u003ctd\u003e88025\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.19580 -21.21018, -60.19576 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43800\u003c/td\u003e\n      \u003ctd\u003e88025\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.618180\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e32\u003c/th\u003e\n      \u003ctd\u003e88028\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.17258 -21.19252, -60.17215 -21.1...\u003c/td\u003e\n      \u003ctd\u003e43800\u003c/td\u003e\n      \u003ctd\u003e88028\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.618180\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e33\u003c/th\u003e\n      \u003ctd\u003e88029\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.16966 -21.19277, -60.16953 -21.1...\u003c/td\u003e\n      \u003ctd\u003e43800\u003c/td\u003e\n      \u003ctd\u003e88029\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.618180\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e34\u003c/th\u003e\n      \u003ctd\u003e88030\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.19818 -21.20492, -60.19834 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43800\u003c/td\u003e\n      \u003ctd\u003e88030\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.618180\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e35\u003c/th\u003e\n      \u003ctd\u003e88032\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.17366 -21.20509, -60.17365 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43800\u003c/td\u003e\n      \u003ctd\u003e88032\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.618180\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"       id                        created_at modified_at  \\\n0    9333  2020-09-25T07:57:39.568135+00:00        None   \n1    9347  2020-09-25T07:57:39.568135+00:00        None   \n2   40758   2020-09-25T07:57:44.48827+00:00        None   \n3   40763   2020-09-25T07:57:44.48827+00:00        None   \n4   40768   2020-09-25T07:57:44.48827+00:00        None   \n5   40770   2020-09-25T07:57:44.48827+00:00        None   \n6   58546  2020-09-25T07:57:45.943354+00:00        None   \n7   58548  2020-09-25T07:57:45.943354+00:00        None   \n8   66517   2020-09-25T07:57:47.16828+00:00        None   \n9   66518   2020-09-25T07:57:47.16828+00:00        None   \n10  68177   2020-09-25T07:57:47.16828+00:00        None   \n11  68188   2020-09-25T07:57:47.16828+00:00        None   \n12  68189   2020-09-25T07:57:47.16828+00:00        None   \n13  69469   2020-09-25T07:57:47.16828+00:00        None   \n14  69474   2020-09-25T07:57:47.16828+00:00        None   \n15  70590  2020-09-25T07:57:48.497587+00:00        None   \n16  70591  2020-09-25T07:57:48.497587+00:00        None   \n17  75456  2020-09-25T07:57:48.497587+00:00        None   \n18  86719  2020-09-25T07:57:49.678146+00:00        None   \n19  86727  2020-09-25T07:57:49.678146+00:00        None   \n20  86731  2020-09-25T07:57:49.678146+00:00        None   \n21  86738  2020-09-25T07:57:49.678146+00:00        None   \n22  86742  2020-09-25T07:57:49.678146+00:00        None   \n23  86747  2020-09-25T07:57:49.678146+00:00        None   \n24  86749  2020-09-25T07:57:49.678146+00:00        None   \n25  88002  2020-09-25T07:57:49.678146+00:00        None   \n26  88006  2020-09-25T07:57:49.678146+00:00        None   \n27  88018  2020-09-25T07:57:49.678146+00:00        None   \n28  88019  2020-09-25T07:57:49.678146+00:00        None   \n29  88022  2020-09-25T07:57:49.678146+00:00        None   \n30  88024  2020-09-25T07:57:49.678146+00:00        None   \n31  88025  2020-09-25T07:57:49.678146+00:00        None   \n32  88028  2020-09-25T07:57:49.678146+00:00        None   \n33  88029  2020-09-25T07:57:49.678146+00:00        None   \n34  88030  2020-09-25T07:57:49.678146+00:00        None   \n35  88032  2020-09-25T07:57:49.678146+00:00        None   \n\n                                             geometry  objectid  field_id  \\\n0   POLYGON ((-60.26329 -21.27054, -60.26325 -21.2...      7784      9333   \n1   POLYGON ((-60.26322 -21.23245, -60.26334 -21.2...      7798      9347   \n2   POLYGON ((-60.26381 -21.25916, -60.26376 -21.2...     32303     40758   \n3   POLYGON ((-60.26370 -21.25423, -60.26392 -21.2...     32308     40763   \n4   POLYGON ((-60.26354 -21.24383, -60.26380 -21.2...     32313     40768   \n5   POLYGON ((-60.26355 -21.23751, -60.26350 -21.2...     32315     40770   \n6   POLYGON ((-60.19709 -21.20089, -60.19801 -21.2...     42365     58546   \n7   POLYGON ((-60.17358 -21.19005, -60.17543 -21.1...     42365     58548   \n8   POLYGON ((-60.23363 -21.25623, -60.24235 -21.2...     42700     66517   \n9   POLYGON ((-60.23382 -21.26173, -60.25247 -21.2...     42700     66518   \n10  POLYGON ((-60.23342 -21.26788, -60.23342 -21.2...     42806     68177   \n11  POLYGON ((-60.23990 -21.26734, -60.25252 -21.2...     42806     68188   \n12  POLYGON ((-60.22272 -21.27312, -60.23180 -21.2...     42806     68189   \n13  POLYGON ((-60.23374 -21.26714, -60.23990 -21.2...     42911     69469   \n14  POLYGON ((-60.23157 -21.26809, -60.23164 -21.2...     42911     69474   \n15  POLYGON ((-60.23386 -21.25709, -60.23372 -21.2...     42965     70590   \n16  POLYGON ((-60.24358 -21.25610, -60.25239 -21.2...     42965     70591   \n17  POLYGON ((-60.21706 -21.27261, -60.22272 -21.2...     43184     75456   \n18  POLYGON ((-60.17380 -21.19416, -60.16402 -21.1...     43679     86719   \n19  POLYGON ((-60.17478 -21.20611, -60.17436 -21.2...     43679     86727   \n20  POLYGON ((-60.18514 -21.19408, -60.18514 -21.1...     43679     86731   \n21  POLYGON ((-60.16414 -21.20403, -60.16396 -21.2...     43679     86738   \n22  POLYGON ((-60.17995 -21.19400, -60.17474 -21.1...     43679     86742   \n23  POLYGON ((-60.19185 -21.20799, -60.19147 -21.2...     43679     86747   \n24  POLYGON ((-60.19158 -21.20394, -60.19156 -21.2...     43679     86749   \n25  POLYGON ((-60.19158 -21.20394, -60.18492 -21.2...     43800     88002   \n26  POLYGON ((-60.18432 -21.19408, -60.17995 -21.1...     43800     88006   \n27  POLYGON ((-60.17365 -21.20509, -60.17372 -21.2...     43800     88018   \n28  POLYGON ((-60.16963 -21.21093, -60.16956 -21.2...     43800     88019   \n29  POLYGON ((-60.19696 -21.20406, -60.19563 -21.2...     43800     88022   \n30  POLYGON ((-60.18506 -21.20018, -60.18504 -21.2...     43800     88024   \n31  POLYGON ((-60.19580 -21.21018, -60.19576 -21.2...     43800     88025   \n32  POLYGON ((-60.17258 -21.19252, -60.17215 -21.1...     43800     88028   \n33  POLYGON ((-60.16966 -21.19277, -60.16953 -21.1...     43800     88029   \n34  POLYGON ((-60.19818 -21.20492, -60.19834 -21.2...     43800     88030   \n35  POLYGON ((-60.17366 -21.20509, -60.17365 -21.2...     43800     88032   \n\n        pais  prov_dep  municipios        date     shape_leng    shape_area  \n0   Paraguay  Boquerón  FILADELFIA  2011-12-31    3203.541559  5.661000e+05  \n1   Paraguay  Boquerón  FILADELFIA  2011-12-31   23061.565888  4.140725e+06  \n2   Paraguay  Boquerón  FILADELFIA  2014-10-31     247.465000  1.491147e+03  \n3   Paraguay  Boquerón  FILADELFIA  2014-10-31     156.980834  8.272126e+02  \n4   Paraguay  Boquerón  FILADELFIA  2014-10-31     244.941473  2.648666e+03  \n5   Paraguay  Boquerón  FILADELFIA  2014-10-31     258.094701  2.089448e+03  \n6   Paraguay  Boquerón  FILADELFIA  2015-10-31   35369.274281  5.651093e+06  \n7   Paraguay  Boquerón  FILADELFIA  2015-10-31   35369.274281  5.651093e+06  \n8   Paraguay  Boquerón  FILADELFIA  2016-06-30   63232.505444  1.189560e+07  \n9   Paraguay  Boquerón  FILADELFIA  2016-06-30   63232.505444  1.189560e+07  \n10  Paraguay  Boquerón  FILADELFIA  2016-08-31   54236.171652  1.099213e+07  \n11  Paraguay  Boquerón  FILADELFIA  2016-08-31   54236.171652  1.099213e+07  \n12  Paraguay  Boquerón  FILADELFIA  2016-08-31   54236.171652  1.099213e+07  \n13  Paraguay  Boquerón  FILADELFIA  2016-09-30   46417.194449  7.108902e+06  \n14  Paraguay  Boquerón  FILADELFIA  2016-09-30   46417.194449  7.108902e+06  \n15  Paraguay  Boquerón  FILADELFIA  2016-11-30   96005.066733  1.744413e+07  \n16  Paraguay  Boquerón  FILADELFIA  2016-11-30   96005.066733  1.744413e+07  \n17  Paraguay  Boquerón  FILADELFIA  2017-03-31  284316.143820  4.828256e+07  \n18  Paraguay  Boquerón  FILADELFIA  2017-12-31  174512.220879  3.070367e+07  \n19  Paraguay  Boquerón  FILADELFIA  2017-12-31  174512.220879  3.070367e+07  \n20  Paraguay  Boquerón  FILADELFIA  2017-12-31  174512.220879  3.070367e+07  \n21  Paraguay  Boquerón  FILADELFIA  2017-12-31  174512.220879  3.070367e+07  \n22  Paraguay  Boquerón  FILADELFIA  2017-12-31  174512.220879  3.070367e+07  \n23  Paraguay  Boquerón  FILADELFIA  2017-12-31  174512.220879  3.070367e+07  \n24  Paraguay  Boquerón  FILADELFIA  2017-12-31  174512.220879  3.070367e+07  \n25  Paraguay  Boquerón  FILADELFIA  2018-01-31   74575.618180  1.049673e+07  \n26  Paraguay  Boquerón  FILADELFIA  2018-01-31   74575.618180  1.049673e+07  \n27  Paraguay  Boquerón  FILADELFIA  2018-01-31   74575.618180  1.049673e+07  \n28  Paraguay  Boquerón  FILADELFIA  2018-01-31   74575.618180  1.049673e+07  \n29  Paraguay  Boquerón  FILADELFIA  2018-01-31   74575.618180  1.049673e+07  \n30  Paraguay  Boquerón  FILADELFIA  2018-01-31   74575.618180  1.049673e+07  \n31  Paraguay  Boquerón  FILADELFIA  2018-01-31   74575.618180  1.049673e+07  \n32  Paraguay  Boquerón  FILADELFIA  2018-01-31   74575.618180  1.049673e+07  \n33  Paraguay  Boquerón  FILADELFIA  2018-01-31   74575.618180  1.049673e+07  \n34  Paraguay  Boquerón  FILADELFIA  2018-01-31   74575.618180  1.049673e+07  \n35  Paraguay  Boquerón  FILADELFIA  2018-01-31   74575.618180  1.049673e+07  ","content_type":"text/plain"}}}],"key":"mcieRpIJkL"}],"key":"JUNUh8rkQz"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Data preparation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZvvOAuZdo5"}],"identifier":"data-preparation","label":"Data preparation","html_id":"data-preparation","implicit":true,"key":"FW6GxyGUJL"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"As we can see above, in the subset of the GeoDB that we queried, there are deforestation events detected in 2011, 2014, 2015, 2016, 2017 and 2018. Let’s narrow down the dataset a little further and only select the polygons in 2018.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ShFMKAhBRz"}],"key":"ant7DcDFme"}],"key":"OG8WEcSTWA"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In the following cell, we convert the date strings to ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MO03lwMgFV"},{"type":"inlineCode","value":"datetime","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"o7zLg0hDvq"},{"type":"text","value":" objects to make the querying easier.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iBJXmuEqLv"}],"key":"dAZxHhuQWk"}],"key":"zd5IMysKaI"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Convert the dates to datetime objects and store in a new column\ngran_chaco[\"datetime\"] = pd.to_datetime(gran_chaco[\"date\"])","key":"OeteN7hTVw"},{"type":"output","id":"1nHv6FCSDzjhk5w-Sim8r","data":[],"key":"FaDNXuBZfJ"}],"key":"k8QaIAWwFn"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Select only polygons from 2018\ngran_chaco_subset_2018 = gran_chaco[gran_chaco[\"datetime\"].dt.year == 2018]","key":"FTbkIBcfSZ"},{"type":"output","id":"iB_Uos8h_BmPYck7Jf9Uc","data":[],"key":"cJsQow0Cs9"}],"key":"bc1RGZ7NIE"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now, we can preview the subset that we have selected based on the year 2018.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OJdio4usJR"}],"key":"XZjsvBRZUE"}],"key":"DXO4vw11q9"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"gran_chaco_subset_2018","key":"nqXjc9D8OU"},{"type":"output","id":"4unUug-7k2-gfsWrDxqG8","data":[{"output_type":"execute_result","execution_count":18,"metadata":{},"data":{"text/html":{"content":"\u003cdiv\u003e\n\u003cstyle scoped\u003e\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n\u003c/style\u003e\n\u003ctable border=\"1\" class=\"dataframe\"\u003e\n  \u003cthead\u003e\n    \u003ctr style=\"text-align: right;\"\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003eid\u003c/th\u003e\n      \u003cth\u003ecreated_at\u003c/th\u003e\n      \u003cth\u003emodified_at\u003c/th\u003e\n      \u003cth\u003egeometry\u003c/th\u003e\n      \u003cth\u003eobjectid\u003c/th\u003e\n      \u003cth\u003efield_id\u003c/th\u003e\n      \u003cth\u003epais\u003c/th\u003e\n      \u003cth\u003eprov_dep\u003c/th\u003e\n      \u003cth\u003emunicipios\u003c/th\u003e\n      \u003cth\u003edate\u003c/th\u003e\n      \u003cth\u003eshape_leng\u003c/th\u003e\n      \u003cth\u003eshape_area\u003c/th\u003e\n      \u003cth\u003edatetime\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003cth\u003e25\u003c/th\u003e\n      \u003ctd\u003e88002\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.19158 -21.20394, -60.18492 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43800\u003c/td\u003e\n      \u003ctd\u003e88002\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.61818\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e26\u003c/th\u003e\n      \u003ctd\u003e88006\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.18432 -21.19408, -60.17995 -21.1...\u003c/td\u003e\n      \u003ctd\u003e43800\u003c/td\u003e\n      \u003ctd\u003e88006\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.61818\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e27\u003c/th\u003e\n      \u003ctd\u003e88018\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.17365 -21.20509, -60.17372 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43800\u003c/td\u003e\n      \u003ctd\u003e88018\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.61818\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e28\u003c/th\u003e\n      \u003ctd\u003e88019\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.16963 -21.21093, -60.16956 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43800\u003c/td\u003e\n      \u003ctd\u003e88019\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.61818\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e29\u003c/th\u003e\n      \u003ctd\u003e88022\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.19696 -21.20406, -60.19563 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43800\u003c/td\u003e\n      \u003ctd\u003e88022\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.61818\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e30\u003c/th\u003e\n      \u003ctd\u003e88024\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.18506 -21.20018, -60.18504 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43800\u003c/td\u003e\n      \u003ctd\u003e88024\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.61818\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e31\u003c/th\u003e\n      \u003ctd\u003e88025\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.19580 -21.21018, -60.19576 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43800\u003c/td\u003e\n      \u003ctd\u003e88025\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.61818\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e32\u003c/th\u003e\n      \u003ctd\u003e88028\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.17258 -21.19252, -60.17215 -21.1...\u003c/td\u003e\n      \u003ctd\u003e43800\u003c/td\u003e\n      \u003ctd\u003e88028\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.61818\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e33\u003c/th\u003e\n      \u003ctd\u003e88029\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.16966 -21.19277, -60.16953 -21.1...\u003c/td\u003e\n      \u003ctd\u003e43800\u003c/td\u003e\n      \u003ctd\u003e88029\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.61818\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e34\u003c/th\u003e\n      \u003ctd\u003e88030\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.19818 -21.20492, -60.19834 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43800\u003c/td\u003e\n      \u003ctd\u003e88030\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.61818\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e35\u003c/th\u003e\n      \u003ctd\u003e88032\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.17366 -21.20509, -60.17365 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43800\u003c/td\u003e\n      \u003ctd\u003e88032\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.61818\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"       id                        created_at modified_at  \\\n25  88002  2020-09-25T07:57:49.678146+00:00        None   \n26  88006  2020-09-25T07:57:49.678146+00:00        None   \n27  88018  2020-09-25T07:57:49.678146+00:00        None   \n28  88019  2020-09-25T07:57:49.678146+00:00        None   \n29  88022  2020-09-25T07:57:49.678146+00:00        None   \n30  88024  2020-09-25T07:57:49.678146+00:00        None   \n31  88025  2020-09-25T07:57:49.678146+00:00        None   \n32  88028  2020-09-25T07:57:49.678146+00:00        None   \n33  88029  2020-09-25T07:57:49.678146+00:00        None   \n34  88030  2020-09-25T07:57:49.678146+00:00        None   \n35  88032  2020-09-25T07:57:49.678146+00:00        None   \n\n                                             geometry  objectid  field_id  \\\n25  POLYGON ((-60.19158 -21.20394, -60.18492 -21.2...     43800     88002   \n26  POLYGON ((-60.18432 -21.19408, -60.17995 -21.1...     43800     88006   \n27  POLYGON ((-60.17365 -21.20509, -60.17372 -21.2...     43800     88018   \n28  POLYGON ((-60.16963 -21.21093, -60.16956 -21.2...     43800     88019   \n29  POLYGON ((-60.19696 -21.20406, -60.19563 -21.2...     43800     88022   \n30  POLYGON ((-60.18506 -21.20018, -60.18504 -21.2...     43800     88024   \n31  POLYGON ((-60.19580 -21.21018, -60.19576 -21.2...     43800     88025   \n32  POLYGON ((-60.17258 -21.19252, -60.17215 -21.1...     43800     88028   \n33  POLYGON ((-60.16966 -21.19277, -60.16953 -21.1...     43800     88029   \n34  POLYGON ((-60.19818 -21.20492, -60.19834 -21.2...     43800     88030   \n35  POLYGON ((-60.17366 -21.20509, -60.17365 -21.2...     43800     88032   \n\n        pais  prov_dep  municipios        date   shape_leng    shape_area  \\\n25  Paraguay  Boquerón  FILADELFIA  2018-01-31  74575.61818  1.049673e+07   \n26  Paraguay  Boquerón  FILADELFIA  2018-01-31  74575.61818  1.049673e+07   \n27  Paraguay  Boquerón  FILADELFIA  2018-01-31  74575.61818  1.049673e+07   \n28  Paraguay  Boquerón  FILADELFIA  2018-01-31  74575.61818  1.049673e+07   \n29  Paraguay  Boquerón  FILADELFIA  2018-01-31  74575.61818  1.049673e+07   \n30  Paraguay  Boquerón  FILADELFIA  2018-01-31  74575.61818  1.049673e+07   \n31  Paraguay  Boquerón  FILADELFIA  2018-01-31  74575.61818  1.049673e+07   \n32  Paraguay  Boquerón  FILADELFIA  2018-01-31  74575.61818  1.049673e+07   \n33  Paraguay  Boquerón  FILADELFIA  2018-01-31  74575.61818  1.049673e+07   \n34  Paraguay  Boquerón  FILADELFIA  2018-01-31  74575.61818  1.049673e+07   \n35  Paraguay  Boquerón  FILADELFIA  2018-01-31  74575.61818  1.049673e+07   \n\n     datetime  \n25 2018-01-31  \n26 2018-01-31  \n27 2018-01-31  \n28 2018-01-31  \n29 2018-01-31  \n30 2018-01-31  \n31 2018-01-31  \n32 2018-01-31  \n33 2018-01-31  \n34 2018-01-31  \n35 2018-01-31  ","content_type":"text/plain"}}}],"key":"HkqyYLgZIQ"}],"key":"kwqrSEzmV4"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Plot all selected polygons\nIPython.display.GeoJSON(gran_chaco_subset_2018.__geo_interface__)","key":"IZZ8oBSaqI"},{"type":"output","id":"zvrporir2Kxq72hYuxNdO","data":[{"output_type":"display_data","metadata":{"application/geo+json":{"expanded":false,"root":"root"}},"data":{"application/geo+json":{"content_type":"application/geo+json","hash":"dccf28692db1f785b2d7987c4d2c913f","path":"/build/dccf28692db1f785b2d7987c4d2c913f.json"},"text/plain":{"content":"\u003cIPython.display.GeoJSON object\u003e","content_type":"text/plain"}}}],"key":"orIqVtHH5b"}],"key":"u4dwPiKvr5"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Fun fact: thanks to Ipython, it is easy to zoom out to have an idea of the location of the polygons. Furthermore, you can click on an individual polygon to list the attributes of that specific shape in the dataframe.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wJTLTLGiAk"}],"key":"JTrSQEirfZ"}],"key":"kWjWEyUfzY"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ivJEzRk8VT"}],"key":"betoI5Zfpp"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Query Catalog API for dates with  available Sentinel-2 data before and after the registered deforestation event","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kpBQEIcPtA"}],"identifier":"query-catalog-api-for-dates-with-available-sentinel-2-data-before-and-after-the-registered-deforestation-event","label":"Query Catalog API for dates with  available Sentinel-2 data before and after the registered deforestation event","html_id":"query-catalog-api-for-dates-with-available-sentinel-2-data-before-and-after-the-registered-deforestation-event","implicit":true,"key":"YLVOyvJBON"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"For our selected AOI, we will check if the registered deforestation date in the dataset that we are querying is correct. To do so, we will look at the closest cloud-free Sentinel images before and after the date assigned to the polygon (here, ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"uX5ZVTp9Uh"},{"type":"inlineCode","value":"2018-01-31","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Pyw7isLNez"},{"type":"text","value":").","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"FqotFj1oYw"}],"key":"ur4m6sADuu"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Rather than query all the Sentinel-2 images in a given period around the date of interest, which would be a waste of resources particularly in cloudy areas, we can use the Catalog API service to list metadata about the images that will guide our choice in the selection. The Catalog service allows us to return the dates of images intersecting the AOI, but other essential parameters, such as the scene’s overall cloud cover.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"IuVkw5H7a2"}],"key":"BuhqXvgnvI"}],"key":"cbRgzkijyU"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Create an OAuth2 session and create a token for it","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"n9SSDAZPbO"}],"identifier":"create-an-oauth2-session-and-create-a-token-for-it","label":"Create an OAuth2 session and create a token for it","html_id":"create-an-oauth2-session-and-create-a-token-for-it","implicit":true,"key":"I8q8dUT3sc"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"In order to send a request to the Catalog API we need to create a token first. Let’s start by creating an OAuth session.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"yzyYWrWkdA"}],"key":"KbkmAJItH5"}],"key":"sw6t9uHO8j"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create a session\nclient = BackendApplicationClient(client_id=sh_client_id)\noauth = OAuth2Session(client=client)","key":"U6xtfAdZyg"},{"type":"output","id":"PBAGeXNff9tVgVMZpac55","data":[],"key":"xfntpO0vMN"}],"key":"gcZS7DmzB1"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The token acts like an ID we provide the API with to verify us as a registered user. This token is temporary (about 1h) for security reasons. If when running a Catalog request an authentification error is thrown, just execute the following cell again to obtain a new token.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"m4rspwRwW9"}],"key":"pTbQ8MOx6F"}],"key":"viulEofmfv"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Get token for the session\ntoken = oauth.fetch_token(token_url='https://services.sentinel-hub.com/oauth/token',\n                          client_id=sh_client_id, client_secret=sh_client_secret)","key":"ZrwkIh69Uw"},{"type":"output","id":"MAHsNwUnVTWn4a5fgdsbs","data":[],"key":"jRiocteyTb"}],"key":"u59y95xch3"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Create the Catalog API request","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xhXsKREejE"}],"identifier":"create-the-catalog-api-request","label":"Create the Catalog API request","html_id":"create-the-catalog-api-request","implicit":true,"key":"YXa4Teixqa"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We specify the service endpoint URL, set the Content-Type to ‘application/json’ because we only want to receive a list of dates with available Sentinel-2 data within the selected period. We also set the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"q0hWRuNFtn"},{"type":"inlineCode","value":"collection","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"yMhUs5nlVx"},{"type":"text","value":" that we want to query (here Sentinel-2 L1C), and the time range we are interested in.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"TVcCbaS6J7"}],"key":"xAk6uP7GlK"}],"key":"SnjdY8PFIS"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Set the Catalog API url\ncatalog_url = \"https://services.sentinel-hub.com/api/v1/catalog/\"\n\n# Set the header\nheaders = {\n  'Content-Type': 'application/json'\n}\n\n# Set the Catalog request parameters\ncollections = \"sentinel-2-l1c\"\ndatetime= \"2017-10-01T00:00:00Z/2018-02-15T23:59:59Z\"  # We set a wide time range to get an idea of the available data","key":"nXQI34xPJH"},{"type":"output","id":"PMNh05cFucW83U9SWshwi","data":[],"key":"X7HEdoBZhL"}],"key":"bvZzgGECMc"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Run the catalog request\nresponse = oauth.request(\"GET\", f\"https://services.sentinel-hub.com/api/v1/catalog/collections/{collections}/items?bbox={aoi_bbox[0]},{aoi_bbox[1]},{aoi_bbox[2]},{aoi_bbox[3]}\u0026datetime={datetime}\u0026limit=20\", headers=headers)\ncatalog_results = response.json()","key":"t48jJ1YyCq"},{"type":"output","id":"8M6EcDW3qRn_gM-VSuKQx","data":[],"key":"uGey7joHjT"}],"key":"BbeGP62QnT"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Fetch the dates and cloud cover values\navailable_data = []\nfor entry in catalog_results[\"features\"]:\n    available_data.append((entry[\"properties\"][\"datetime\"], entry[\"properties\"][\"eo:cloud_cover\"]))\n    \nprint(available_data)","key":"bmbAYtn64E"},{"type":"output","id":"asU8VqTHg-q_47C-gxvBq","data":[{"name":"stdout","output_type":"stream","text":"[('2018-02-14T14:10:42Z', 0.0), ('2018-02-09T14:10:39Z', 1.74), ('2018-02-04T14:10:42Z', 0.34), ('2018-01-30T14:10:39Z', 20.4), ('2018-01-20T14:14:24Z', 47.4), ('2018-01-15T14:10:50Z', 77.53), ('2018-01-10T14:10:37Z', 48.09), ('2017-12-31T14:13:44Z', 5.99), ('2017-12-26T14:10:40Z', 59.38), ('2017-12-21T14:10:33Z', 81.81), ('2017-12-11T14:10:34Z', 1.43), ('2017-12-06T14:10:41Z', 69.5), ('2017-12-01T14:12:55Z', 25.88), ('2017-11-21T14:14:18Z', 0.08), ('2017-11-16T14:10:43Z', 57.75), ('2017-11-11T14:10:32Z', 17.35), ('2017-10-27T14:11:07Z', 47.9), ('2017-10-22T14:10:32Z', 100.0), ('2017-10-07T14:10:44Z', 12.11), ('2017-10-02T14:11:57Z', 57.92)]\n"}],"key":"lPC2HIjqL6"}],"key":"bbxDH935aH"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"i2O3gQFz6H"}],"key":"g542irlVKO"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Filter the available dates","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"orE0119psA"}],"identifier":"filter-the-available-dates","label":"Filter the available dates","html_id":"filter-the-available-dates","implicit":true,"key":"P3tpc3bHSZ"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We now have a list of images and their respective cloud cover available, we can filter out for the closest dates to the deforestation event marked in our database, taking in account the cloud cover.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MKgjqGPkCe"}],"key":"IzYMu5N8Ez"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Let’s select the images with less than 10% cloud cover over the entire scene.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"gpdMyh9BU6"}],"key":"dZpFMbiohX"}],"key":"PK3LFmQs1X"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Set the date of interest. Since all the dates are the same in our subset, we take the first one.\ndeforestation_date = dt.strptime(gran_chaco_subset_2018.date.values[0], \"%Y-%m-%d\")\n\n# Cloud cover percentage filter\ncc = 10\n\n# We want to select the dates that have less than the set % of cloud cover\navailable_datetimes = [dt.strptime(x[0], \"%Y-%m-%dT%H:%M:%SZ\") for x in available_data if x[1] \u003c= cc]\n\n# Find the index before and after our date of interest\npast_dates = [date for date in available_datetimes if date \u003c deforestation_date]\nfuture_dates = [date for date in available_datetimes if date \u003e= deforestation_date]\n\nbefore_ind = available_datetimes.index(max(past_dates))\nafter_ind = available_datetimes.index(min(future_dates))","key":"uHFrimoN3f"},{"type":"output","id":"qKu0_-7vj3Cx3b9j7-br-","data":[],"key":"OyeYX8FGeC"}],"key":"qcgNnJ00WR"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"print(f\"Closest date with less than {cc}% cloud cover. Before: {available_datetimes[before_ind]}; After: {available_datetimes[after_ind]}\")","key":"tHwCcWKgI0"},{"type":"output","id":"FNTM3A_C9xaREyy7nxGtk","data":[{"name":"stdout","output_type":"stream","text":"Closest date with less than 10% cloud cover. Before: 2017-12-31 14:13:44; After: 2018-02-04 14:10:42\n"}],"key":"tYAlZHqs8U"}],"key":"rkfK4Vp0R3"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mSHfhYGVoq"}],"key":"AGVKzqdgmk"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Query Sentinel-2 images","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"us2vHrkHlU"}],"identifier":"query-sentinel-2-images","label":"Query Sentinel-2 images","html_id":"query-sentinel-2-images","implicit":true,"key":"WrBXH0bwyK"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Now we have the dates that we are interested in, we will query the images using ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yi2YtOAc16"},{"type":"inlineCode","value":"sentinelhub-py","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"iZAHLQTa7R"},{"type":"text","value":", as we did for the True Color and False Color RGB images.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yLWwRigzbx"}],"key":"QrQq9vacon"}],"key":"AKlS89ZwZo"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"First we set the bounding box to cover our selected field based on the geometry of the object in the database. We will set a buffer to make sure that we cover the entire set of polygons. Note that the buffer values are in degrees since the coordinates are in ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XFO5gEmknq"},{"type":"inlineCode","value":"WGS84","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"esbS1IHzzA"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PfcTxD50B1"}],"key":"meeoc7ns8F"}],"key":"KfiC4OSXMU"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Set AOI bounding box for our example polygons and image size according to desired resolution\nresolution = 10\naoi = BBox(bbox=box(*gran_chaco_subset_2018.total_bounds).buffer(0.001).bounds, crs=CRS.WGS84)\naoi_size = bbox_to_dimensions(aoi, resolution=resolution)","key":"nUvpJDrRst"},{"type":"output","id":"upH3PbFx-QLvhL-ceB38S","data":[],"key":"Qq0S9EKDzm"}],"key":"RhsfzI4LUN"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In our request, we will do things a little differently from the previous requests. Indeed, to be able to plot the extent of the fields in our image, we need it to be georeferenced. Therefore, using the numpy array returned when calling the request is not sufficient. To get a georeferenced image, we will save the response as a ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"v3fFksEY8i"},{"type":"inlineCode","value":"geotiff","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eadj7dOuEl"},{"type":"text","value":" locally, then open it with a geospatial library later (here we will use ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"w7wWf2C01E"},{"type":"inlineCode","value":"rasterio","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kZHrQT4gDG"},{"type":"text","value":").","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uw02WvwRWK"}],"key":"jvnRqXNoIq"}],"key":"ZCfn5ehMI0"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We will make two requests: one for the date before the event, that we selected earlier, and one after. Before each request, we make a directory to save the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ynsRNMQrzi"},{"type":"inlineCode","value":"geotiff","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"e1zYg5dNR3"},{"type":"text","value":"s and set the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"x3qoggp7pO"},{"type":"inlineCode","value":"save_data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zA5aXp7sUi"},{"type":"text","value":" parameter to ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ozzxWFFSDk"},{"type":"inlineCode","value":"True","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ifRejyM4OK"},{"type":"text","value":" in the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uRBGshGcRi"},{"type":"inlineCode","value":"get_data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wFm1ZKueCx"},{"type":"text","value":" method. Note, make sure that you delete any previous requests in the folders (if they exist).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qV9WoO5cAy"}],"key":"qwHeq18bVD"}],"key":"r8ilJAUA0P"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Make a directory to save the response\nPath('./results/before').mkdir(parents=True, exist_ok=True)\n  \nrequest = SentinelHubRequest(evalscript=evalscript_true_color,\n                             input_data=[SentinelHubRequest.input_data(data_collection=DataCollection.SENTINEL2_L2A,\n                                                                       time_interval=(dt.strftime(available_datetimes[before_ind], \"%Y-%m-%d\"),\n                                                                                      dt.strftime(available_datetimes[before_ind], \"%Y-%m-%d\")))],\n                            responses=[SentinelHubRequest.output_response('default', MimeType.TIFF)],\n                            bbox=aoi,  \n                            size=aoi_size,\n                            data_folder='./results/before/',\n                            config=config)\n\ntrue_color_before = request.get_data(save_data=True)","key":"eWscCGilM2"},{"type":"output","id":"MVR332j0v4_1wg1Rwen7e","data":[],"key":"iPa9Eiy7c1"}],"key":"RQj81D9v4a"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Make a directory to save the response\nPath('./results/after').mkdir(parents=True, exist_ok=True)\n  \nrequest = SentinelHubRequest(evalscript=evalscript_true_color,\n                             input_data=[SentinelHubRequest.input_data(data_collection=DataCollection.SENTINEL2_L2A,\n                                                                       time_interval=(dt.strftime(available_datetimes[after_ind], \"%Y-%m-%d\"),\n                                                                                      dt.strftime(available_datetimes[after_ind], \"%Y-%m-%d\")))],\n                            responses=[SentinelHubRequest.output_response('default', MimeType.TIFF)],\n                            bbox=aoi,  \n                            size=aoi_size,\n                            data_folder='./results/after/',\n                            config=config)\n\ntrue_color_after = request.get_data(save_data=True)","key":"EVdx7Ml7fa"},{"type":"output","id":"_0Whmc5wteHLC6nMloWUo","data":[],"key":"ckemWhc6fo"}],"key":"XPFMDUBSSN"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now that we have downloaded the data, let’s fetch the path to the resulting ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NonlnFA0e2"},{"type":"inlineCode","value":"geotiff","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iEvwVvOebM"},{"type":"text","value":"s and open them with rasterio.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tHEiCgWqK2"}],"key":"RdVhQ24Jwl"}],"key":"YkM5dkno7M"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Get folder name created\nfld_a = [f for f in Path(\"./results/before/\").iterdir() if f.is_dir()][0]\nfld_b = [f for f in Path(\"./results/after/\").iterdir() if f.is_dir()][0]\n\n# Open raster with Rasterio\nraster_before = rasterio.open(str(fld_a.joinpath(\"response.tiff\")))\nraster_after = rasterio.open(str(fld_b.joinpath(\"response.tiff\")))","key":"DPceDAlUTq"},{"type":"output","id":"OZeE_qrmpR1JCN2eiwWY6","data":[],"key":"cyu1cABYu3"}],"key":"xXLX32ok8y"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the raster images saved locally and show the outline of the selected polygons in the database","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kiuoycShqm"}],"identifier":"plot-the-raster-images-saved-locally-and-show-the-outline-of-the-selected-polygons-in-the-database","label":"Plot the raster images saved locally and show the outline of the selected polygons in the database","html_id":"plot-the-raster-images-saved-locally-and-show-the-outline-of-the-selected-polygons-in-the-database","implicit":true,"key":"D4gXi7nNcB"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Here will plot the georeferenced rasterio rasters and add the parcel outlines over the images.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"H1xFGjUtYa"}],"key":"lDom998RzN"}],"key":"cNTXyS8KH4"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, (ax, ax1) = plt.subplots(nrows=1, ncols=2, figsize=(18, 10))\n\n# Plot images before and after\nshow(raster_before, ax=ax)\nshow(raster_after, ax=ax1)\n\n# Plot the field outline over the images\ngran_chaco_subset_2018.plot(ax=ax, edgecolor=\"red\", facecolor=\"none\", linewidth=2)\ngran_chaco_subset_2018.plot(ax=ax1, edgecolor=\"red\", facecolor=\"none\", linewidth=2)\n\n# Plot configuration\nfor axs in [ax, ax1]:\n    axs.set_xticks([])\n    axs.set_yticks([])\n\nax.set_title(dt.strftime(available_datetimes[before_ind], \"%Y-%m-%d\"))\nax1.set_title(dt.strftime(available_datetimes[after_ind], \"%Y-%m-%d\"))\n\nplt.show()","key":"O63aGNmgzh"},{"type":"output","id":"faCrNTvOsWvkVtsEpgsXT","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"909f35a6e5ed0497d8a33b9782feaf27","path":"/build/909f35a6e5ed0497d8a33b9782feaf27.png"},"text/plain":{"content":"\u003cFigure size 1800x1000 with 2 Axes\u003e","content_type":"text/plain"}}}],"key":"BpJHxdHomB"}],"key":"oy2wMDJN0u"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In the image above, we notice several points:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kS4SyPuphi"}],"key":"JTxTLmToZB"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"For some of the smaller polygons we can see that the deforestation happened between the 31","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"rlZCABevko"},{"type":"superscript","children":[{"type":"text","value":"st","key":"kWDs3ahjkO"}],"key":"gR81WlcSvo"},{"type":"text","value":" December 2017 and 4","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ghrFjU40pk"},{"type":"superscript","children":[{"type":"text","value":"th","key":"Qss8slZf9G"}],"key":"zzbXeSgabK"},{"type":"text","value":" February 2018. Due to cloud coverage, we cannot narrow down the date any more. But we will get back to this point later in the process.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"rdWGSk3LNX"}],"key":"VjvlfT0dsj"}],"key":"zKY4Szr9QV"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The larger polygons that were identified as deforested in January 2018 in the dataset were already partly deforested in December 2017.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"hmvRP9XCno"}],"key":"UrpF3CNCcg"}],"key":"WLLUQ13MWC"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Certain areas delimited manually based on the Landsat images seems shifted compared to the Sentinel-2 images: i.e. the large polygon top centre. This shift may be due to the difference in resolution or slight geolocalisation differences between the sensors.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"BtLhDBAMUC"}],"key":"vAZxHt79Tt"}],"key":"dave73gvu2"}],"key":"bMQZuf4gPC"}],"key":"IDHef3ijBF"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Compare with Landsat imagery","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zxZvtLL02N"}],"identifier":"compare-with-landsat-imagery","label":"Compare with Landsat imagery","html_id":"compare-with-landsat-imagery","implicit":true,"key":"GERkTcesIb"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"To see the field delination on a Landsat image, we can query a Landsat image as we did for Sentinel.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"W1uCaKBRCB"}],"key":"bWBhDxTbdr"}],"key":"exLTLX07M1"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Quizz: what is the easiest way to write an Evalscript for Landsat True Color?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"P8IzC3LOcO"}],"identifier":"quizz-what-is-the-easiest-way-to-write-an-evalscript-for-landsat-true-color","label":"Quizz: what is the easiest way to write an Evalscript for Landsat True Color?","html_id":"quizz-what-is-the-easiest-way-to-write-an-evalscript-for-landsat-true-color","implicit":true,"key":"mH9XYUdxHR"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Based on Landsat ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"c5JdRLDWlR"},{"type":"link","url":"https://docs.sentinel-hub.com/api/latest/data/landsat-8/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"bands","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ax4Vtk7m9c"}],"urlSource":"https://docs.sentinel-hub.com/api/latest/data/landsat-8/","key":"WtpzdlqdDT"},{"type":"text","value":" available, how would you return a True Color image using the Evalscript?","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"NUILhMfwRF"}],"key":"JlH85mRAb2"}],"key":"f14ZBP87jq"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"evalscript_landsat_true_color = \"\"\"\"\"\"\n\n# Adjust the image size for the change in resolution\naoi_size_landsat = bbox_to_dimensions(aoi, resolution=30)","key":"zk7ZYHi2TN"},{"type":"output","id":"iQ2Uuly0ERVLR7ieVkhMK","data":[],"key":"u0bZ8c1YU8"}],"key":"CDIiTh3y7J"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Uncomment the following cell for the solution. Make sure to run the following cell twice, one time for fetching the solution and a second time for running the Evalscript.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"T6d5raCcs7"}],"key":"cVlUb5NdVC"}],"key":"NqzmzDBBn2"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# %load https://raw.githubusercontent.com/sentinel-hub/code-snippets/master/phiweek2020/Solution2.py","key":"ibj8k8IVkc"},{"type":"output","id":"HEw-8ZQ-z-ZhY7KecA22Z","data":[],"key":"q7mUz66X5C"}],"key":"zb6OqIqH79"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Bonus question: how would you improve the resolution of the True Color image?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JFVlGi8p5B"}],"key":"hMgN7uC5O7"}],"key":"PBrP1pxaQ2"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"evalscript_landsat_true_color_improved = \"\"\"\"\"\"","key":"bfuo0DmCB4"},{"type":"output","id":"inbm1tcMvBBZyd1OzD1GF","data":[],"key":"QKOnrhL017"}],"key":"nQPWI0LjFr"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Uncomment the following cell for the solution. Make sure to run the following cell twice, one time for fetching the solution and a second time for running the Evalscript.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xaTf5dv5jo"}],"key":"P4lvHy6sKa"}],"key":"MfEceszzbB"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# %load https://raw.githubusercontent.com/sentinel-hub/code-snippets/master/phiweek2020/Solution3.py","key":"tJFehXMdWJ"},{"type":"output","id":"B1myuRzNdwnMU19LnpUch","data":[],"key":"wwskM8mXzA"}],"key":"QiG260PCZS"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Run the query (using the Evalscript of your choice) for two dates that were preselected.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"twnOSYUHJc"}],"key":"BmsbyvaApn"}],"key":"w3qydlBw1F"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Make a directory to save the request\nPath('./results/landsat/before').mkdir(parents=True, exist_ok=True)\n  \nrequest = SentinelHubRequest(evalscript=evalscript_landsat_true_color,\n                             input_data=[SentinelHubRequest.input_data(data_collection=DataCollection.LANDSAT8,\n                                                                       time_interval=(\"2017-12-16\",\n                                                                                      \"2017-12-16\"))],\n                            responses=[SentinelHubRequest.output_response('default', MimeType.TIFF)],\n                            bbox=aoi,  \n                            size=aoi_size_landsat,\n                            data_folder='./results/landsat/before',\n                            config=config)\n\ntrue_color_landsat= request.get_data(save_data=True)","key":"i7gIvKBEbt"},{"type":"output","id":"03XLBnkdzddhvG9fWdVyN","data":[],"key":"KggPPvGMvW"}],"key":"BDnPNbGzlE"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Make a directory to save the request\nPath('./results/landsat/after').mkdir(parents=True, exist_ok=True)\n  \nrequest = SentinelHubRequest(evalscript=evalscript_landsat_true_color,\n                             input_data=[SentinelHubRequest.input_data(data_collection=DataCollection.LANDSAT8,\n                                                                       time_interval=(\"2018-01-17\",\n                                                                                      \"2018-01-17\"))],\n                            responses=[SentinelHubRequest.output_response('default', MimeType.TIFF)],\n                            bbox=aoi,  \n                            size=aoi_size_landsat,\n                            data_folder='./results/landsat/after',\n                            config=config)\n\ntrue_color_landsat= request.get_data(save_data=True)","key":"siKcK2XRQD"},{"type":"output","id":"5e_ltoe9eewtj24ka2VV-","data":[],"key":"KdXLMl1iqM"}],"key":"cGA4LW1gbK"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"As we did for Sentinel-2, fetch the latest folder and open the image with Rasterio.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jk56d3w1w2"}],"key":"FFnmSRIRKQ"}],"key":"gkZ4dmfGb5"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Get folder name created\nfld_lb = [f for f in Path(\"./results/landsat/before\").iterdir() if f.is_dir()][0]\nfld_la = [f for f in Path(\"./results/landsat/after\").iterdir() if f.is_dir()][0]\n\n# Open raster with Rasterio\nraster_landsat_before = rasterio.open(str(fld_lb.joinpath(\"response.tiff\")))\nraster_landsat_after = rasterio.open(str(fld_la.joinpath(\"response.tiff\")))","key":"MWFg2U7EnD"},{"type":"output","id":"F4nJZW8sfbeH2puatWtNu","data":[],"key":"YjI49kf8AJ"}],"key":"a2O9tY1n7n"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the Landsat scene saved locally and show the outline of the selected field in the database","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EBasmenwWL"}],"identifier":"plot-the-landsat-scene-saved-locally-and-show-the-outline-of-the-selected-field-in-the-database","label":"Plot the Landsat scene saved locally and show the outline of the selected field in the database","html_id":"plot-the-landsat-scene-saved-locally-and-show-the-outline-of-the-selected-field-in-the-database","implicit":true,"key":"FJL6T4lUvl"}],"key":"dv4wPqQ2Et"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, (ax, ax1) = plt.subplots(nrows=1, ncols=2, figsize=(18, 10))\n\n# Plot images before and after\nshow(raster_landsat_before, ax=ax)\nshow(raster_landsat_after, ax=ax1)\n\n# Plot the field outline over the images\ngran_chaco_subset_2018.plot(ax=ax, edgecolor=\"red\", facecolor=\"none\", linewidth=2)\ngran_chaco_subset_2018.plot(ax=ax1, edgecolor=\"red\", facecolor=\"none\", linewidth=2)\n\n# Plot configuration\nfor axs in [ax, ax1]:\n    axs.set_xticks([])\n    axs.set_yticks([])\n\nax.set_title(\"2017-12-16\")\nax1.set_title(\"2018-01-17\")\n\nplt.show()","key":"ZXfEXPu0QS"},{"type":"output","id":"1klPL_oYwEV3Ylh1NawJp","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"09f0808806b1f1aef3dee709aba79bc8","path":"/build/09f0808806b1f1aef3dee709aba79bc8.png"},"text/plain":{"content":"\u003cFigure size 1800x1000 with 2 Axes\u003e","content_type":"text/plain"}}}],"key":"tUUnrrOXec"}],"key":"h3GSuTrGke"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Looking at the Landsat images in December 2017 and January 2018, provides more information on how the polygons were delineated. Indeed, owing to the revisit time of Landsat (14 days) and cloud cover, some of the deforestation events that happened end of December 2017 (as we saw in the Sentinel-2 images) were missed. The Landsat acquisition on 17","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aBKWlD0nGT"},{"type":"superscript","children":[{"type":"text","value":"th","key":"HvV7aTuqh2"}],"key":"A4BlCdSgWT"},{"type":"text","value":" January 2018 provides more insight into the timing of the deforestation. Nevertheless, two of the polygon were already partly deforested in December 2017, which could mean that the dataset contains operator errors. The images also show that the 31","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"b6fpfoxE64"},{"type":"superscript","children":[{"type":"text","value":"st","key":"ThR5k0VLBQ"}],"key":"P50JRvtLNI"},{"type":"text","value":" January 2018 indicated in the dataset is an arbitrary date representing the entire month of January.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Z5KtT1z1A3"}],"key":"jsb8zi09uT"}],"key":"WIEs1emClz"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IZV90WS6uK"}],"key":"AVXq2OGRgW"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"“Filling in the Gaps” or how to use data fusion to mitigate gaps in optical imagery time series","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UCMVtCsOx4"}],"identifier":"filling-in-the-gaps-or-how-to-use-data-fusion-to-mitigate-gaps-in-optical-imagery-time-series","label":"“Filling in the Gaps” or how to use data fusion to mitigate gaps in optical imagery time series","html_id":"filling-in-the-gaps-or-how-to-use-data-fusion-to-mitigate-gaps-in-optical-imagery-time-series","implicit":true,"key":"sxp6r3sVjI"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In the previous section, we were able to fetch Sentinel-2 images to observe deforestation events. However, in January all the scenes acquired were completely cloud covered. As a recap, let’s just look at cloud cover for that time of year using the previous catalog request.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"O3aZGgTHLk"}],"key":"FO7jVbQNtM"}],"key":"Jmk1SPlVyR"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(nrows=1, ncols=1, figsize=(18, 10))\n\n# Plot the cloud cover for available dates\nax.plot([dt.strptime(x[0], \"%Y-%m-%dT%H:%M:%SZ\") for x in available_data], [x[1] for x in available_data], marker='o',\n        markersize=12, linestyle=\"none\", color=\"black\")\n\n# Highlight January\nax.fill_between((dt.strptime(\"2018-01-01\", \"%Y-%m-%d\"), dt.strptime(\"2018-01-31\", \"%Y-%m-%d\")), (0,0), (100,100), color=\"red\", alpha=0.3)\n\n# Plot 10% level\nax.plot([dt.strptime(x[0], \"%Y-%m-%dT%H:%M:%SZ\") for x in available_data], [10 for x in available_data], linestyle=\"--\", linewidth=2, color=\"black\")\n\n# Plot configuration\nax.set_ylim(0,100)\nax.set_ylabel(\"Cloud cover percentage\")\nax.set_xlabel(\"Date\")\n\nplt.show()","key":"ydTPfu9UNx"},{"type":"output","id":"3mf2WhZzZCEcnfgUrKw0R","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"0fe69697504e4786eaa1f80da1cd31ad","path":"/build/0fe69697504e4786eaa1f80da1cd31ad.png"},"text/plain":{"content":"\u003cFigure size 1800x1000 with 1 Axes\u003e","content_type":"text/plain"}}}],"key":"HeOEgNai1k"}],"key":"F2iG9Eqa5k"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We also know that the deforestation happened before the 17","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"r6DxKl5SUH"},{"type":"superscript","children":[{"type":"text","value":"th","key":"pDAPuU0kFj"}],"key":"nTFQRW2DnB"},{"type":"text","value":" January 2018, when looking at the Landsat image. But is there any way of checking with another satellite platform that isn’t affected by clouds?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gpFi3nZl1r"}],"key":"ynfuiYhwhm"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"By combining optical imagery with SAR (Synthetic Aperture Radar), the shortcomings of cloud cover can be (partly) mitigated. In this example, we will use Sentinel-1 images. Although the revisit frequency of Sentinel-1 is similar to Sentinel-2 (approximately 6 days at the equator), the additional data may be used to increase the temporal resolution of time-series regardless of local atmospheric conditions.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"i8jVVhPRtA"}],"key":"fW1qIQIPUD"}],"key":"qaDFLnHaQw"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Datafusion","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sBkYqwJRWM"}],"identifier":"datafusion","label":"Datafusion","html_id":"datafusion","implicit":true,"key":"VxZd12NXYx"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We recently wrote a ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hX4vtp5H7J"},{"type":"link","url":"https://medium.com/sentinel-hub/data-fusion-combine-satellite-datasets-to-unlock-new-possibilities-26356c481169","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"blog post","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xO91rtfKR1"}],"urlSource":"https://medium.com/sentinel-hub/data-fusion-combine-satellite-datasets-to-unlock-new-possibilities-26356c481169","key":"HR7dRd5uFS"},{"type":"text","value":" about the new datafusion capabilities of Sentinel Hub services. Here, we will combine Sentinel-2 and Sentinel-1 images to detect deforestation event that happened in January.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"UakZveOOev"}],"key":"WQYfOKOWix"}],"key":"lHg68EnOKC"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"First we will use the Catalog API service again to obtain the list of available Sentinel-1 acquisitions in January 2018.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qJOIziawCB"}],"key":"jka4MsAO9R"}],"key":"IhCPG14rJQ"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Set the Catalog API url\ncatalog_url = \"https://services.sentinel-hub.com/api/v1/catalog/\"\n\n# Set the header\nheaders = {\n  'Content-Type': 'application/json'\n}\n\n# Set the Catalog request parameters\ncollections = \"sentinel-1-grd\"  # This time, we use the Sentinel 1 collection\ndatetime= \"2018-01-01T00:00:00Z/2018-01-31T23:59:59Z\"  # Time range over January 2018\n\n# Run the catalog request\nresponse = oauth.request(\"GET\", f\"https://services.sentinel-hub.com/api/v1/catalog/collections/{collections}/items?bbox={aoi_bbox[0]},{aoi_bbox[1]},{aoi_bbox[2]},{aoi_bbox[3]}\u0026datetime={datetime}\u0026limit=20\", headers=headers)\ncatalog_results = response.json()\n\n# Fetch the dates and write to a list\ns1_dates = []\n\nfor entry in catalog_results[\"features\"]:\n    s1_dates.append(entry[\"properties\"][\"datetime\"])\n    \nprint(s1_dates)","key":"F7pymP5Tuy"},{"type":"output","id":"gIjAyiKw55IWWpLT-P9jC","data":[{"name":"stdout","output_type":"stream","text":"['2018-01-26T09:27:02Z', '2018-01-25T22:33:01Z', '2018-01-14T09:27:02Z', '2018-01-13T22:33:01Z', '2018-01-02T09:27:03Z', '2018-01-01T22:33:02Z']\n"}],"key":"GCsqvWKZsS"}],"key":"FwR57oEHqw"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"With the Catalog service API, we see that there are 6 images available for January 2018.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"biS9NykY5z"}],"key":"a9eE7mCAzn"},{"type":"heading","depth":4,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Evalscript","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"NCzDtIoMgj"}],"identifier":"evalscript","label":"Evalscript","html_id":"evalscript","implicit":true,"key":"K8RB2CYavx"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"In the following Evalscript we will perform the following steps for each pixel in the image:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"gi7QNVqEDq"}],"key":"hiW5NPrsLb"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"check if the pixel’s NDVI (see below) value has dropped between December and February. If it hasn’t, we will assume there was no deforestation in January and return the Sentinel-2 True Color RGB.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"lUtMleTimj"}],"key":"Z5CfziXF9U"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"if the NDVI has dropped from above 0.4 to below 0.4 (an empirical threshold that we set), we then look at the backscatter between different Sentinel-1 dates.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"y4dp7RHZ3z"}],"key":"mTfXUKQxT1"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"if the drop in backscatter from a date to another is larger than a given value (once again empirically determined), then we return a colour according to the date.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"C4CK7KJtli"}],"key":"IQFzmKOPWg"}],"key":"rurW03TQJA"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"To perform the operations in the list above, we need:","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"BEcf0DJhDI"}],"key":"Elh5UxE22o"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":13,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"the closest cloud-free Sentinel-2 image before January","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"ht7plJBMK2"}],"key":"whNEbCZUYI"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"the closest cloud-free Sentinel-2 image after January","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"p2KTDSRHWW"}],"key":"f4GKFsMMzm"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"all Sentinel-1 images in January","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"eoLp4xeCt0"}],"key":"oJID748uuB"}],"key":"HQS1BYmzNX"}],"key":"FPPcVL7cys"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"break","key":"pXFDFRbugm"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"NDVI (Normalized difference vegetation index)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sRjMjZY826"}],"key":"RphhQGFlje"}],"key":"KcvFqWAPIx"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The well known and widely used NDVI is a simple, but effective index for quantifying green vegetation. It normalizes green leaf scattering in Near Infra-red wavelengths with chlorophyll absorption in red wavelengths.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"L4Kr0QVg0P"}],"key":"ZVehRsrlRa"}],"key":"snOTSe84Cu"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The value range of the NDVI is -1 to 1. Negative values of NDVI (values approaching -1) correspond to water. Values close to zero (-0.1 to 0.1) generally correspond to barren areas of rock, sand, or snow. Low, positive values represent shrub and grassland (approximately 0.2 to 0.4), while high values indicate temperate and tropical rainforests (values approaching 1).","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Up5zxglPEb"}],"key":"f8UBzfXjFW"},{"type":"break","key":"poFD4GXqyH"}],"key":"Pko1RSIdvv"}],"key":"VZFqjLKrh8"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Here we color coded the changes as follows:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Oz36USPON6"}],"key":"fTSRkZrQMw"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"2018-01-01 -\u003e 2018-01-02 = ORANGE","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"qgq8NSfLnP"}],"key":"FgB0JxdhQf"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"2018-01-02 -\u003e 2018-01-13 = WHITE","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"wC76WPKDh7"}],"key":"YDfjoYb00w"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"2018-01-13 -\u003e 2018-01-14 = BLUE","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"gEJvbkku4k"}],"key":"JCywQZu24I"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"2018-01-14 -\u003e 2018-01-25 = GREEN","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"vmIoiGNjkD"}],"key":"tMqzRkDMcN"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"2018-01-25 -\u003e 2018-01-26 = RED","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"FECG9Aqrcv"}],"key":"j8Rv126aZT"}],"key":"g6vREReSNx"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"evalscript_data_fusion = \"\"\"\n//VERSION=3\n\nfunction setup (){\n  return {\n    input: [\n      {datasource: \"s1\", bands:[\"VH\"]},\n      {datasource: \"s2_before\", bands:[\"B02\", \"B03\", \"B04\", \"B08\"]},\n      {datasource: \"s2_after\", bands:[\"B02\", \"B03\", \"B04\", \"B08\"]}],\n    output: [\n      {id: \"default\", bands: 3}\n    ],\n    mosaicking: \"ORBIT\"\n  };\n}\n  \n// visualizes decibels from -20 to 0\nfunction toDb(linear) {\n  // the following commented out lines are simplified below\n  // var log = 10 * Math.log(linear) / Math.LN10\n  // var val = Math.max(0, (log + 20) / 20)\n  return Math.max(0, Math.log(linear) * 0.21714724095 + 1)\n}\n  \nfunction evaluatePixel(samples, scenes) {\n\n  // Get samples from different specified datasources\n  var s1 = samples.s1;\n  var s2before = samples.s2_before[0];\n  var s2after = samples.s2_after[0];\n \n  // Calculate NDVI before January and after\n  let ndvi_before = index(s2before.B08, s2before.B04);\n  let ndvi_after = index(s2after.B08, s2after.B04);\n  \n  // Gain for RGB images\n  var gain = 3;\n\n  // If NDVI drop between dates is more than 0.4, query S1 data,\n  // otherwise return True Color\n  if (ndvi_before \u003e 0.4 \u0026\u0026 ndvi_after \u003c 0.4){\n  \n    // Db difference threshold\n    let threshold_bc = 0.2;\n      \n    // Return different dates by color\n    if (toDb(s1[5].VH) - toDb(s1[4].VH) \u003e threshold_bc){\n      return[255/255, 153/255, 51/255]\n    } else if (toDb(s1[4].VH) - toDb(s1[3].VH)  \u003e threshold_bc){\n      return [255/255, 255/255, 255/255]\n    } else if (toDb(s1[3].VH) - toDb(s1[2].VH)  \u003e threshold_bc){\n      return [0, 0, 255/255]\n    } else if (toDb(s1[2].VH) - toDb(s1[1].VH)  \u003e threshold_bc){\n      return [0, 255/255, 0]\n    } else if (toDb(s1[1].VH) - toDb(s1[0].VH)  \u003e threshold_bc){\n      return [255/255, 0, 0] // RED\n    } else {\n      return [s2after.B04 * gain, s2after.B03 * gain, s2after.B02 * gain];\n    }\n  } else {\n    return [s2after.B04 * gain, s2after.B03 * gain, s2after.B02 * gain];\n  }\n}\n\"\"\"","key":"nJkzXNO8FV"},{"type":"output","id":"F0XULLA0my8XhjuMe_3Si","data":[],"key":"MoASLjItYi"}],"key":"om2G2lzr3b"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Building the request body","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Wb0lzRA7Zd"}],"identifier":"building-the-request-body","label":"Building the request body","html_id":"building-the-request-body","implicit":true,"key":"eEvvtoXlFc"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"When calling multiple sources of satellite data, the request body is written slightly differently to a request using a single sensor. In the following request, we need to specify as inputs: the Sentinel-1 images during January, the Sentinel-2 images before and after January. The latter are called as two separate data sources to save the number of images queried.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jnozRovuEy"}],"key":"ysglNoGRUn"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"In the input data section we show you two different ways of selecting the input parameters for the different data sources:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"uqyxNXJlcZ"}],"key":"ilqpW5bzWM"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"as a dictionary, which allows more control over the parameters","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"QQlGHMoE4S"}],"key":"iwpFivB9IA"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"as a ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"EoHtfeT3Vy"},{"type":"inlineCode","value":"SentinelHubRequest.input_data","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"fkvDqhrwN7"},{"type":"text","value":" object","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"lrJrlkvWCk"}],"key":"SAjlmly2L0"}],"key":"HUf6DDhniP"}],"key":"O9wOJ1AONb"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"request = SentinelHubRequest(\n  evalscript=evalscript_data_fusion,\n  input_data=[\n    {'type': 'S1GRD',\n     \"id\": \"s1\",\n     \"dataFilter\": {\n          \"timeRange\": {\n            \"from\": \"2018-01-01T00:00:00Z\",\n            \"to\": \"2018-01-31T23:59:59Z\"\n          }\n        },\n     \"processing\": {\n                    \"orthorectify\": \"true\"\n                   }\n    },\n    SentinelHubRequest.input_data(\n      data_collection=DataCollection.SENTINEL2_L2A,\n      time_interval=('2017-12-31', '2017-12-31'),        \n      other_args = {\"id\":\"s2_before\"}\n    ),\n    SentinelHubRequest.input_data(\n      data_collection=DataCollection.SENTINEL2_L2A,\n      time_interval=('2018-02-04', '2018-02-04'),        \n      other_args = {\"id\":\"s2_after\"}\n    ),\n    \n  ],\n  responses=[\n    SentinelHubRequest.output_response('default', MimeType.TIFF),\n    \n  ],\n  bbox=aoi,  \n  size=aoi_size,\n  config=config\n)\ndatafusion_results = request.get_data() ","key":"s34TWqdaqA"},{"type":"output","id":"_6-lK2bJPHFuQ6qYj5-nn","data":[],"key":"Xy9T6tWfT6"}],"key":"KP2YZsNSix"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the resulting image","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nWR17dwsaa"}],"identifier":"plot-the-resulting-image","label":"Plot the resulting image","html_id":"plot-the-resulting-image","implicit":true,"key":"OEYHu7xciG"}],"key":"IwtYpQAw6K"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(nrows=1, ncols=1, figsize=(18, 10))\n\n# Plot the image\nax.imshow(datafusion_results[0])\n\n# Plot configuration\nfor axs in [ax, ax1]:\n    axs.set_xticks([])\n    axs.set_yticks([])\n    \npatches = [mpatches.Patch(color=\"orange\", label=\"2018-01-01 - 2018-01-02\"),\n           mpatches.Patch(facecolor=\"white\", edgecolor=\"black\", label=\"2018-01-02 - 2018-01-13\") ,\n           mpatches.Patch(color=\"blue\", label=\"2018-01-13 - 2018-01-14\"),\n           mpatches.Patch(color=\"lime\", label=\"2018-01-14 - 2018-01-25\"),\n           mpatches.Patch(color=\"red\", label=\"2018-01-25 - 2018-01-26\")]\n\nplt.legend(handles=patches, bbox_to_anchor=(1.05, 1), title=\"Deforestation timing:\", loc=2, borderaxespad=0. )\n\nax.set_title(\"Deforestation detection with Sentinel-1\")\nplt.show()","key":"yvMzRGzejt"},{"type":"output","id":"D7t1VQ9f82hjMy65uSQPJ","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"58489ad4cbbcb257e136c78bd109f084","path":"/build/58489ad4cbbcb257e136c78bd109f084.png"},"text/plain":{"content":"\u003cFigure size 1800x1000 with 1 Axes\u003e","content_type":"text/plain"}}}],"key":"ryBo18Zp1v"}],"key":"E4PHEUezGB"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Thanks to the use of datafusion, we have managed to narrow down the date of deforestation, despite the large gap in optical satellite images (cloudless scenes) during January.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TYI9dZE4v6"}],"key":"TDvhThwieu"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"This approach is useful for a visual analysis of images, but is difficultly scalable. In the next section, we will touch upon the automation of the workflow for deforestation event detection.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"zjRbnUYmvo"}],"key":"lyfmUTCtPE"}],"key":"INpFa8Ah16"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"twCz9n7AdF"}],"key":"F32Vgd3T9e"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Thoughts about automated detection of deforestation events","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"A1HFdiEkIE"}],"identifier":"thoughts-about-automated-detection-of-deforestation-events","label":"Thoughts about automated detection of deforestation events","html_id":"thoughts-about-automated-detection-of-deforestation-events","implicit":true,"key":"NYFGn6IHSR"}],"key":"VHlooDyHy1"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"As we have seen previously, the manual delineation of deforested parcels using optical images presents several challenges. Furthermore, the method requires significant efforts and time to be scaled up to larger areas. To investigate the potential of automated detection of deforestation, we will make use of the FIS (Feature Info Service) to extract Sentinel-2 derived variables over a given period.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iEO9YOHhk0"}],"key":"plWbekXBYF"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In the following steps, we will query NDVI values over the entire time-series of available Sentinel-2 data to investigate trends.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"tcgu2d69U5"}],"key":"VV1iTtoCNi"}],"key":"pjhfTidDcf"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"First, we select a test field from our dataset. We choose a field that was fully forested in December 2017 and fully cleared in February 2018.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"W07uLzTGIH"}],"key":"Tfy7RdhRm4"}],"key":"WXkT47bIJw"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Select a test field\nfield = gran_chaco_subset_2018[gran_chaco_subset_2018[\"field_id\"] == 88025]","key":"YwRyfhIzMn"},{"type":"output","id":"F2Afkua1u9gEIQVDuJQlM","data":[],"key":"VeByOzOJWI"}],"key":"AAn7yQFxZr"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Plot the field\nIPython.display.GeoJSON(field.__geo_interface__)","key":"sEGenCCV4Q"},{"type":"output","id":"mFlMvhUSMzbQtKJFCxUF-","data":[{"output_type":"display_data","metadata":{"application/geo+json":{"expanded":false,"root":"root"}},"data":{"application/geo+json":{"content":"{\"bbox\":[-60.19843220307759,-21.21303092065055,-60.1957618989118,-21.21017631991039],\"features\":[{\"bbox\":[-60.19843220307759,-21.21303092065055,-60.1957618989118,-21.21017631991039],\"geometry\":{\"coordinates\":[[[-60.19580365440283,-21.21017631991039],[-60.1957618989118,-21.21296613658804],[-60.19839128840967,-21.21303092065055],[-60.19843220307759,-21.21209410444676],[-60.19580365440283,-21.21017631991039]]],\"type\":\"Polygon\"},\"id\":\"31\",\"properties\":{\"created_at\":\"2020-09-25T07:57:49.678146+00:00\",\"date\":\"2018-01-31\",\"datetime\":\"2018-01-31T00:00:00.000000\",\"field_id\":88025,\"id\":88025,\"modified_at\":null,\"municipios\":\"FILADELFIA\",\"objectid\":43800,\"pais\":\"Paraguay\",\"prov_dep\":\"Boquerón\",\"shape_area\":10496734.2585813,\"shape_leng\":74575.6181798881},\"type\":\"Feature\"}],\"type\":\"FeatureCollection\"}","content_type":"application/geo+json"},"text/plain":{"content":"\u003cIPython.display.GeoJSON object\u003e","content_type":"text/plain"}}}],"key":"r80Ibu5nYQ"}],"key":"l9WMWndohX"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The Sentinel Hub Python package also allows to use FIS. In the following steps we will build several requests in order to investigate the data in logical steps.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gocV3e6Yim"}],"key":"s1llIqUJ4h"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In the first request we will query NDVI for the period ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"TVzCuVEK8i"},{"type":"inlineCode","value":"2015-01-01","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ptM5YPHPcW"},{"type":"text","value":" to ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"cy5TsYoNcb"},{"type":"inlineCode","value":"2018-02-14","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"gwiofgWMpI"},{"type":"text","value":". The request looks a lot like the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"CB8YmuX5oy"},{"type":"inlineCode","value":"SentinelHubRequest","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"trjXUTZEDt"},{"type":"text","value":" previously used.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MOTrXhsW6l"}],"key":"vCvkUvHV7b"}],"key":"MaGZdMmNgR"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Request NDVI until February 2018\nfis_request = FisRequest(layer='NDVI',\n                         data_collection=DataCollection.SENTINEL2_L1C,\n                         geometry_list=[Geometry(field.geometry.values[0], crs=CRS.WGS84)],\n                         time=('2015-01-01', '2018-02-14'),\n                         resolution='10m',\n                         data_folder='./data',\n                         maxcc=0.1,\n                         config=config\n                         )\nndvi = fis_request.get_data(save_data=False)","key":"DkCTbxvSUr"},{"type":"output","id":"hxhb7juJdVn4tEq-VIijJ","data":[],"key":"Mr4dnSqWi6"}],"key":"DtyJKxudhg"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s look at the results of our first request.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EVfprvW6ti"}],"key":"vNWYmDwNln"}],"key":"oftS7Cn9Wg"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"FIS request returns a list of dictionaries and is difficult to read. To make the results more readable, we created a small function to convert the results to a Pandas Dataframe.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sfFOF8xZ81"}],"key":"tCGvcidy2D"}],"key":"tkU54Sle7o"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"def fis_data_to_dataframe(fis_data):\n    \"\"\" Creates a DataFrame from list of FIS responses\n    \"\"\"\n    COLUMNS = ['date', 'min', 'max', 'mean', 'stDev']\n    data = []\n    for fd in fis_data:\n        for channel, channel_stats in fd.items():\n            if channel == 'C0':                \n                for stat in channel_stats:\n                    row = [dt.strptime(stat['date'], \"%Y-%m-%d\")]\n                    for column in COLUMNS[1:]:\n                        row.append(stat['basicStats'][column])\n                        data.append(row)\n        \n    # Save to pandas dataframe and reset index\n    df = pd.DataFrame(data, columns=COLUMNS).sort_values(['date']).drop_duplicates()\n    df.reset_index(drop=True, inplace=True)\n    \n    return df","key":"UzTzQ8EfCd"},{"type":"output","id":"f3l47BpQAv5fOqz05aKgW","data":[],"key":"ZLzlzhG8Ao"}],"key":"Ua2dBeJLV3"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Convert the FIS results to a dataframe\nndvi_df = fis_data_to_dataframe(ndvi)\n\n# Drop a date (visually identified as hazy)\nndvi_df.drop(ndvi_df.loc[ndvi_df['date']==\"2016-12-01\"].index, inplace=True)","key":"hyo7o3s7bf"},{"type":"output","id":"zCS9ovqUCWmnNcqHdoqKW","data":[],"key":"E7nAeR1MFk"}],"key":"V7BYpEA9ex"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In the next cell, we plot the results of the first request, nicely formatted in a Pandas Dataframe.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yQDAYDfwIH"}],"key":"j88Kw5YebY"}],"key":"VS8jwu2qUC"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"ndvi_df","key":"w3JDfGBeXC"},{"type":"output","id":"3lTs4p02VvBFTrFyXWubY","data":[{"output_type":"execute_result","execution_count":51,"metadata":{},"data":{"text/html":{"content":"\u003cdiv\u003e\n\u003cstyle scoped\u003e\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n\u003c/style\u003e\n\u003ctable border=\"1\" class=\"dataframe\"\u003e\n  \u003cthead\u003e\n    \u003ctr style=\"text-align: right;\"\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003edate\u003c/th\u003e\n      \u003cth\u003emin\u003c/th\u003e\n      \u003cth\u003emax\u003c/th\u003e\n      \u003cth\u003emean\u003c/th\u003e\n      \u003cth\u003estDev\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003cth\u003e0\u003c/th\u003e\n      \u003ctd\u003e2015-08-19\u003c/td\u003e\n      \u003ctd\u003e0.296769\u003c/td\u003e\n      \u003ctd\u003e0.491071\u003c/td\u003e\n      \u003ctd\u003e0.394382\u003c/td\u003e\n      \u003ctd\u003e0.038699\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e1\u003c/th\u003e\n      \u003ctd\u003e2016-05-05\u003c/td\u003e\n      \u003ctd\u003e0.554760\u003c/td\u003e\n      \u003ctd\u003e0.674749\u003c/td\u003e\n      \u003ctd\u003e0.611015\u003c/td\u003e\n      \u003ctd\u003e0.017103\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e2\u003c/th\u003e\n      \u003ctd\u003e2016-05-25\u003c/td\u003e\n      \u003ctd\u003e0.549717\u003c/td\u003e\n      \u003ctd\u003e0.671712\u003c/td\u003e\n      \u003ctd\u003e0.608374\u003c/td\u003e\n      \u003ctd\u003e0.018733\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e3\u003c/th\u003e\n      \u003ctd\u003e2016-06-14\u003c/td\u003e\n      \u003ctd\u003e0.493660\u003c/td\u003e\n      \u003ctd\u003e0.647059\u003c/td\u003e\n      \u003ctd\u003e0.569957\u003c/td\u003e\n      \u003ctd\u003e0.025341\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e4\u003c/th\u003e\n      \u003ctd\u003e2016-07-24\u003c/td\u003e\n      \u003ctd\u003e0.331935\u003c/td\u003e\n      \u003ctd\u003e0.554909\u003c/td\u003e\n      \u003ctd\u003e0.459868\u003c/td\u003e\n      \u003ctd\u003e0.045902\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e5\u003c/th\u003e\n      \u003ctd\u003e2016-08-13\u003c/td\u003e\n      \u003ctd\u003e0.259259\u003c/td\u003e\n      \u003ctd\u003e0.461212\u003c/td\u003e\n      \u003ctd\u003e0.369056\u003c/td\u003e\n      \u003ctd\u003e0.038158\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e6\u003c/th\u003e\n      \u003ctd\u003e2016-09-22\u003c/td\u003e\n      \u003ctd\u003e0.231492\u003c/td\u003e\n      \u003ctd\u003e0.396070\u003c/td\u003e\n      \u003ctd\u003e0.314037\u003c/td\u003e\n      \u003ctd\u003e0.032888\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e7\u003c/th\u003e\n      \u003ctd\u003e2016-11-01\u003c/td\u003e\n      \u003ctd\u003e0.350860\u003c/td\u003e\n      \u003ctd\u003e0.557269\u003c/td\u003e\n      \u003ctd\u003e0.452450\u003c/td\u003e\n      \u003ctd\u003e0.030195\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e9\u003c/th\u003e\n      \u003ctd\u003e2017-01-30\u003c/td\u003e\n      \u003ctd\u003e0.384566\u003c/td\u003e\n      \u003ctd\u003e0.584973\u003c/td\u003e\n      \u003ctd\u003e0.474981\u003c/td\u003e\n      \u003ctd\u003e0.033159\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e10\u003c/th\u003e\n      \u003ctd\u003e2017-07-14\u003c/td\u003e\n      \u003ctd\u003e0.372168\u003c/td\u003e\n      \u003ctd\u003e0.587928\u003c/td\u003e\n      \u003ctd\u003e0.474271\u003c/td\u003e\n      \u003ctd\u003e0.040521\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e11\u003c/th\u003e\n      \u003ctd\u003e2017-08-03\u003c/td\u003e\n      \u003ctd\u003e0.315810\u003c/td\u003e\n      \u003ctd\u003e0.538263\u003c/td\u003e\n      \u003ctd\u003e0.428944\u003c/td\u003e\n      \u003ctd\u003e0.041209\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e12\u003c/th\u003e\n      \u003ctd\u003e2017-08-23\u003c/td\u003e\n      \u003ctd\u003e0.276899\u003c/td\u003e\n      \u003ctd\u003e0.470610\u003c/td\u003e\n      \u003ctd\u003e0.362794\u003c/td\u003e\n      \u003ctd\u003e0.037320\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e13\u003c/th\u003e\n      \u003ctd\u003e2017-09-12\u003c/td\u003e\n      \u003ctd\u003e0.215407\u003c/td\u003e\n      \u003ctd\u003e0.345781\u003c/td\u003e\n      \u003ctd\u003e0.276094\u003c/td\u003e\n      \u003ctd\u003e0.024354\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e14\u003c/th\u003e\n      \u003ctd\u003e2017-09-17\u003c/td\u003e\n      \u003ctd\u003e0.254438\u003c/td\u003e\n      \u003ctd\u003e0.373612\u003c/td\u003e\n      \u003ctd\u003e0.314785\u003c/td\u003e\n      \u003ctd\u003e0.020758\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e15\u003c/th\u003e\n      \u003ctd\u003e2017-11-21\u003c/td\u003e\n      \u003ctd\u003e0.262090\u003c/td\u003e\n      \u003ctd\u003e0.482441\u003c/td\u003e\n      \u003ctd\u003e0.358059\u003c/td\u003e\n      \u003ctd\u003e0.035789\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e16\u003c/th\u003e\n      \u003ctd\u003e2017-12-11\u003c/td\u003e\n      \u003ctd\u003e0.576687\u003c/td\u003e\n      \u003ctd\u003e0.723410\u003c/td\u003e\n      \u003ctd\u003e0.669601\u003c/td\u003e\n      \u003ctd\u003e0.025504\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e17\u003c/th\u003e\n      \u003ctd\u003e2017-12-31\u003c/td\u003e\n      \u003ctd\u003e0.649654\u003c/td\u003e\n      \u003ctd\u003e0.759532\u003c/td\u003e\n      \u003ctd\u003e0.712077\u003c/td\u003e\n      \u003ctd\u003e0.022596\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e18\u003c/th\u003e\n      \u003ctd\u003e2018-02-04\u003c/td\u003e\n      \u003ctd\u003e0.167570\u003c/td\u003e\n      \u003ctd\u003e0.383191\u003c/td\u003e\n      \u003ctd\u003e0.233119\u003c/td\u003e\n      \u003ctd\u003e0.029782\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e19\u003c/th\u003e\n      \u003ctd\u003e2018-02-09\u003c/td\u003e\n      \u003ctd\u003e0.125267\u003c/td\u003e\n      \u003ctd\u003e0.381443\u003c/td\u003e\n      \u003ctd\u003e0.179558\u003c/td\u003e\n      \u003ctd\u003e0.032394\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e20\u003c/th\u003e\n      \u003ctd\u003e2018-02-14\u003c/td\u003e\n      \u003ctd\u003e0.161290\u003c/td\u003e\n      \u003ctd\u003e0.419245\u003c/td\u003e\n      \u003ctd\u003e0.229381\u003c/td\u003e\n      \u003ctd\u003e0.031654\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"         date       min       max      mean     stDev\n0  2015-08-19  0.296769  0.491071  0.394382  0.038699\n1  2016-05-05  0.554760  0.674749  0.611015  0.017103\n2  2016-05-25  0.549717  0.671712  0.608374  0.018733\n3  2016-06-14  0.493660  0.647059  0.569957  0.025341\n4  2016-07-24  0.331935  0.554909  0.459868  0.045902\n5  2016-08-13  0.259259  0.461212  0.369056  0.038158\n6  2016-09-22  0.231492  0.396070  0.314037  0.032888\n7  2016-11-01  0.350860  0.557269  0.452450  0.030195\n9  2017-01-30  0.384566  0.584973  0.474981  0.033159\n10 2017-07-14  0.372168  0.587928  0.474271  0.040521\n11 2017-08-03  0.315810  0.538263  0.428944  0.041209\n12 2017-08-23  0.276899  0.470610  0.362794  0.037320\n13 2017-09-12  0.215407  0.345781  0.276094  0.024354\n14 2017-09-17  0.254438  0.373612  0.314785  0.020758\n15 2017-11-21  0.262090  0.482441  0.358059  0.035789\n16 2017-12-11  0.576687  0.723410  0.669601  0.025504\n17 2017-12-31  0.649654  0.759532  0.712077  0.022596\n18 2018-02-04  0.167570  0.383191  0.233119  0.029782\n19 2018-02-09  0.125267  0.381443  0.179558  0.032394\n20 2018-02-14  0.161290  0.419245  0.229381  0.031654","content_type":"text/plain"}}}],"key":"IsUdYsW6fF"}],"key":"FYjbnW9qlZ"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Next, we build a second request that runs from February 2018 to today, to see how NDVI evolves after deforestation has happened.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GhRqSj9GaH"}],"key":"gBJatV9Y9m"}],"key":"KyILf9HiqG"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Build the request after deforestation\nfis_request = FisRequest(layer='NDVI',\n                         data_collection=DataCollection.SENTINEL2_L1C,\n                         geometry_list=[Geometry(field.geometry.values[0], crs=CRS.WGS84)],\n                         time=('2018-02-14', dt.today()),\n                         resolution='10m',\n                         data_folder='./data',\n                         maxcc=0.05,\n                         config=config\n                         )\n\n# Run the request\nndvi_updated = fis_request.get_data(save_data=False)\n\n# Convert the results to a dataframe\nndvi_df_updated = fis_data_to_dataframe(ndvi_updated)","key":"k9eXAA8lln"},{"type":"output","id":"-hbrHwVQd8vB0j9gV3lQ5","data":[],"key":"TlKdcblF0U"}],"key":"Tx53VduL5S"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Finally, we are interested in comparing the temporal evolution of NDVI to that of a parcel that was not deforested. To do so, we selected an area that was still forested in September 2020\u003e","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mDJValniwF"}],"key":"QqpXFzwsKs"}],"key":"j3Do0si8it"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# We select a parcel of forest of approximately the same size of our field for comparison purposes\nforest = [ -60.19555112, -21.23150358, -60.18345680, -21.22224216]\naoi_forest = BBox(bbox=forest, crs=CRS.WGS84)","key":"mCxRRiu6vE"},{"type":"output","id":"l6XyXmW82Hlel8GWFi2Ef","data":[],"key":"xl0daYbdV5"}],"key":"EtrxHcCHHb"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Build the request\nfis_request = FisRequest(layer='NDVI',\n                         data_collection=DataCollection.SENTINEL2_L1C,\n                         geometry_list=[aoi_forest],\n                         time=('2015-01-01', dt.today()),\n                         resolution='10m',\n                         maxcc=0.05,\n                         config=config\n                         )\n# Run the request\nforest_patch = fis_request.get_data(save_data=False)\n\n# Convert the results to a dataframe\nforest_df = fis_data_to_dataframe(forest_patch)\n\n# Drop a date (visually identified as hazy)\nforest_df.drop(forest_df.loc[forest_df['date']==\"2018-09-12\"].index, inplace=True)","key":"k9RdxID4Hr"},{"type":"output","id":"3aR8HkctVV89vGQykq9_A","data":[],"key":"HSOxkBtqdv"}],"key":"QK1o0Gx7y6"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the mean NDVI of the selected field over the date range","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Bpl1WtsXDA"}],"identifier":"plot-the-mean-ndvi-of-the-selected-field-over-the-date-range","label":"Plot the mean NDVI of the selected field over the date range","html_id":"plot-the-mean-ndvi-of-the-selected-field-over-the-date-range","implicit":true,"key":"YFIdgiFuK3"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Now our data is ready, we can plot it in steps.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"UJsoSxRmCN"}],"key":"KRaMQZzOda"}],"key":"KHMRXf1aed"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"def plot_timeline(step=1):\n    \"\"\"Plot timeline.\"\"\"\n    \n    # Check step value\n    if (step \u003c 1 or step \u003e4):\n        raise ValueError(\"Step out of range 1-4\")\n        \n    # Setup subplots\n    fig = plt.figure(figsize=(18,14))\n    gs = fig.add_gridspec(2, 2)\n    ax = fig.add_subplot(gs[1, :])\n    ax2 = fig.add_subplot(gs[0, 0])\n    ax2.set_title('gs[1, :-1]')\n    ax3 = fig.add_subplot(gs[0, 1])\n    ax3.set_title('gs[1, :-1]')\n\n    ###########\n    # 1. Plot the rasters of the field as a reminder\n    show(raster_before, ax=ax2)\n    ax2.set_title(dt.strftime(available_datetimes[before_ind], \"%Y-%m-%d\"))\n    show(raster_after, ax=ax3)\n    ax3.set_title(dt.strftime(available_datetimes[after_ind], \"%Y-%m-%d\"))\n\n    # 2. Plot the mean NDVI until the deforestation\n    ndvi_df.plot(x='date', y='mean', ax=ax, linestyle='-', marker='.', label=r\"Mean NDVI of the field $\\pm 1\\sigma$\" )\n\n    # Plot the standard deviation as a shaded area\n    ax.fill_between(ndvi_df.date,\n                    (ndvi_df[\"mean\"] - ndvi_df[\"stDev\"]),\n                    (ndvi_df[\"mean\"] + ndvi_df[\"stDev\"]),\n                    alpha=0.3)\n\n    # Highlight before and after dates\n    ax.scatter([\"2017-12-31\", \"2018-02-04\"], [ndvi_df[ndvi_df[\"date\"]==\"2017-12-31\"][\"mean\"], ndvi_df[ndvi_df[\"date\"]==\"2018-02-04\"][\"mean\"]], marker=\"o\", s=65, color=\"red\")\n\n    ###########\n    if step \u003e= 2:\n        # 2. Plot period after the identified deforestation event\n        ndvi_df_updated.plot(x='date', y='mean', ax=ax, linestyle='-', marker='.',\n                             color=\"indianred\", label=\"Period after deforestation\" )\n        ax.fill_between(ndvi_df_updated.date, ndvi_df_updated[\"mean\"] - ndvi_df_updated[\"stDev\"],\n                        ndvi_df_updated[\"mean\"] + ndvi_df_updated[\"stDev\"],\n                        alpha=0.3, color=\"indianred\")\n\n    ###########\n    if step \u003e= 3:\n        # 3. Plot dry season months\n        ax.fill_between((\"2015-08-01\", \"2015-10-30\"), (0,0), (1,1), color=\"lightgrey\", alpha=0.7)\n        ax.fill_between((\"2016-08-01\", \"2016-10-30\"), (0,0), (1,1), color=\"lightgrey\", alpha=0.7)\n        ax.fill_between((\"2017-08-01\", \"2017-10-30\"), (0,0), (1,1), color=\"lightgrey\", alpha=0.7)\n        ax.fill_between((\"2018-08-01\", \"2018-10-30\"), (0,0), (1,1), color=\"lightgrey\", alpha=0.7)\n        ax.fill_between((\"2019-08-01\", \"2019-10-30\"), (0,0), (1,1), color=\"lightgrey\", alpha=0.7)\n        ax.fill_between((\"2020-08-01\", \"2020-10-30\"), (0,0), (1,1), color=\"lightgrey\", alpha=0.7)\n\n    ###########\n    if step == 4:\n        # 4. Plot forest patch NDVI\n        forest_df.plot(x='date', y='mean', ax=ax, linestyle='-', marker='.', color=\"forestgreen\", label=\"Patch of forest close to AOI\" )\n    \n    # Plot configuration\n    ax.legend()\n    ax.set_ylabel(\"NDVI\")\n    ax.set_xlabel(\"Date\")\n    ax.set_ylim(0, 1)\n\n    ax.tick_params(axis='both', direction='inout', )\n    ax.xaxis.set_major_locator(mdates.MonthLocator(interval=2))\n    ax.yaxis.set_major_locator(plt.MultipleLocator(0.1))\n    ax.yaxis.set_ticks_position(\"both\")\n\n    for axs in [ax2, ax3]:\n        field.plot(ax=axs, edgecolor=\"red\", facecolor=\"none\", linewidth=2)\n        axs.set_xticks([])\n        axs.set_yticks([])\n\n    plt.show()","key":"V3zsDICXhl"},{"type":"output","id":"qiGxW8JfJQk1rT9Rukm8f","data":[],"key":"BXmlhacIz9"}],"key":"ap7dNICqrU"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LN1JS0jFcG"}],"identifier":"plot-the-data","label":"Plot the data","html_id":"plot-the-data","implicit":true,"key":"RVA4L7MJf8"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Plot the time series by changing the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ItrsiuMIba"},{"type":"inlineCode","value":"step","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"uFnQ3flk8z"},{"type":"text","value":" parameter incresingly from 1 to 4, and observe the graph at each step\u003e","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MYanzwcdcl"}],"key":"d9gqk2CMR8"}],"key":"dU0uiWEfmE"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"plot_timeline(step=4)","key":"uMKDFk5l7V"},{"type":"output","id":"IU17hLJacJF20EMrRFh3n","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"bb177cbaccbf3a28cc6b6a339cb15948","path":"/build/bb177cbaccbf3a28cc6b6a339cb15948.png"},"text/plain":{"content":"\u003cFigure size 1800x1400 with 3 Axes\u003e","content_type":"text/plain"}}}],"key":"AX1H55GKCS"}],"key":"BVo31ABEn8"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Exploring time-series of satellite imagery with FIS is an easy way to understand the data without having to query dozens of images.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"j1zBnq1nJt"}],"key":"asEOw5YLyF"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"What does the time series of data tell us?","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Xat2K4IUvs"}],"key":"bR22nuAzw5"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Step 1:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"jpPcEAO7Ja"}],"key":"jR6XHyNXVP"}],"key":"yyjpezNMLh"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"The NDVI values have small variations over the years, but we notice a very sharp decrease at the time of the identified deforestation event (before and after deforestation are highlighted in red). Can this drop in NDVI be used to detect deforestation?","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"GMUz2bhXcD"}],"key":"TECjP8irmE"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Step 2:","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"N0IZR0nMCa"}],"key":"dw8rtQvufx"}],"key":"SldLF2fSA5"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"When looking at the entire time-series of our field until today, we notice large variations in NDVI, with high values followed by large drops. These trends represent cultivated fields that are harvested and cannot be differentiated from deforestation events.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"IGzM22uB7Y"}],"key":"GK0NWioI28"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"strong","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Step 3:","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"UeTX1JW2BA"}],"key":"UK6K937s8s"}],"key":"HgvZ9ZoOhC"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"If we shade the dry season each year, we can see that there is a drop in NDVI for forested areas. Furthermore, the harvesting period also corresponds to the dry season. We also notice more variation in the data outside of the dry season.","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"bWHPeB98Rg"}],"key":"YGBm4wkIo5"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"strong","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Step 4:","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"YDdbtXNbuj"}],"key":"LrKBx48Pn3"}],"key":"Cv3AaoDcqO"},{"type":"paragraph","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"By plotting the entire time-series of available Sentinel-2 data for a forested patch close the to the selected field, we can compare trends between forested areas and areas after deforestation then cultivation. We can also see that the drop in NDVI for the forest isn’t as pronounced during the dry season than for cultivated fields.","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"nYRyvQs6cr"}],"key":"NNoMzrokVP"},{"type":"paragraph","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"This graph, along with the previous plots, can provide hints on how to implement an automated workflow to detect a deforestation event, without confusing deforestation with harvesting. Maybe you have some ideas? If you want to explore the subject in more detail, you can run through the following “bonus” section...","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"q7MW4JXDh1"}],"key":"MbCOkXI3ik"}],"key":"l7SXJ4I0Es"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aHxNwMIRIY"}],"key":"MIaDLH2lRX"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"END OF GUIDED TUTORIAL","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"agD5DIHct5"}],"key":"OSGv4Xs8MJ"}],"key":"lS93LLrPPD"}],"key":"LofT3A4djk"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hniVLnrICD"}],"key":"RPfhymGuAh"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Bonus example: testing the implementation of an automated deforestation detection method using Sentinel-2 images","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DUCyraqqZ7"}],"identifier":"bonus-example-testing-the-implementation-of-an-automated-deforestation-detection-method-using-sentinel-2-images","label":"Bonus example: testing the implementation of an automated deforestation detection method using Sentinel-2 images","html_id":"bonus-example-testing-the-implementation-of-an-automated-deforestation-detection-method-using-sentinel-2-images","implicit":true,"key":"CrtAJ1xmLs"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"If you want to continue exploring test cases of Sentinel Hub services in the Euro Data Cube, the following cells show an example workflow that automatically detects deforestation events from Sentinel-2 images.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"kECxMXHIgb"}],"key":"FY9tOCS1j4"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"This empirical method was designed to showcase Sentinel hub features and probably only works locally. If you think of a better solution, don’t hesitate to implement it and share it with the World through the EDC Marketplace!","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ZyOOapJAoL"}],"key":"EAbzKhcUze"}],"key":"CBcaRpl1Qa"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"NDVI comparison before / after a deforestation event","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lDYAqImnk0"}],"identifier":"ndvi-comparison-before-after-a-deforestation-event","label":"NDVI comparison before / after a deforestation event","html_id":"ndvi-comparison-before-after-a-deforestation-event","implicit":true,"key":"xk9e4pEbOg"}],"key":"pTPimmP495"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In the previous graph, we have seen that even after a deforestation event, there are periods where the NDVI peaks, and is followed by a sharp drop.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hgauekiV3J"}],"key":"fYDioCjhK7"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"First, let’s inspect the difference between the maximum NDVI before the know deforestation date, and an other peak later on.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"D3iH328hI2"}],"key":"x37jhiw694"}],"key":"ilgj9ELBvY"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Looking at the graph we will compare the True Color and NDVI images of the selected field on ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Cd9eosB5XD"},{"type":"inlineCode","value":"2017-12-31","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"M5RLkMuIO5"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Zs7hnT6oIa"},{"type":"inlineCode","value":"2018-11-11","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"U0fzSzCua9"},{"type":"text","value":". We start by requesting a True Color RGB and NDVI band in the Evalscript.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EJ5XcMKuU7"}],"key":"Bocs7j9Bko"}],"key":"ne8cPiUtfV"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"evalscript_multi_response = \"\"\"\n//VERSION=3\n\nfunction setup() {\n  return {\n    input: [\"B02\", \"B03\", \"B04\", \"B08\"],\n    output: [{\n        id: \"truecolor\",\n        bands: 3\n        },\n        {\n        id: \"ndvi\",\n        bands: 1,\n        sampleType: SampleType.UINT16\n        }\n    ]\n  };\n}\n\nfunction evaluatePixel(sample) {\n  let ndvi = index(sample.B08, sample.B04);\n  \n  let gain = 3.5;\n  return {\"truecolor\": [gain * sample.B04, gain * sample.B03, gain * sample.B02],\n         \"ndvi\": [10000 * ndvi + 10000]};\n}\n\"\"\"","key":"alziGdJXfC"},{"type":"output","id":"pl2KfSo_Bpx6dXxCPGeom","data":[],"key":"P1aK9qwAb3"}],"key":"tlC40eKsUJ"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Note that we returned ndvi as ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"h411qmLwCQ"},{"type":"inlineCode","value":"UINT16","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YWGiQgJY9w"},{"type":"text","value":" with the following operation: ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"oc1ZnO5sNl"},{"type":"inlineCode","value":"[10000 * ndvi + 10000]","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JNmRJJncEG"}],"key":"zsivGP9apC"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"This trick reduces the size of the returned image, as well as the number of Processing Units used with Sentinel Hub’s process API. You can then convert the returned product back to floats by doing: ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"pgFPElm2cI"},{"type":"inlineCode","value":"ndvi_float = (ndvi - 10000.)/10000.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MTxPCAtYMR"}],"key":"CM08sAiyLV"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Of course, you can request the NDVI band as ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"zdzFWCe8WX"},{"type":"inlineCode","value":"FLOAT32","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"pgQIMasG0P"},{"type":"text","value":" directly if you wish.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"OrvuDdOGFw"}],"key":"W9QDgXpFTF"}],"key":"dTWlcqsGvR"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Set AOI bounding box for our example field and image size according to desired resolution\nresolution = 10\naoi_field = BBox(bbox=field.geometry.bounds.values.tolist()[0], crs=CRS.WGS84)\naoi_field_size = bbox_to_dimensions(aoi, resolution=resolution)","key":"a4YuDLN3t8"},{"type":"output","id":"kecRF6_a4Et_iqaNLMrvu","data":[],"key":"mWIJDMjLAz"}],"key":"rr9EAPGZrC"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In the next cell we create the request body in a loop for both dates and append the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LqIuWIgN6Y"},{"type":"inlineCode","value":"SentinelHubRequest","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"z89ixazfWI"},{"type":"text","value":" to a list.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YsE1tyNlpV"}],"key":"ZCbT8gAmqM"}],"key":"vaQTN8zr8R"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"date_list = [\"2017-12-31\", \"2018-11-11\"]\nrequests = []\n\nfor date in date_list:\n    requests.append(SentinelHubRequest(evalscript=evalscript_multi_response,\n                                       input_data=[SentinelHubRequest.input_data(data_collection=DataCollection.SENTINEL2_L2A,\n                                                                                 time_interval=(date,\n                                                                                                date))],\n                                responses=[SentinelHubRequest.output_response('truecolor', MimeType.TIFF),\n                                           SentinelHubRequest.output_response('ndvi', MimeType.TIFF)],\n                                bbox=aoi_field,  \n                                size=aoi_field_size,\n                                config=config))","key":"QoeE2T0iJg"},{"type":"output","id":"EsLWCpGwVF34EG0bVZs8Q","data":[],"key":"JjjRs2sB8m"}],"key":"jVcNgcfPAe"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Fetch the data for both requests\nt1 = requests[0].get_data()\nt2 = requests[1].get_data()","key":"OcVGKEg3Dl"},{"type":"output","id":"BL-DKTW0xJucztYJZJVU_","data":[],"key":"V7muJGmUJP"}],"key":"kh2ik2kZL3"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":5,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the True Color image and NDVI for the two selected dates","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Wb8wWketqK"}],"identifier":"plot-the-true-color-image-and-ndvi-for-the-two-selected-dates","label":"Plot the True Color image and NDVI for the two selected dates","html_id":"plot-the-true-color-image-and-ndvi-for-the-two-selected-dates","implicit":true,"key":"G6epXFW0Lb"}],"key":"scZXUBs1cx"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"fig = plt.figure(figsize=(16,14))\ngs = fig.add_gridspec(2, 2, width_ratios=(20, 20),wspace=0.1, hspace=0.1)\n\n# Setup subplots\nax = fig.add_subplot(gs[0, 0])\nax1 = fig.add_subplot(gs[0, 1])\nax3 = fig.add_subplot(gs[1, 0])\nax4 = fig.add_subplot(gs[1, 1])\n\n# Plot True Color images\nax.imshow(t1[0]['truecolor.tif'])\nax1.imshow(t2[0]['truecolor.tif'])\n\n# Plot NDVI (converting to floats)\nndvi_pl = ax3.imshow((t1[0]['ndvi.tif'] - 10000.)/10000., cmap=\"Greens\", vmin=0, vmax=1)\nax4.imshow((t2[0]['ndvi.tif'] - 10000.)/10000., cmap=\"Greens\", vmin=0, vmax=1)\n\n# Plot configuration\nfor axs in [ax, ax1, ax3, ax4]:\n    axs.set_xticks([])\n    axs.set_yticks([])\n    \nax.set_ylabel(\"True Color RGB\")\nax3.set_ylabel(\"NDVI\")\nax.set_title(\"2017-12-11\")\nax1.set_title(\"2018-11-11\")\n\n# Setup colorbar\naxins = inset_axes(ax4, \n               width=\"5%\",  \n               height=\"100%\",  \n               loc='lower left',\n               bbox_to_anchor=(1.05, 0.0, 1, 1),\n               bbox_transform=ax4.transAxes,\n               borderpad=0,\n               )\n\ncb = fig.colorbar(ndvi_pl, cax=axins)\n\nplt.show()","key":"BQQkWGSnn6"},{"type":"output","id":"_FCTnhXBloeM9jBWmvCPG","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"9056164dab6c6859c214294cb0bd87d8","path":"/build/9056164dab6c6859c214294cb0bd87d8.png"},"text/plain":{"content":"\u003cFigure size 1600x1400 with 5 Axes\u003e","content_type":"text/plain"}}}],"key":"Q6LQBbSwxA"}],"key":"qHt33veZuu"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The above image shows that it is difficult to differenciate between forest and cultures. The NDVI values are also similar between crops and forest, even though a pattern in the cultivated field is visible. Nevertheless, the values are similar if averaged over the field.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nX2L8jNzZ5"}],"key":"ePCGOehK8l"}],"key":"IpMV6kEmCL"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Implementation of an empirical automated approach","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"u8hlZMQiwP"}],"identifier":"implementation-of-an-empirical-automated-approach","label":"Implementation of an empirical automated approach","html_id":"implementation-of-an-empirical-automated-approach","implicit":true,"key":"JCo5cqVfGJ"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Based on the graph of NDVI values over time, we saw that a drop in NDVI doesn’t always signify a deforestation event, and can also be linked to harvesting fields. We also saw in the plot above, that it is very difficult to differentiate the NDVi of forest and cultivated deforested parcels. However, the graph showed that the minimum NDVI observed during the dry season is higher for forested areas than for cultivated areas.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RCK7qxw9Z6"}],"key":"aI32WqPJn1"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Based on these observations we will design an algorithm that accounts for the following points:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"dWTKGqMz38"}],"key":"lPdEHMYHx3"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"We will loop through each available image (with less than 5% cloud cover) in a given period.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"fSXfA4XyjG"}],"key":"Ri5K4trkah"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"For each image, if the NDVI of the dry season preceding the date is higher than an arbitrary threshold, we consider that the pixel was forested the previous year.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"jQsYOPo1Xh"}],"key":"o1aJIqz9FF"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"If the pixel is considered as forested the previous year, we compare the difference in NDVI with the previous date in the time-series, looking for a large drop in NDVI. If we observe a drop (more than an arbitrary threshold), then we assume a deforestation event. However, a pixel can only be deforested once: only the first event in the time series is recorded.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"mTOjwRhWx6"}],"key":"st864Yo45J"}],"key":"i6mz0aCQDF"}],"key":"BVrte1mIcQ"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"First we will set a time period (three months for this example), then use the Catalog API to fetch the valid images over our area of interest (here the overall area defined at the beginning of the Jupyter Notebook.)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HO1OfqeHcf"}],"key":"AHkj7qoEHa"}],"key":"ENax3cTGPE"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Set start and end date of each period\nSTART_DATE = '2018-01-01'\nEND_DATE = '2018-03-31'\n\n# Query the period using Catalog API (if you get a token error, don't forget to request a new token higher up)\ncollections = \"sentinel-2-l1c\"\ndatetime= f\"{START_DATE}T00:00:00Z/{END_DATE}T23:59:59Z\"\n\n# Run the catalog request\nresponse = oauth.request(\"GET\", f\"https://services.sentinel-hub.com/api/v1/catalog/collections/{collections}/items?bbox={aoi_bbox[0]},{aoi_bbox[1]},{aoi_bbox[2]},{aoi_bbox[3]}\u0026datetime={datetime}\u0026limit=20\", headers=headers)\ncatalog_results = response.json()\n\n# Fetch the dates and cloud cover values\navailable_data = []\nfor entry in catalog_results[\"features\"]:\n    available_data.append((entry[\"properties\"][\"datetime\"], entry[\"properties\"][\"eo:cloud_cover\"]))\n\n# Make a list of dates for cloud_cover less than 5%\ncloud_free_dates = [x[0] for x in available_data if x[1] \u003c= 5]\n\n# Reverse to match Evalscript output\ncloud_free_dates.reverse()","key":"Es68xLAnYi"},{"type":"output","id":"V0fulAE-SLd1-MZE0CzJg","data":[],"key":"dR3ltimxO7"}],"key":"DIPMNKjFyl"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In the following Evalscript, we will request 4 data outputs for each available image in 2018:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ioXWruQ6qT"}],"key":"oJcbEdXY1A"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"B02 (Blue)","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"X4B3FATymC"}],"key":"f5BquW040t"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"B03 (Green)","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"vfw89px3Fa"}],"key":"Fr9ru7vJot"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"B04 (Red)","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Ei3HaOgpbA"}],"key":"S16PSNXB03"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"A binary product containing the “deforested” pixels (value = 1) for further processing.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"MPB4TEcLwB"}],"key":"rQCFhZGtDY"}],"key":"aaqdVoQyr9"}],"key":"FswOBuAJP3"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"deforestation_basic_evalscript = \"\"\"\n//VERSION=3\n\n// number of days with a valid image\nconst n_days = {number_days};\n\n\nfunction setup (){{\n  // Sentinel Hub's function that prepares inputs/outputs\n  return {{\n    input: [\n      // We need 2 datasources for S2L2A, because we are \n      // querying 2 different time ranges\n      {{datasource: \"l2a_winter\", bands:[\"B04\", \"B08\"]}},\n      {{datasource: \"l2a\", bands:[\"B02\", \"B03\", \"B04\", \"B08\"]}}],\n    output: [\n      {{id: \"deforestation_band\", bands: n_days , sampleType: \"UINT8\"}},\n      {{id: \"B02\", bands: n_days , sampleType: \"UINT16\"}},\n      {{id: \"B03\", bands: n_days , sampleType: \"UINT16\"}},\n      {{id: \"B04\", bands: n_days , sampleType: \"UINT16\"}}\n  ],\n  mosaicking: \"ORBIT\"\n  }};\n}}\n\n\nfunction evaluatePixel(samples, scenes) {{\n  // Sentinel Hub's function that processes the data\n  \n  var S2L2A_scenes = scenes.l2a.scenes;\n  var L2AW = samples.l2a_winter;\n  var S2L2A = samples.l2a;\n\n  // 1. Calculate the average NDVI in the winter of the previous year\n  var ndvi = 0;\n\n  for (var i = 0; i \u003c L2AW.length; i++) {{\n    ndvi += index(L2AW[i].B08, L2AW[i].B04);\n  }}\n\n  var avg_ndvi = ndvi / L2AW.length;\n    \n  // 2. Run through all the dates in 2018 and detect deforestation events\n\n  //  Initialise data\n  var cloudless_bands = {{'B02':new Array(n_days).fill(0),\n                         'B03':new Array(n_days).fill(0),\n                         'B04':new Array(n_days).fill(0),\n                         'representation':new Array(n_days).fill(0)}};\n                         \n  var count = 0;\n  var deforestation_sum = 0;\n  var deforestation = [];\n\n  for (var j = S2L2A.length-2; j \u003e= 0; j--){{\n    if (index(S2L2A[j+1].B08, S2L2A[j+1].B04) - index(S2L2A[j].B08, S2L2A[j].B04) \u003e 0.2){{\n      if (avg_ndvi \u003e= 0.35 \u0026\u0026 deforestation_sum == 0 \u0026\u0026 index(S2L2A[j].B08, S2L2A[j].B04) \u003c 0.4){{\n        deforestation.push(1);\n        deforestation_sum += 1;\n      }} else {{\n        deforestation.push(0);\n      }}\n    }} else{{\n      deforestation.push(0);\n    }}\n    // Fill bands with data\n    cloudless_bands['B02'][count] = S2L2A[j].B02 * 65535;\n    cloudless_bands['B03'][count] = S2L2A[j].B03 * 65535;\n    cloudless_bands['B04'][count] = S2L2A[j].B04 * 65535;\n    \n    count += 1;\n  }}\n  \n\n  return {{\"deforestation_band\": deforestation,\n          \"B02\": cloudless_bands.B02,\n          \"B03\": cloudless_bands.B03,\n          \"B04\": cloudless_bands.B04}};\n}}\n\"\"\"","key":"rSeur46Yw8"},{"type":"output","id":"1Sq3THfLUoPlqdDz-t493","data":[],"key":"lwO26xEmLj"}],"key":"w4eO4AkBvW"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In the follwing cell we build the request, and run it, saving the results to a file, since we want to open the files with rasterio to vectorise the results.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TMr4vM2Fyz"}],"key":"SxceyE2F5T"}],"key":"ptmbV5l9LF"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"request = SentinelHubRequest(\n  evalscript=deforestation_basic_evalscript.format(number_days=len(cloud_free_dates)-1),\n  input_data=[\n    SentinelHubRequest.input_data(\n      data_collection=DataCollection.SENTINEL2_L2A,\n      time_interval=(START_DATE, END_DATE),        \n      other_args = {\"dataFilter\":{\"maxCloudCoverage\":\"5\"},\"id\":\"l2a\"}\n    ),\n    SentinelHubRequest.input_data(\n      data_collection=DataCollection.SENTINEL2_L2A,\n      time_interval=('2017-08-01', '2017-10-01'),        \n      other_args = {\"dataFilter\":{\"maxCloudCoverage\":\"5\"},\"id\":\"l2a_winter\"}\n    ),\n    \n  ],\n  responses=[\n    SentinelHubRequest.output_response('deforestation_band', MimeType.TIFF),\n    SentinelHubRequest.output_response('B02', MimeType.TIFF),\n    SentinelHubRequest.output_response('B03', MimeType.TIFF),\n    SentinelHubRequest.output_response('B04', MimeType.TIFF),\n    \n  ],\n  bbox=aoi_overview,  \n  size=aoi_overview_size,\n  data_folder='./results/deforestation',\n\n  config=config\n)\nresponse = request.get_data(save_data=True) ","key":"CLMfu1geM9"},{"type":"output","id":"EST2_EkE2XTWYSibfOSQr","data":[],"key":"Kwfz9qPibn"}],"key":"NmAAtkpC0C"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The response is stored as a tar, so we need to decompress it.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WWDahW9NaI"}],"key":"zbx7OfWtzr"}],"key":"PdtVfl0vUh"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Fetch folder created in the destination directory\nfld_d = [f for f in Path(\"./results/deforestation/\").iterdir() if f.is_dir()][0]\n\n# Extract the tar file\nwith tarfile.open(fld_d.joinpath(\"response.tar\") , 'r') as tar:\n    tar.extractall(path=fld_d)","key":"yr14BAbpHp"},{"type":"output","id":"vldhR_FSCia94XxfGcHpO","data":[],"key":"YfJCBOu3oZ"}],"key":"hlgDEl8THG"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the automatically detected deforested areas on the RGB image","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VvxoAQq3Wu"}],"identifier":"plot-the-automatically-detected-deforested-areas-on-the-rgb-image","label":"Plot the automatically detected deforested areas on the RGB image","html_id":"plot-the-automatically-detected-deforested-areas-on-the-rgb-image","implicit":true,"key":"rNIfxGo70I"}],"key":"ICeDCJQ88d"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"For easier plotting we will define a function.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LzM0kEhsem"}],"key":"jmTGH84nWZ"}],"key":"eSFP61LJ8e"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"def plot_fields_RGB(r, g, b, fields, t=0, gain=2, alpha=0.5, title=None):\n    \n    rgb_stack = np.stack((r[:,:,t], g[:,:,t], b[:,:,t]), axis=2)\n    deforested_plots = np.ma.masked_where(fields[:,:,t] == 0, fields[:,:,t])\n\n\n    # make a color map of fixed colors\n    cmap = colors.ListedColormap(['red'])\n    bounds=[0,1]\n    norm = colors.BoundaryNorm(bounds, cmap.N)\n\n    fig, ax = plt.subplots(nrows=1, ncols=1, figsize=(20,20))\n    ax.imshow(rgb_stack * gain)\n    ax.imshow(deforested_plots, cmap=cmap, norm=norm, interpolation='none', alpha=alpha)\n    \n    # Plot configuration\n    ax.set_xticks([])\n    ax.set_yticks([])\n    \n    patches = [mpatches.Patch(color=\"red\", label=\"Deforested area\", alpha=0.9)]\n    plt.legend(handles=patches, loc=2)\n\n    ax.set_title(title)\n    plt.show()","key":"QIrEBrIf2Q"},{"type":"output","id":"g1MmdoReTfMNJnsPfesvR","data":[],"key":"SiwMaJBv6j"}],"key":"GAXbMqizcd"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Since we are running a per-pixel analysis in the Evalscript, noise may appear in the results. We have defined a function in the cell below that allows us to remove spurious pixels and return a “cleaner” result.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YMI5Pgi1MT"}],"key":"WjNfALZ4Se"}],"key":"OT2kzx1yZ4"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Clean deforestation band\ndef erode_dilate(array, size, dim=0):\n    \n    if dim \u003e= 1:\n        er = morphology.grey_erosion(array, size=(size, size, dim))\n        dil = morphology.grey_dilation(er, size=(size, size, dim))\n    else:\n        er = morphology.grey_erosion(array, size=(size, size))\n        dil = morphology.grey_dilation(er, size=(size, size))\n    \n    \n    return dil","key":"NJoRWxe2et"},{"type":"output","id":"K2JdsUx7e0CkEcJoj5ymt","data":[],"key":"xttkVbHc05"}],"key":"iI3FKMHWdB"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Fetch the responses from the returned variable and assign them to individual variables\n# The division by 65535 converts the UINT16 DN back to Reflectance\nB02 = response[0]['B02.tif'] / 65535\nB03 = response[0]['B03.tif'] / 65535\nB04 = response[0]['B04.tif'] / 65535\n\n# Clean the deforested array \ndeforest_raster = erode_dilate(response[0][\"deforestation_band.tif\"], 3, dim=1)\n\n# Free the returned variavle from our SentinelHub request\nresponse = None","key":"qTZgYtxQV4"},{"type":"output","id":"KS9rTUN4bHAXf2Kr-2Uqi","data":[],"key":"xhdcN6Q3bU"}],"key":"T0adbQEO5d"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Finally we can plot the data in the next cell. In the function below, ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZAQDJZkU0t"},{"type":"inlineCode","value":"t","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RpOyRncFZL"},{"type":"text","value":" corresponds to the time slice, ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hHVK1NqE6B"},{"type":"inlineCode","value":"gain","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"r32l04vpk2"},{"type":"text","value":" to the multiplication factor of the RGB image for visualisation, and we fetch the time step from the catalog API (the date corresponds to ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Ei6kc68VPJ"},{"type":"inlineCode","value":"t","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"W4F3Zmgs5N"},{"type":"text","value":" + 1, since we skip the first timestep in the Evalscript)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CgU7IVvXsn"}],"key":"utXUWGOQyR"}],"key":"oC8rZuU5nC"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Plot the RGB image for a date with the raster\nplot_fields_RGB(B04, B03, B02, deforest_raster, t = 0, gain=3, title=cloud_free_dates[1])","key":"Jz09b1HDWB"},{"type":"output","id":"eHTJ3dt8dadTA8y_fa5TE","data":[{"name":"stderr","output_type":"stream","text":"Clipping input data to the valid range for imshow with RGB data ([0..1] for floats or [0..255] for integers).\n"},{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"b704895ea24c1fe0a9fdd68e5996afbd","path":"/build/b704895ea24c1fe0a9fdd68e5996afbd.png"},"text/plain":{"content":"\u003cFigure size 2000x2000 with 1 Axes\u003e","content_type":"text/plain"}}}],"key":"vej0QQruQN"}],"key":"OjxGBRDLA5"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Convert results to polygons","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pDgbXnAj7w"}],"identifier":"convert-results-to-polygons","label":"Convert results to polygons","html_id":"convert-results-to-polygons","implicit":true,"key":"Hm1csVvfVi"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Now that we have saved the binary ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"KUQQJu4yOx"},{"type":"inlineCode","value":"deforestation","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"OXBVvEUXds"},{"type":"text","value":" raster locally, we can use ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QiogU1AMQR"},{"type":"inlineCode","value":"rasterio","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Pib43T63p7"},{"type":"text","value":" to convert the raster to polygons, in order to update the database that we queried at the start of this notebook.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"TA0AK3dItK"}],"key":"MN8lHaaFwh"}],"key":"Fex041CO03"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Open the deforestation band\ndeforestation_raw = []\ndeforestation_cleaned = []\n\nwith rasterio.open(fld_d.joinpath(\"deforestation_band.tif\")) as dataset:\n    # Loop over bands\n    for bnd in range(dataset.count):\n        dataset_band = dataset.read(bnd+1)\n       \n        # Clean the polygons with an erosion / dilation step\n        clean_defor = erode_dilate(dataset_band, 3)\n        \n        # Calculate polygons from both cleaned and raw rasters\n        raw_shapes = list(rasterio.features.shapes(dataset_band,\n                                                   transform=dataset.transform))\n        clean_shapes = list(rasterio.features.shapes(clean_defor,\n                                                     transform=dataset.transform))\n\n        raw_polygons = [shape(geom) for geom, value in raw_shapes if value == 1]\n        clean_polygons = [shape(geom) for geom, value in clean_shapes if value == 1]\n\n        # Make a multipolygon and conver to GeoSeries\n        deforestation_raw.append(geopandas.GeoSeries(unary_union(raw_polygons)))\n        deforestation_cleaned.append(geopandas.GeoSeries(unary_union(clean_polygons)))","key":"XNz4iKqZ8G"},{"type":"output","id":"as_GKRktgWMbuhXu2S6Kn","data":[],"key":"R2EbQU2zAA"}],"key":"lsbZRxBMBc"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s compare the polyons from the first time step to see how the cleaning step performs.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DYuPqM3icl"}],"key":"o7oRMCupNA"}],"key":"pG3QMu5v05"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(nrows=1, ncols=1, figsize=(18,12))\n\nraw = deforestation_raw[0].plot(ax=ax, color=\"red\", label=\"Raw deforestation detection band\")\nclean = deforestation_cleaned[0].plot(ax=ax, color=\"black\", label=\"Cleaned deforestation detection band\")\n\n# Plot configuration\nax.set_xlim(-60.20, -60.26)\nax.set_xticks([])\nax.set_yticks([])\nplt.show()","key":"tIPSx5TL3u"},{"type":"output","id":"pT3A69ckDqvd9M8A4fcOZ","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"c3b8848855d7547f18185884a2840410","path":"/build/c3b8848855d7547f18185884a2840410.png"},"text/plain":{"content":"\u003cFigure size 1800x1200 with 1 Axes\u003e","content_type":"text/plain"}}}],"key":"lIBz9rs4WZ"}],"key":"A7n0IxrlCA"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In the plot above, the raw deforestation polygons are plotted in red and the cleaned polygons in black. The erosion dilation step removes a lot of individual scattered pixels, but is a little too “agressive” in some of the plots. Nevertheless, most fields are correctly represented and noise is removed.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TK2xH1fale"}],"key":"gkWrtaAuZF"}],"key":"NWQblQRnc0"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"“Looping the loop”: adding the polygons back into a dataframe","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nnm78OFfpt"}],"identifier":"looping-the-loop-adding-the-polygons-back-into-a-dataframe","label":"“Looping the loop”: adding the polygons back into a dataframe","html_id":"looping-the-loop-adding-the-polygons-back-into-a-dataframe","implicit":true,"key":"UjzqwBZvqy"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Now we have a set of polygons representing deforestation, we can add them into our existing dataset.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ydTIkmxThP"}],"key":"KEGkk6tkfA"}],"key":"bkd1mKSiTj"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create a geopandas with our polygons\nrdf = geopandas.GeoDataFrame(pd.concat(deforestation_cleaned, ignore_index=True) )\n\n# Add metadata\nrdf[\"pais\"] = \"Paraguay\"\nrdf[\"prov_dep\"] = \"Boquerón\"\nrdf[\"date\"] = [x.split(\"T\")[0] for x in cloud_free_dates[1:]]\n\n# Rename the geometry column\nrdf.rename(columns={0: 'geometry'}, inplace=True)\n\n# Show the created geopandas\nrdf","key":"PELJYfl5AV"},{"type":"output","id":"66z5547iaK223m-AkgocN","data":[{"output_type":"execute_result","execution_count":72,"metadata":{},"data":{"text/html":{"content":"\u003cdiv\u003e\n\u003cstyle scoped\u003e\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n\u003c/style\u003e\n\u003ctable border=\"1\" class=\"dataframe\"\u003e\n  \u003cthead\u003e\n    \u003ctr style=\"text-align: right;\"\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003egeometry\u003c/th\u003e\n      \u003cth\u003epais\u003c/th\u003e\n      \u003cth\u003eprov_dep\u003c/th\u003e\n      \u003cth\u003edate\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003cth\u003e0\u003c/th\u003e\n      \u003ctd\u003eMULTIPOLYGON (((-60.21011 -21.21229, -60.20973...\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003e2018-02-09\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e1\u003c/th\u003e\n      \u003ctd\u003eMULTIPOLYGON (((-60.25718 -21.21229, -60.25709...\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003e2018-02-14\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e2\u003c/th\u003e\n      \u003ctd\u003eMULTIPOLYGON (((-60.12455 -21.19267, -60.12455...\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003e2018-02-24\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"                                            geometry      pais  prov_dep  \\\n0  MULTIPOLYGON (((-60.21011 -21.21229, -60.20973...  Paraguay  Boquerón   \n1  MULTIPOLYGON (((-60.25718 -21.21229, -60.25709...  Paraguay  Boquerón   \n2  MULTIPOLYGON (((-60.12455 -21.19267, -60.12455...  Paraguay  Boquerón   \n\n         date  \n0  2018-02-09  \n1  2018-02-14  \n2  2018-02-24  ","content_type":"text/plain"}}}],"key":"Fl1Yr4Gx3s"}],"key":"wNmALTOHoG"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now we have a correctly formatted ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AZgg0rvjAA"},{"type":"inlineCode","value":"geopandas","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gbAZQgpj0K"},{"type":"text","value":" Dataframe, we can append it to the database that we queried at the start of this tutorial.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FgctaLM1Nt"}],"key":"khw8yiPH4q"}],"key":"izPj9aTc4Q"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"gran_chaco_updated = gran_chaco.append(rdf)","key":"lNTaHkkQrF"},{"type":"output","id":"pcX9opyuuY1KRE-fAMBYu","data":[],"key":"GTaFLhxIba"}],"key":"jODX91z8lV"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Let's look at the updated dataframe\ngran_chaco_updated","key":"dpr501EXtL"},{"type":"output","id":"HPsfEIYDRR93qn5AWHzUn","data":[{"output_type":"execute_result","execution_count":74,"metadata":{},"data":{"text/html":{"content":"\u003cdiv\u003e\n\u003cstyle scoped\u003e\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n\u003c/style\u003e\n\u003ctable border=\"1\" class=\"dataframe\"\u003e\n  \u003cthead\u003e\n    \u003ctr style=\"text-align: right;\"\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003eid\u003c/th\u003e\n      \u003cth\u003ecreated_at\u003c/th\u003e\n      \u003cth\u003emodified_at\u003c/th\u003e\n      \u003cth\u003egeometry\u003c/th\u003e\n      \u003cth\u003eobjectid\u003c/th\u003e\n      \u003cth\u003efield_id\u003c/th\u003e\n      \u003cth\u003epais\u003c/th\u003e\n      \u003cth\u003eprov_dep\u003c/th\u003e\n      \u003cth\u003emunicipios\u003c/th\u003e\n      \u003cth\u003edate\u003c/th\u003e\n      \u003cth\u003eshape_leng\u003c/th\u003e\n      \u003cth\u003eshape_area\u003c/th\u003e\n      \u003cth\u003edatetime\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003cth\u003e0\u003c/th\u003e\n      \u003ctd\u003e9333.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:39.568135+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.26329 -21.27054, -60.26325 -21.2...\u003c/td\u003e\n      \u003ctd\u003e7784.0\u003c/td\u003e\n      \u003ctd\u003e9333.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2011-12-31\u003c/td\u003e\n      \u003ctd\u003e3203.541559\u003c/td\u003e\n      \u003ctd\u003e5.661000e+05\u003c/td\u003e\n      \u003ctd\u003e2011-12-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e1\u003c/th\u003e\n      \u003ctd\u003e9347.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:39.568135+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.26322 -21.23245, -60.26334 -21.2...\u003c/td\u003e\n      \u003ctd\u003e7798.0\u003c/td\u003e\n      \u003ctd\u003e9347.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2011-12-31\u003c/td\u003e\n      \u003ctd\u003e23061.565888\u003c/td\u003e\n      \u003ctd\u003e4.140725e+06\u003c/td\u003e\n      \u003ctd\u003e2011-12-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e2\u003c/th\u003e\n      \u003ctd\u003e40758.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:44.48827+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.26381 -21.25916, -60.26376 -21.2...\u003c/td\u003e\n      \u003ctd\u003e32303.0\u003c/td\u003e\n      \u003ctd\u003e40758.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2014-10-31\u003c/td\u003e\n      \u003ctd\u003e247.465000\u003c/td\u003e\n      \u003ctd\u003e1.491147e+03\u003c/td\u003e\n      \u003ctd\u003e2014-10-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e3\u003c/th\u003e\n      \u003ctd\u003e40763.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:44.48827+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.26370 -21.25423, -60.26392 -21.2...\u003c/td\u003e\n      \u003ctd\u003e32308.0\u003c/td\u003e\n      \u003ctd\u003e40763.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2014-10-31\u003c/td\u003e\n      \u003ctd\u003e156.980834\u003c/td\u003e\n      \u003ctd\u003e8.272126e+02\u003c/td\u003e\n      \u003ctd\u003e2014-10-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e4\u003c/th\u003e\n      \u003ctd\u003e40768.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:44.48827+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.26354 -21.24383, -60.26380 -21.2...\u003c/td\u003e\n      \u003ctd\u003e32313.0\u003c/td\u003e\n      \u003ctd\u003e40768.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2014-10-31\u003c/td\u003e\n      \u003ctd\u003e244.941473\u003c/td\u003e\n      \u003ctd\u003e2.648666e+03\u003c/td\u003e\n      \u003ctd\u003e2014-10-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e5\u003c/th\u003e\n      \u003ctd\u003e40770.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:44.48827+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.26355 -21.23751, -60.26350 -21.2...\u003c/td\u003e\n      \u003ctd\u003e32315.0\u003c/td\u003e\n      \u003ctd\u003e40770.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2014-10-31\u003c/td\u003e\n      \u003ctd\u003e258.094701\u003c/td\u003e\n      \u003ctd\u003e2.089448e+03\u003c/td\u003e\n      \u003ctd\u003e2014-10-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e6\u003c/th\u003e\n      \u003ctd\u003e58546.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:45.943354+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.19709 -21.20089, -60.19801 -21.2...\u003c/td\u003e\n      \u003ctd\u003e42365.0\u003c/td\u003e\n      \u003ctd\u003e58546.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2015-10-31\u003c/td\u003e\n      \u003ctd\u003e35369.274281\u003c/td\u003e\n      \u003ctd\u003e5.651093e+06\u003c/td\u003e\n      \u003ctd\u003e2015-10-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e7\u003c/th\u003e\n      \u003ctd\u003e58548.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:45.943354+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.17358 -21.19005, -60.17543 -21.1...\u003c/td\u003e\n      \u003ctd\u003e42365.0\u003c/td\u003e\n      \u003ctd\u003e58548.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2015-10-31\u003c/td\u003e\n      \u003ctd\u003e35369.274281\u003c/td\u003e\n      \u003ctd\u003e5.651093e+06\u003c/td\u003e\n      \u003ctd\u003e2015-10-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e8\u003c/th\u003e\n      \u003ctd\u003e66517.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:47.16828+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.23363 -21.25623, -60.24235 -21.2...\u003c/td\u003e\n      \u003ctd\u003e42700.0\u003c/td\u003e\n      \u003ctd\u003e66517.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2016-06-30\u003c/td\u003e\n      \u003ctd\u003e63232.505444\u003c/td\u003e\n      \u003ctd\u003e1.189560e+07\u003c/td\u003e\n      \u003ctd\u003e2016-06-30\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e9\u003c/th\u003e\n      \u003ctd\u003e66518.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:47.16828+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.23382 -21.26173, -60.25247 -21.2...\u003c/td\u003e\n      \u003ctd\u003e42700.0\u003c/td\u003e\n      \u003ctd\u003e66518.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2016-06-30\u003c/td\u003e\n      \u003ctd\u003e63232.505444\u003c/td\u003e\n      \u003ctd\u003e1.189560e+07\u003c/td\u003e\n      \u003ctd\u003e2016-06-30\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e10\u003c/th\u003e\n      \u003ctd\u003e68177.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:47.16828+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.23342 -21.26788, -60.23342 -21.2...\u003c/td\u003e\n      \u003ctd\u003e42806.0\u003c/td\u003e\n      \u003ctd\u003e68177.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2016-08-31\u003c/td\u003e\n      \u003ctd\u003e54236.171652\u003c/td\u003e\n      \u003ctd\u003e1.099213e+07\u003c/td\u003e\n      \u003ctd\u003e2016-08-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e11\u003c/th\u003e\n      \u003ctd\u003e68188.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:47.16828+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.23990 -21.26734, -60.25252 -21.2...\u003c/td\u003e\n      \u003ctd\u003e42806.0\u003c/td\u003e\n      \u003ctd\u003e68188.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2016-08-31\u003c/td\u003e\n      \u003ctd\u003e54236.171652\u003c/td\u003e\n      \u003ctd\u003e1.099213e+07\u003c/td\u003e\n      \u003ctd\u003e2016-08-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e12\u003c/th\u003e\n      \u003ctd\u003e68189.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:47.16828+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.22272 -21.27312, -60.23180 -21.2...\u003c/td\u003e\n      \u003ctd\u003e42806.0\u003c/td\u003e\n      \u003ctd\u003e68189.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2016-08-31\u003c/td\u003e\n      \u003ctd\u003e54236.171652\u003c/td\u003e\n      \u003ctd\u003e1.099213e+07\u003c/td\u003e\n      \u003ctd\u003e2016-08-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e13\u003c/th\u003e\n      \u003ctd\u003e69469.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:47.16828+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.23374 -21.26714, -60.23990 -21.2...\u003c/td\u003e\n      \u003ctd\u003e42911.0\u003c/td\u003e\n      \u003ctd\u003e69469.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2016-09-30\u003c/td\u003e\n      \u003ctd\u003e46417.194449\u003c/td\u003e\n      \u003ctd\u003e7.108902e+06\u003c/td\u003e\n      \u003ctd\u003e2016-09-30\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e14\u003c/th\u003e\n      \u003ctd\u003e69474.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:47.16828+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.23157 -21.26809, -60.23164 -21.2...\u003c/td\u003e\n      \u003ctd\u003e42911.0\u003c/td\u003e\n      \u003ctd\u003e69474.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2016-09-30\u003c/td\u003e\n      \u003ctd\u003e46417.194449\u003c/td\u003e\n      \u003ctd\u003e7.108902e+06\u003c/td\u003e\n      \u003ctd\u003e2016-09-30\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e15\u003c/th\u003e\n      \u003ctd\u003e70590.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:48.497587+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.23386 -21.25709, -60.23372 -21.2...\u003c/td\u003e\n      \u003ctd\u003e42965.0\u003c/td\u003e\n      \u003ctd\u003e70590.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2016-11-30\u003c/td\u003e\n      \u003ctd\u003e96005.066733\u003c/td\u003e\n      \u003ctd\u003e1.744413e+07\u003c/td\u003e\n      \u003ctd\u003e2016-11-30\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e16\u003c/th\u003e\n      \u003ctd\u003e70591.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:48.497587+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.24358 -21.25610, -60.25239 -21.2...\u003c/td\u003e\n      \u003ctd\u003e42965.0\u003c/td\u003e\n      \u003ctd\u003e70591.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2016-11-30\u003c/td\u003e\n      \u003ctd\u003e96005.066733\u003c/td\u003e\n      \u003ctd\u003e1.744413e+07\u003c/td\u003e\n      \u003ctd\u003e2016-11-30\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e17\u003c/th\u003e\n      \u003ctd\u003e75456.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:48.497587+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.21706 -21.27261, -60.22272 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43184.0\u003c/td\u003e\n      \u003ctd\u003e75456.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2017-03-31\u003c/td\u003e\n      \u003ctd\u003e284316.143820\u003c/td\u003e\n      \u003ctd\u003e4.828256e+07\u003c/td\u003e\n      \u003ctd\u003e2017-03-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e18\u003c/th\u003e\n      \u003ctd\u003e86719.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.17380 -21.19416, -60.16402 -21.1...\u003c/td\u003e\n      \u003ctd\u003e43679.0\u003c/td\u003e\n      \u003ctd\u003e86719.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2017-12-31\u003c/td\u003e\n      \u003ctd\u003e174512.220879\u003c/td\u003e\n      \u003ctd\u003e3.070367e+07\u003c/td\u003e\n      \u003ctd\u003e2017-12-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e19\u003c/th\u003e\n      \u003ctd\u003e86727.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.17478 -21.20611, -60.17436 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43679.0\u003c/td\u003e\n      \u003ctd\u003e86727.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2017-12-31\u003c/td\u003e\n      \u003ctd\u003e174512.220879\u003c/td\u003e\n      \u003ctd\u003e3.070367e+07\u003c/td\u003e\n      \u003ctd\u003e2017-12-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e20\u003c/th\u003e\n      \u003ctd\u003e86731.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.18514 -21.19408, -60.18514 -21.1...\u003c/td\u003e\n      \u003ctd\u003e43679.0\u003c/td\u003e\n      \u003ctd\u003e86731.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2017-12-31\u003c/td\u003e\n      \u003ctd\u003e174512.220879\u003c/td\u003e\n      \u003ctd\u003e3.070367e+07\u003c/td\u003e\n      \u003ctd\u003e2017-12-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e21\u003c/th\u003e\n      \u003ctd\u003e86738.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.16414 -21.20403, -60.16396 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43679.0\u003c/td\u003e\n      \u003ctd\u003e86738.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2017-12-31\u003c/td\u003e\n      \u003ctd\u003e174512.220879\u003c/td\u003e\n      \u003ctd\u003e3.070367e+07\u003c/td\u003e\n      \u003ctd\u003e2017-12-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e22\u003c/th\u003e\n      \u003ctd\u003e86742.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.17995 -21.19400, -60.17474 -21.1...\u003c/td\u003e\n      \u003ctd\u003e43679.0\u003c/td\u003e\n      \u003ctd\u003e86742.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2017-12-31\u003c/td\u003e\n      \u003ctd\u003e174512.220879\u003c/td\u003e\n      \u003ctd\u003e3.070367e+07\u003c/td\u003e\n      \u003ctd\u003e2017-12-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e23\u003c/th\u003e\n      \u003ctd\u003e86747.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.19185 -21.20799, -60.19147 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43679.0\u003c/td\u003e\n      \u003ctd\u003e86747.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2017-12-31\u003c/td\u003e\n      \u003ctd\u003e174512.220879\u003c/td\u003e\n      \u003ctd\u003e3.070367e+07\u003c/td\u003e\n      \u003ctd\u003e2017-12-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e24\u003c/th\u003e\n      \u003ctd\u003e86749.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.19158 -21.20394, -60.19156 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43679.0\u003c/td\u003e\n      \u003ctd\u003e86749.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2017-12-31\u003c/td\u003e\n      \u003ctd\u003e174512.220879\u003c/td\u003e\n      \u003ctd\u003e3.070367e+07\u003c/td\u003e\n      \u003ctd\u003e2017-12-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e25\u003c/th\u003e\n      \u003ctd\u003e88002.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.19158 -21.20394, -60.18492 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43800.0\u003c/td\u003e\n      \u003ctd\u003e88002.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.618180\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e26\u003c/th\u003e\n      \u003ctd\u003e88006.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.18432 -21.19408, -60.17995 -21.1...\u003c/td\u003e\n      \u003ctd\u003e43800.0\u003c/td\u003e\n      \u003ctd\u003e88006.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.618180\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e27\u003c/th\u003e\n      \u003ctd\u003e88018.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.17365 -21.20509, -60.17372 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43800.0\u003c/td\u003e\n      \u003ctd\u003e88018.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.618180\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e28\u003c/th\u003e\n      \u003ctd\u003e88019.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.16963 -21.21093, -60.16956 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43800.0\u003c/td\u003e\n      \u003ctd\u003e88019.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.618180\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e29\u003c/th\u003e\n      \u003ctd\u003e88022.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.19696 -21.20406, -60.19563 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43800.0\u003c/td\u003e\n      \u003ctd\u003e88022.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.618180\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e30\u003c/th\u003e\n      \u003ctd\u003e88024.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.18506 -21.20018, -60.18504 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43800.0\u003c/td\u003e\n      \u003ctd\u003e88024.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.618180\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e31\u003c/th\u003e\n      \u003ctd\u003e88025.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.19580 -21.21018, -60.19576 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43800.0\u003c/td\u003e\n      \u003ctd\u003e88025.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.618180\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e32\u003c/th\u003e\n      \u003ctd\u003e88028.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.17258 -21.19252, -60.17215 -21.1...\u003c/td\u003e\n      \u003ctd\u003e43800.0\u003c/td\u003e\n      \u003ctd\u003e88028.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.618180\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e33\u003c/th\u003e\n      \u003ctd\u003e88029.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.16966 -21.19277, -60.16953 -21.1...\u003c/td\u003e\n      \u003ctd\u003e43800.0\u003c/td\u003e\n      \u003ctd\u003e88029.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.618180\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e34\u003c/th\u003e\n      \u003ctd\u003e88030.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.19818 -21.20492, -60.19834 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43800.0\u003c/td\u003e\n      \u003ctd\u003e88030.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.618180\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e35\u003c/th\u003e\n      \u003ctd\u003e88032.0\u003c/td\u003e\n      \u003ctd\u003e2020-09-25T07:57:49.678146+00:00\u003c/td\u003e\n      \u003ctd\u003eNone\u003c/td\u003e\n      \u003ctd\u003ePOLYGON ((-60.17366 -21.20509, -60.17365 -21.2...\u003c/td\u003e\n      \u003ctd\u003e43800.0\u003c/td\u003e\n      \u003ctd\u003e88032.0\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eFILADELFIA\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n      \u003ctd\u003e74575.618180\u003c/td\u003e\n      \u003ctd\u003e1.049673e+07\u003c/td\u003e\n      \u003ctd\u003e2018-01-31\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e0\u003c/th\u003e\n      \u003ctd\u003eNaN\u003c/td\u003e\n      \u003ctd\u003eNaN\u003c/td\u003e\n      \u003ctd\u003eNaN\u003c/td\u003e\n      \u003ctd\u003eMULTIPOLYGON (((-60.21011 -21.21229, -60.20973...\u003c/td\u003e\n      \u003ctd\u003eNaN\u003c/td\u003e\n      \u003ctd\u003eNaN\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eNaN\u003c/td\u003e\n      \u003ctd\u003e2018-02-09\u003c/td\u003e\n      \u003ctd\u003eNaN\u003c/td\u003e\n      \u003ctd\u003eNaN\u003c/td\u003e\n      \u003ctd\u003eNaT\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e1\u003c/th\u003e\n      \u003ctd\u003eNaN\u003c/td\u003e\n      \u003ctd\u003eNaN\u003c/td\u003e\n      \u003ctd\u003eNaN\u003c/td\u003e\n      \u003ctd\u003eMULTIPOLYGON (((-60.25718 -21.21229, -60.25709...\u003c/td\u003e\n      \u003ctd\u003eNaN\u003c/td\u003e\n      \u003ctd\u003eNaN\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eNaN\u003c/td\u003e\n      \u003ctd\u003e2018-02-14\u003c/td\u003e\n      \u003ctd\u003eNaN\u003c/td\u003e\n      \u003ctd\u003eNaN\u003c/td\u003e\n      \u003ctd\u003eNaT\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e2\u003c/th\u003e\n      \u003ctd\u003eNaN\u003c/td\u003e\n      \u003ctd\u003eNaN\u003c/td\u003e\n      \u003ctd\u003eNaN\u003c/td\u003e\n      \u003ctd\u003eMULTIPOLYGON (((-60.12455 -21.19267, -60.12455...\u003c/td\u003e\n      \u003ctd\u003eNaN\u003c/td\u003e\n      \u003ctd\u003eNaN\u003c/td\u003e\n      \u003ctd\u003eParaguay\u003c/td\u003e\n      \u003ctd\u003eBoquerón\u003c/td\u003e\n      \u003ctd\u003eNaN\u003c/td\u003e\n      \u003ctd\u003e2018-02-24\u003c/td\u003e\n      \u003ctd\u003eNaN\u003c/td\u003e\n      \u003ctd\u003eNaN\u003c/td\u003e\n      \u003ctd\u003eNaT\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"         id                        created_at modified_at  \\\n0    9333.0  2020-09-25T07:57:39.568135+00:00        None   \n1    9347.0  2020-09-25T07:57:39.568135+00:00        None   \n2   40758.0   2020-09-25T07:57:44.48827+00:00        None   \n3   40763.0   2020-09-25T07:57:44.48827+00:00        None   \n4   40768.0   2020-09-25T07:57:44.48827+00:00        None   \n5   40770.0   2020-09-25T07:57:44.48827+00:00        None   \n6   58546.0  2020-09-25T07:57:45.943354+00:00        None   \n7   58548.0  2020-09-25T07:57:45.943354+00:00        None   \n8   66517.0   2020-09-25T07:57:47.16828+00:00        None   \n9   66518.0   2020-09-25T07:57:47.16828+00:00        None   \n10  68177.0   2020-09-25T07:57:47.16828+00:00        None   \n11  68188.0   2020-09-25T07:57:47.16828+00:00        None   \n12  68189.0   2020-09-25T07:57:47.16828+00:00        None   \n13  69469.0   2020-09-25T07:57:47.16828+00:00        None   \n14  69474.0   2020-09-25T07:57:47.16828+00:00        None   \n15  70590.0  2020-09-25T07:57:48.497587+00:00        None   \n16  70591.0  2020-09-25T07:57:48.497587+00:00        None   \n17  75456.0  2020-09-25T07:57:48.497587+00:00        None   \n18  86719.0  2020-09-25T07:57:49.678146+00:00        None   \n19  86727.0  2020-09-25T07:57:49.678146+00:00        None   \n20  86731.0  2020-09-25T07:57:49.678146+00:00        None   \n21  86738.0  2020-09-25T07:57:49.678146+00:00        None   \n22  86742.0  2020-09-25T07:57:49.678146+00:00        None   \n23  86747.0  2020-09-25T07:57:49.678146+00:00        None   \n24  86749.0  2020-09-25T07:57:49.678146+00:00        None   \n25  88002.0  2020-09-25T07:57:49.678146+00:00        None   \n26  88006.0  2020-09-25T07:57:49.678146+00:00        None   \n27  88018.0  2020-09-25T07:57:49.678146+00:00        None   \n28  88019.0  2020-09-25T07:57:49.678146+00:00        None   \n29  88022.0  2020-09-25T07:57:49.678146+00:00        None   \n30  88024.0  2020-09-25T07:57:49.678146+00:00        None   \n31  88025.0  2020-09-25T07:57:49.678146+00:00        None   \n32  88028.0  2020-09-25T07:57:49.678146+00:00        None   \n33  88029.0  2020-09-25T07:57:49.678146+00:00        None   \n34  88030.0  2020-09-25T07:57:49.678146+00:00        None   \n35  88032.0  2020-09-25T07:57:49.678146+00:00        None   \n0       NaN                               NaN         NaN   \n1       NaN                               NaN         NaN   \n2       NaN                               NaN         NaN   \n\n                                             geometry  objectid  field_id  \\\n0   POLYGON ((-60.26329 -21.27054, -60.26325 -21.2...    7784.0    9333.0   \n1   POLYGON ((-60.26322 -21.23245, -60.26334 -21.2...    7798.0    9347.0   \n2   POLYGON ((-60.26381 -21.25916, -60.26376 -21.2...   32303.0   40758.0   \n3   POLYGON ((-60.26370 -21.25423, -60.26392 -21.2...   32308.0   40763.0   \n4   POLYGON ((-60.26354 -21.24383, -60.26380 -21.2...   32313.0   40768.0   \n5   POLYGON ((-60.26355 -21.23751, -60.26350 -21.2...   32315.0   40770.0   \n6   POLYGON ((-60.19709 -21.20089, -60.19801 -21.2...   42365.0   58546.0   \n7   POLYGON ((-60.17358 -21.19005, -60.17543 -21.1...   42365.0   58548.0   \n8   POLYGON ((-60.23363 -21.25623, -60.24235 -21.2...   42700.0   66517.0   \n9   POLYGON ((-60.23382 -21.26173, -60.25247 -21.2...   42700.0   66518.0   \n10  POLYGON ((-60.23342 -21.26788, -60.23342 -21.2...   42806.0   68177.0   \n11  POLYGON ((-60.23990 -21.26734, -60.25252 -21.2...   42806.0   68188.0   \n12  POLYGON ((-60.22272 -21.27312, -60.23180 -21.2...   42806.0   68189.0   \n13  POLYGON ((-60.23374 -21.26714, -60.23990 -21.2...   42911.0   69469.0   \n14  POLYGON ((-60.23157 -21.26809, -60.23164 -21.2...   42911.0   69474.0   \n15  POLYGON ((-60.23386 -21.25709, -60.23372 -21.2...   42965.0   70590.0   \n16  POLYGON ((-60.24358 -21.25610, -60.25239 -21.2...   42965.0   70591.0   \n17  POLYGON ((-60.21706 -21.27261, -60.22272 -21.2...   43184.0   75456.0   \n18  POLYGON ((-60.17380 -21.19416, -60.16402 -21.1...   43679.0   86719.0   \n19  POLYGON ((-60.17478 -21.20611, -60.17436 -21.2...   43679.0   86727.0   \n20  POLYGON ((-60.18514 -21.19408, -60.18514 -21.1...   43679.0   86731.0   \n21  POLYGON ((-60.16414 -21.20403, -60.16396 -21.2...   43679.0   86738.0   \n22  POLYGON ((-60.17995 -21.19400, -60.17474 -21.1...   43679.0   86742.0   \n23  POLYGON ((-60.19185 -21.20799, -60.19147 -21.2...   43679.0   86747.0   \n24  POLYGON ((-60.19158 -21.20394, -60.19156 -21.2...   43679.0   86749.0   \n25  POLYGON ((-60.19158 -21.20394, -60.18492 -21.2...   43800.0   88002.0   \n26  POLYGON ((-60.18432 -21.19408, -60.17995 -21.1...   43800.0   88006.0   \n27  POLYGON ((-60.17365 -21.20509, -60.17372 -21.2...   43800.0   88018.0   \n28  POLYGON ((-60.16963 -21.21093, -60.16956 -21.2...   43800.0   88019.0   \n29  POLYGON ((-60.19696 -21.20406, -60.19563 -21.2...   43800.0   88022.0   \n30  POLYGON ((-60.18506 -21.20018, -60.18504 -21.2...   43800.0   88024.0   \n31  POLYGON ((-60.19580 -21.21018, -60.19576 -21.2...   43800.0   88025.0   \n32  POLYGON ((-60.17258 -21.19252, -60.17215 -21.1...   43800.0   88028.0   \n33  POLYGON ((-60.16966 -21.19277, -60.16953 -21.1...   43800.0   88029.0   \n34  POLYGON ((-60.19818 -21.20492, -60.19834 -21.2...   43800.0   88030.0   \n35  POLYGON ((-60.17366 -21.20509, -60.17365 -21.2...   43800.0   88032.0   \n0   MULTIPOLYGON (((-60.21011 -21.21229, -60.20973...       NaN       NaN   \n1   MULTIPOLYGON (((-60.25718 -21.21229, -60.25709...       NaN       NaN   \n2   MULTIPOLYGON (((-60.12455 -21.19267, -60.12455...       NaN       NaN   \n\n        pais  prov_dep  municipios        date     shape_leng    shape_area  \\\n0   Paraguay  Boquerón  FILADELFIA  2011-12-31    3203.541559  5.661000e+05   \n1   Paraguay  Boquerón  FILADELFIA  2011-12-31   23061.565888  4.140725e+06   \n2   Paraguay  Boquerón  FILADELFIA  2014-10-31     247.465000  1.491147e+03   \n3   Paraguay  Boquerón  FILADELFIA  2014-10-31     156.980834  8.272126e+02   \n4   Paraguay  Boquerón  FILADELFIA  2014-10-31     244.941473  2.648666e+03   \n5   Paraguay  Boquerón  FILADELFIA  2014-10-31     258.094701  2.089448e+03   \n6   Paraguay  Boquerón  FILADELFIA  2015-10-31   35369.274281  5.651093e+06   \n7   Paraguay  Boquerón  FILADELFIA  2015-10-31   35369.274281  5.651093e+06   \n8   Paraguay  Boquerón  FILADELFIA  2016-06-30   63232.505444  1.189560e+07   \n9   Paraguay  Boquerón  FILADELFIA  2016-06-30   63232.505444  1.189560e+07   \n10  Paraguay  Boquerón  FILADELFIA  2016-08-31   54236.171652  1.099213e+07   \n11  Paraguay  Boquerón  FILADELFIA  2016-08-31   54236.171652  1.099213e+07   \n12  Paraguay  Boquerón  FILADELFIA  2016-08-31   54236.171652  1.099213e+07   \n13  Paraguay  Boquerón  FILADELFIA  2016-09-30   46417.194449  7.108902e+06   \n14  Paraguay  Boquerón  FILADELFIA  2016-09-30   46417.194449  7.108902e+06   \n15  Paraguay  Boquerón  FILADELFIA  2016-11-30   96005.066733  1.744413e+07   \n16  Paraguay  Boquerón  FILADELFIA  2016-11-30   96005.066733  1.744413e+07   \n17  Paraguay  Boquerón  FILADELFIA  2017-03-31  284316.143820  4.828256e+07   \n18  Paraguay  Boquerón  FILADELFIA  2017-12-31  174512.220879  3.070367e+07   \n19  Paraguay  Boquerón  FILADELFIA  2017-12-31  174512.220879  3.070367e+07   \n20  Paraguay  Boquerón  FILADELFIA  2017-12-31  174512.220879  3.070367e+07   \n21  Paraguay  Boquerón  FILADELFIA  2017-12-31  174512.220879  3.070367e+07   \n22  Paraguay  Boquerón  FILADELFIA  2017-12-31  174512.220879  3.070367e+07   \n23  Paraguay  Boquerón  FILADELFIA  2017-12-31  174512.220879  3.070367e+07   \n24  Paraguay  Boquerón  FILADELFIA  2017-12-31  174512.220879  3.070367e+07   \n25  Paraguay  Boquerón  FILADELFIA  2018-01-31   74575.618180  1.049673e+07   \n26  Paraguay  Boquerón  FILADELFIA  2018-01-31   74575.618180  1.049673e+07   \n27  Paraguay  Boquerón  FILADELFIA  2018-01-31   74575.618180  1.049673e+07   \n28  Paraguay  Boquerón  FILADELFIA  2018-01-31   74575.618180  1.049673e+07   \n29  Paraguay  Boquerón  FILADELFIA  2018-01-31   74575.618180  1.049673e+07   \n30  Paraguay  Boquerón  FILADELFIA  2018-01-31   74575.618180  1.049673e+07   \n31  Paraguay  Boquerón  FILADELFIA  2018-01-31   74575.618180  1.049673e+07   \n32  Paraguay  Boquerón  FILADELFIA  2018-01-31   74575.618180  1.049673e+07   \n33  Paraguay  Boquerón  FILADELFIA  2018-01-31   74575.618180  1.049673e+07   \n34  Paraguay  Boquerón  FILADELFIA  2018-01-31   74575.618180  1.049673e+07   \n35  Paraguay  Boquerón  FILADELFIA  2018-01-31   74575.618180  1.049673e+07   \n0   Paraguay  Boquerón         NaN  2018-02-09            NaN           NaN   \n1   Paraguay  Boquerón         NaN  2018-02-14            NaN           NaN   \n2   Paraguay  Boquerón         NaN  2018-02-24            NaN           NaN   \n\n     datetime  \n0  2011-12-31  \n1  2011-12-31  \n2  2014-10-31  \n3  2014-10-31  \n4  2014-10-31  \n5  2014-10-31  \n6  2015-10-31  \n7  2015-10-31  \n8  2016-06-30  \n9  2016-06-30  \n10 2016-08-31  \n11 2016-08-31  \n12 2016-08-31  \n13 2016-09-30  \n14 2016-09-30  \n15 2016-11-30  \n16 2016-11-30  \n17 2017-03-31  \n18 2017-12-31  \n19 2017-12-31  \n20 2017-12-31  \n21 2017-12-31  \n22 2017-12-31  \n23 2017-12-31  \n24 2017-12-31  \n25 2018-01-31  \n26 2018-01-31  \n27 2018-01-31  \n28 2018-01-31  \n29 2018-01-31  \n30 2018-01-31  \n31 2018-01-31  \n32 2018-01-31  \n33 2018-01-31  \n34 2018-01-31  \n35 2018-01-31  \n0         NaT  \n1         NaT  \n2         NaT  ","content_type":"text/plain"}}}],"key":"Sutvzn5VMj"}],"key":"XTBa2ErUnT"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In this example we only filled out basic information, in the previous steps, you can calculate more of the parameters listed in the table. For now, let’s compare the polygons in the original dataset, with those in the updated dataset.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tS4VqCRo71"}],"key":"W8qRsDbe0t"}],"key":"lBkkdCCeLJ"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, (ax, ax2) = plt.subplots(nrows=1, ncols=2, figsize=(18,12))\n\n# Plot  datasets\ngran_chaco.plot(ax=ax)\ngran_chaco_updated.plot(ax=ax2)\n\nplt.show()","key":"OYcMLwkHKA"},{"type":"output","id":"BzKdxRcZGjTI8KYZfVAp0","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"bf8383c592374cadea215ca9c670d210","path":"/build/bf8383c592374cadea215ca9c670d210.png"},"text/plain":{"content":"\u003cFigure size 1800x1200 with 2 Axes\u003e","content_type":"text/plain"}}}],"key":"X2N0epZXMM"}],"key":"F4vzjrehAE"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We can see that we have detected more deforestation events in February and March 2018, a promising result. To share the dataset using geoDB, please refer to the free tutorial Jupyter Notebooks in the Marketplace.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zFqCYGdh9y"}],"key":"jSyRwJFjTT"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"As mentioned earlier, this basic approach is empirical and may not be robust for different areas/time of year. The goal was to get you started in creating your own scripts, and we hope to see new exciting algorithms in EDC...","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"SAxLKIZgfc"}],"key":"izcTR5NAyb"}],"key":"ISZMJZAJhX"}],"key":"pbR3BZVn0v"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"GPU-Support on EOxHub","url":"/external-notebooks/eurodatacube/notebooks/notebooks/contributions/gpu-support-eoxhub","group":"Contributions"},"next":{"title":"How To: Land-Use-Land-Cover Prediction for Slovenia - using the Batch Processing API","url":"/external-notebooks/eurodatacube/notebooks/notebooks/contributions/howtolulc-batch-updated-210621","group":"Contributions"}}},"domain":"http://localhost:3000"},"project":{"github":"https://github.com/eoxhub-workspaces/documentation/","id":"5aa0318b-5bc1-41e2-b1d4-053e8b61961b","exports":[],"bibliography":[],"title":"Location for eodashboard notebooks","index":"readme","pages":[{"title":"External Notebooks","level":1},{"title":"Eurodatacube","level":2},{"title":"Notebooks","level":3},{"slug":"external-notebooks.eurodatacube.notebooks.readme","title":"Jupyter notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Notebooks","level":4},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.readme","title":"Euro Data Cube Notebooks","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":5},{"title":"Contributions","level":5},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-ai4arctic-sea-ice","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-biomass-forest-observation-sys","title":"AIREO pilot dataset - Biomass (Forest Observation System)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-cap","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aireo-pilot-dataset-spacenet7","title":"Introduction","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.aot-covid19","title":"Aerosol Optical Thickness (AOT) Anomaly Detection Using Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.batch-zarr-output","title":"Generating Zarr data cubes with Sentinel Hub Batch API","description":"","date":"","thumbnail":"/build/68dffbf744fa42f4bf3d35e55684984e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.client-side-processing-using-mass-sh","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.cmems-data-download","title":"Cmems Data Download","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.detect-trucks-sentinel2","title":"Detect Trucks using Sentinel-2 data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.drought-monitoring","title":"Drought impact monitoring platform","description":"","date":"","thumbnail":"/build/ad5c19782b006f72352ae57794305840.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-africa-cube-africa-custom-contest","title":"Custom Script Contest – Urban Growth in Africa","description":"","date":"","thumbnail":"/build/e9275f3fe80a704e2f5aa1ec1220e48a.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-byoc-tutorial","title":"How to bring your own data to EDC: Using Sentinel Hub Python package","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-demo-phi-week-v2","title":"xcube-gen and xcube-geodb Hands-On Workshop Φ-Week 2020","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-geodb-4-eurocrops-demo","title":"Demonstration of Eurocrops data use in geoDB","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-notebook-lstm","title":"South Africa Crop Type Classification on Euro Data Cube (EDC)","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.edc-usecase-lpis-crop-type-classification","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.eurocrops-crop-classification-example","title":"Crop-classification using Sentinel-2 time-series","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.ghsl-urban-delineation","title":"\u003cb\u003eUrban delineation\u003cb\u003e","description":"","date":"","thumbnail":"/build/7bbf545a5eae1d9ebdb91ae42b261063.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.globalearthmonitor-example","title":"Pre-requisites","description":"","date":"","thumbnail":"/build/205c1ded6bd59771975a9fbd3753fd3b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.gpu-support-eoxhub","title":"GPU-Support on EOxHub","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.gran-chaco-phiweek","title":"ESA EO \\phi- week 2020","description":"","date":"","thumbnail":"/build/80cee7db6cdc7002ceedda5689f889fa.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.howtolulc-batch-updated-210621","title":"How To: Land-Use-Land-Cover Prediction for Slovenia - using the Batch Processing API","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.lpis-lulc-slo","title":"LPIS Use Case for Land Use / Land Cover Classification","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.lps2022-leverage-euro-data-cube-services","title":"Living Planet Symposium 2022 Training Session","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.no2-analysis-covid19-lockdowns","title":"Impact of Covid19 induced lockdown on NO2 levels","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.no2-so2-trend-veda-api-igarss-2023","title":"Using the NASA VEDA EOAPI","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.ogc-edc","title":"Important notes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.openeo-client-demo","title":"openEO Client Demo","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.race-finishedgoodsinventory-inidcator","title":"Finished Goods Inventory indicator for RACE","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.third-party-planetscope","title":"Third Party Data Import - PlanetScope","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.xcube-access-datasets","title":"Using xcube to access non-commercial and commercial data sets","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.xcube-viewer-as-a-service-in-edc1","title":"Visualizing data with xcube viewer in EuroDataCube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-evaluation-workshop","title":"DAPA Evaluation Workshop: Introduction \u0026 Documentation","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-1-cube-sentinel-2","title":"DAPA Tutorial #1: Cube - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-2-area-sentinel-2","title":"DAPA Tutorial #2: Area - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-3-timeseries-sentinel-2","title":"DAPA Tutorial #3: Timeseries - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-4-value-sentinel-2","title":"DAPA Tutorial #4: Value - Sentinel-2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.dapa.dapa-tutorial-5-dem","title":"DAPA Tutorial #5: DEM","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.fairicube.fairicube-data-access-demonstration","title":"EDC Sentinel Hub - data access using xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-australian-bushfires","title":"Australian Bushfires","description":"","date":"","thumbnail":"/build/ab194b4f8c40a2b9d64d8a85e37ce1fd.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":["IGARSS-22","EO Dashboard"],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-data-access","title":"Data Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-detect-trucks-sentinel2","title":"Truck Detection Exercise","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-lockdown-in-venice","title":"Environmental Impacts of Lockdown in Venice, Italy during 2020","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-nasa-api-lockdown-in-venice","title":"Lockdown in Venice","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-no2-timeseries-analysis","title":"NO2 timeseries analysis","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.igarss2022.igarss-22-timeseries-stac-api-single-vs-multi","title":"Time series using STAC API statistics endpoints","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Curated","level":5},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.access-iacs-data","title":"How to access IACS Spatial Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-access-cci-data","title":"Access CCI data with xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-first-steps","title":"First steps on the Euro Data Cube platform","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-1-manage-datasets-v11","title":"Manage Collections in your GeoDB","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-2-explore-datasets-2","title":"Exploring Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-3-share-datasets1","title":"Sharing Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-geodb-access-urban-atlas-data-v1","title":"[xcube-geodb] How to accesss EEA Urban Atlas Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-data-access","title":"EDC Sentinel Hub - data access using xcube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinelhub-datafusion-basic","title":"EDC Sentinel Hub: Data Fusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinelhub-datafusion-ndvi","title":"EDC Sentinel Hub: Data Fusion","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-datasets","title":"EDC Sentinel Hub - using xcube to access different data sets in Sentinel Hub","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-setup","title":"Setup for EDC core API access using xcube client library","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-sentinel-hub-xcube-integration","title":"EDC Sentinel Hub - XCUBE integration","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.edc-usecase-ndvi-timeline","title":"NDVI timeline","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.eo-learn","title":"Using eo-learn in EDC: a starter’s guide.","description":"","date":"","thumbnail":"/build/5a1f8475f0c3652f4630d03d72891b98.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.esdl-edc-v0-2","title":"Earth System Data Lab Tutorial @ Euro Data Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.exploring-time-and-space-with-edc","title":"Exploring Time and Space: A guide to accessing, analysing and visualising data in the Euro Data Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.how-to-access-dem-data-through-sentinel-hub-api","title":"How to access DEM data through Sentinel Hub API","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.eurodatacube.notebooks.notebooks.curated.sentinelhub-py","title":"Using Sentinel Hub Process API in EDC: a starter’s guide.","description":"","date":"","thumbnail":"/build/01e22903839391bc356ac886ec2b2fa7.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"Notebooks","level":1},{"slug":"notebooks.example1","title":"📘 Example Notebook 1","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.example2","title":"📘 Example Notebook 2","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/build/manifest-B4831781.js";
import * as route0 from "/build/root-QGLRP2PL.js";
import * as route1 from "/build/routes/$-7JYT5576.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/build/entry.client-UNPC4GT3.js");</script></body></html>