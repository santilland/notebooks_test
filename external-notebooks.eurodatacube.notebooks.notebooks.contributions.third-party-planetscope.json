{"version":1,"kind":"Notebook","sha256":"0cc0813ec1209b605be7bcbe031abc55b3ebed58c08bf877218912ea99db01e4","slug":"external-notebooks.eurodatacube.notebooks.notebooks.contributions.third-party-planetscope","location":"/external_notebooks/eurodatacube/notebooks/notebooks/contributions/Third-party_PlanetScope.ipynb","dependencies":[],"frontmatter":{"title":"Third Party Data Import - PlanetScope","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"Python 3","language":"python"},"github":"https://github.com/eoxhub-workspaces/documentation/","numbering":{"title":{"offset":5}},"edit_url":"https://github.com/eoxhub-workspaces/documentation//blob/main/external_notebooks/eurodatacube/notebooks/notebooks/contributions/Third-party_PlanetScope.ipynb","exports":[{"format":"ipynb","filename":"Third-party_PlanetScope.ipynb","url":"/notebooks_test/build/Third-party_PlanetSc-b6dad90c09c45d5c23b6b42cb777d9a9.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"This Jupyter Notebook demonstrates how to import ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Y36a9LfsHp"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"PlanetScope","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ma4iu2QNN7"}],"key":"dZmcA8p9oo"},{"type":"text","value":" data into Sentinel Hub and then access it.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UdbVxaszag"}],"key":"AnkYVZzoxE"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We will use ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"p4NBu1lIZZ"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Simple search","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"bdyuOd6BL2"}],"key":"NeDtaXcClh"},{"type":"text","value":" and ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"NEQLIhFE8e"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Order products","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jjenaNepzS"}],"key":"owEMMD8lzQ"},{"type":"text","value":" APIs[1].","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"sYCWG1qCM9"}],"key":"IYuAKs5zvW"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Useful links:","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"REC8LrGZ9r"},{"type":"break","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"eeTMvKLExc"},{"type":"text","value":"[1] ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"lFpDcu8w7g"},{"type":"link","url":"https://docs.sentinel-hub.com/api/latest/#/DATA_IMPORT_API/README","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"TPDI API documentation","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"VaDeSp15gW"}],"urlSource":"https://docs.sentinel-hub.com/api/latest/#/DATA_IMPORT_API/README","key":"PWEKtrTd71"},{"type":"break","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"UJcOUZ0mOB"},{"type":"text","value":"[2] ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"XKwKd0qo5o"},{"type":"link","url":"https://docs.sentinel-hub.com/api/latest/reference/#tag/dataimport_planet","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"TPDI API reference (Swagger documentation)","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"MSE5NYKses"}],"urlSource":"https://docs.sentinel-hub.com/api/latest/reference/#tag/dataimport_planet","key":"Sf2Iwf8Stl"},{"type":"break","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"vqHA8vXL7O"},{"type":"text","value":"[3] ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"i8slsJ9Wva"},{"type":"link","url":"https://docs.sentinel-hub.com/api/latest/#/data/PlanetScope","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"About PlanetScope data","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"BI43OJ2RhU"}],"urlSource":"https://docs.sentinel-hub.com/api/latest/#/data/PlanetScope","key":"TCBA0CxtVG"}],"key":"cEBSK3FMrU"}],"key":"xTMDcZX2s4"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Imports and credentials","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"E2hLVlIrcl"}],"identifier":"imports-and-credentials","label":"Imports and credentials","html_id":"imports-and-credentials","implicit":true,"key":"ORyyANaaxG"}],"key":"ppjahKhdvg"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"To run this JN, you will need:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"msr1cApvDE"}],"key":"tZvxhuGKV3"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":2,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"SH crednetinal (client_id and client_secret)","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"CGq9YBgu0O"}],"key":"ZJlNCkYvHF"},{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Planet’s APi key (PLANET_API_KEY)","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"mT7X7zEanw"}],"key":"GEz1OmiRt4"}],"key":"fehXiQeD7d"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"If you are running the JN ouside of EDC JupyterHub (e.g., localy) you will have to provide these credentials manually in a cell starting with “# Credentials”.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"C8Szo0xHRQ"}],"key":"NxJc9NJYV7"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"If you are running the JN on EDC JupyterHub and have activated an EDC SH subscription, you only need to provide your Planet API key.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"WIOsXJV6Kc"}],"key":"BqKDoGvz39"}],"key":"IRBfGSiQUV"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"from edc import setup_environment_variables\nsetup_environment_variables()","key":"pBrHRsPtWv"},{"type":"output","id":"vujlwlwj3pSXCEC3tz-xN","data":[{"output_type":"display_data","metadata":{},"data":{"text/markdown":{"content":"API credentials have automatically been injected for your active subscriptions.  \nThe following environment variables are now available:\n* `SH_INSTANCE_ID`\n* `SH_CLIENT_ID`\n* `SH_CLIENT_SECRET`\n* `SH_CLIENT_NAME`\n* `GEODB_API_SERVER_URL`\n* `GEODB_AUTH_CLIENT_ID`\n* `GEODB_AUTH_AUD`\n* `GEODB_AUTH_CLIENT_SECRET`\n* `GEODB_API_SERVER_PORT`\n* `GEODB_AUTH_DOMAIN`\n","content_type":"text/markdown"},"text/plain":{"content":"<IPython.core.display.Markdown object>","content_type":"text/plain"}}}],"key":"VbuRf1cyzj"}],"key":"DecAzxPJXW"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Credentials\nclient_id = %env SH_CLIENT_ID\nclient_secret = %env SH_CLIENT_SECRET\nPLANET_API_KEY = %env MY_PLANET_API_KEY","key":"c7kqHzEkVg"},{"type":"output","id":"oKCgO2nRJK6zXVDJE2QNc","data":[],"key":"ZtraioKUoa"}],"key":"w0HByg2pRP"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"import requests \nimport json\nfrom oauthlib.oauth2 import BackendApplicationClient\nfrom requests_oauthlib import OAuth2Session\nimport os\nimport datetime\nimport dateutil.parser\n\n# Create a session\nclient = BackendApplicationClient(client_id=client_id)\noauth = OAuth2Session(client=client)\n\n\n# Get token for the session\ntoken = oauth.fetch_token(\n    token_url='https://services.sentinel-hub.com/oauth/token',\n    client_id=client_id, client_secret=client_secret\n)","key":"rc36nOmH6Q"},{"type":"output","id":"NBTFlja2xkdHiY4WPCuqy","data":[],"key":"OliSDsxrpH"}],"key":"vdymopsg6s"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Get my quota","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zN37MUZ7PS"}],"identifier":"get-my-quota","label":"Get my quota","html_id":"get-my-quota","implicit":true,"key":"Gt0rZVtPZe"}],"key":"iXdc7tMRv9"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"To order PlanetScope data one needs to have enough avaliable quota tied to his SH account. To check your quota:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RtvGPXmgiv"}],"key":"Rk2192Tjr4"}],"key":"sCuZdIxksT"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"#Get my quota\nurl = f\"https://services.sentinel-hub.com/dataimport/v1/quotas\"\n\nr = oauth.get(url=url)\nr.json()","key":"xMScvxSfyX"},{"type":"output","id":"wZ-7BVQ7IdftXN2bxwEVB","data":[{"output_type":"execute_result","execution_count":95,"metadata":{},"data":{"text/plain":{"content":"{'data': [{'id': 'd2c3ee95-f6f3-4035-b14c-529a8a4c753d',\n   'datasetId': 'PLANET_SCOPE',\n   'quotaSqkm': 50.0,\n   'quotaUsed': 4.968239307460755}]}","content_type":"text/plain"}}}],"key":"Du7hahCDAV"}],"key":"HDB0oMYxRS"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We see that the user bought quota for 50 km^2 of PlanetScope data and has already ordered 5 km^2 of data. Here are more details about ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sgi7py7XId"},{"type":"link","url":"https://docs.sentinel-hub.com/api/latest/#/data/PlanetScope?id=purchasing-the-data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Purshasing PlanetSope data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UaeZEY9SXm"}],"urlSource":"https://docs.sentinel-hub.com/api/latest/#/data/PlanetScope?id=purchasing-the-data","key":"gTQsiojCXW"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Rxh6mH9hBV"}],"key":"OfZWGe6nIS"}],"key":"QKI1VKwlbL"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Search","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QjgOYkmUUo"}],"identifier":"search","label":"Search","html_id":"search","implicit":true,"key":"KmiEmN0Z5x"}],"key":"LTUL1PqJxb"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# User's defiend search criteria\n# aoi\n#aoi = {'type': 'Polygon',\n#  'coordinates': [[[12.560804463221928, 41.885177999999996],\n#    [12.585804463221926, 41.885177999999996],\n#    [12.585804463221926, 41.910178],\n#    [12.560804463221928, 41.910178],\n#    [12.560804463221928, 41.885177999999996]]]}\n\naoi = {\"type\": \"Polygon\", \n       \"coordinates\": [[[12.567054463221927, 41.891428], \n                        [12.579554463221926, 41.891428], \n                        [12.579554463221926, 41.903928], \n                        [12.567054463221927, 41.903928], \n                        [12.567054463221927, 41.891428]]]}\n# dates\ndate_from = \"2020-04-15T00:00:00.000Z\"\ndate_to = \"2020-04-17T00:00:00.000Z\"\n\n# max cloud coverage\nmaxcc = 30","key":"q5SqCFDS9w"},{"type":"output","id":"RtDVbVbdMETC9uUXjkNh7","data":[],"key":"rL45mnXSxD"}],"key":"fKIbvoIzbC"},{"type":"block","kind":"notebook-code","data":{"collapsed":true,"jupyter":{"outputs_hidden":true}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Search\nurl = \"https://services.sentinel-hub.com/dataimport/v1/search\"\n\nquery = {\n    \"provider\": \"PLANET\",\n    \"planetApiKey\": PLANET_API_KEY,\n    \"bounds\": {\n        \"geometry\": aoi\n    },\n    \"data\": [\n        {\n            \"itemType\": \"PSScene4Band\",\n            \"dataFilter\": {\n                \"timeRange\": {\n                    \"from\": date_from,\n                    \"to\": date_to\n                },\n                \"maxCloudCoverage\": maxcc\n            }\n        }\n    ]\n}\n\nresponse = oauth.post(url, json=query)\nresponse.raise_for_status()\n\nresults = response.json()\nresults","key":"B2tC3i1TmU"},{"type":"output","id":"qXWSZio6YGtgCPXlkDuXL","data":[{"output_type":"execute_result","execution_count":99,"metadata":{},"data":{"text/plain":{"content":"{'features': [{'_links': {'_self': 'https://api.planet.com/data/v1/item-types/PSScene4Band/items/20200416_093843_1003',\n    'assets': 'https://api.planet.com/data/v1/item-types/PSScene4Band/items/20200416_093843_1003/assets/',\n    'thumbnail': 'https://tiles.planet.com/data/v1/item-types/PSScene4Band/items/20200416_093843_1003/thumb'},\n   '_permissions': ['assets.udm:download',\n    'assets.analytic:download',\n    'assets.analytic_xml:download',\n    'assets.analytic_dn:download',\n    'assets.analytic_dn_xml:download',\n    'assets.basic_analytic:download',\n    'assets.basic_analytic_rpc:download',\n    'assets.basic_analytic_dn:download',\n    'assets.basic_analytic_dn_rpc:download',\n    'assets.basic_analytic_xml:download',\n    'assets.basic_analytic_dn_xml:download',\n    'assets.basic_analytic_dn_nitf:download',\n    'assets.basic_analytic_dn_rpc_nitf:download',\n    'assets.basic_analytic_dn_xml_nitf:download',\n    'assets.basic_analytic_nitf:download',\n    'assets.basic_analytic_rpc_nitf:download',\n    'assets.basic_analytic_xml_nitf:download',\n    'assets.basic_udm:download',\n    'assets.analytic_sr:download',\n    'assets.basic_udm2:download',\n    'assets.udm2:download'],\n   'geometry': {'coordinates': [[[12.474914636514459, 41.94260578251628],\n      [12.770541441847923, 41.89358678466857],\n      [12.749458159218646, 41.82208725509381],\n      [12.4536843525251, 41.871077086871885],\n      [12.471313938096348, 41.93199941594026],\n      [12.471809979639824, 41.93191727566103],\n      [12.474914636514459, 41.94260578251628]]],\n    'type': 'Polygon'},\n   'id': '20200416_093843_1003',\n   'properties': {'acquired': '2020-04-16T09:38:43.436748Z',\n    'anomalous_pixels': 0,\n    'clear_confidence_percent': 100,\n    'clear_percent': 100,\n    'cloud_cover': 0,\n    'cloud_percent': 0,\n    'columns': 8788,\n    'epsg_code': 32633,\n    'ground_control': True,\n    'gsd': 3.8,\n    'heavy_haze_percent': 0,\n    'instrument': 'PS2',\n    'item_type': 'PSScene4Band',\n    'light_haze_percent': 0,\n    'origin_x': 288687,\n    'origin_y': 4646490,\n    'pixel_resolution': 3,\n    'provider': 'planetscope',\n    'published': '2020-04-16T18:18:47Z',\n    'quality_category': 'standard',\n    'rows': 4673,\n    'satellite_id': '1003',\n    'shadow_percent': 0,\n    'snow_ice_percent': 0,\n    'strip_id': '3323142',\n    'sun_azimuth': 141.4,\n    'sun_elevation': 52.8,\n    'updated': '2020-04-17T04:33:47Z',\n    'view_angle': 1,\n    'visible_confidence_percent': 80,\n    'visible_percent': 100},\n   'type': 'Feature'},\n  {'_links': {'_self': 'https://api.planet.com/data/v1/item-types/PSScene4Band/items/20200415_100513_35_1058',\n    'assets': 'https://api.planet.com/data/v1/item-types/PSScene4Band/items/20200415_100513_35_1058/assets/',\n    'thumbnail': 'https://tiles.planet.com/data/v1/item-types/PSScene4Band/items/20200415_100513_35_1058/thumb'},\n   '_permissions': ['assets.udm:download',\n    'assets.analytic:download',\n    'assets.analytic_xml:download',\n    'assets.analytic_dn:download',\n    'assets.analytic_dn_xml:download',\n    'assets.basic_analytic:download',\n    'assets.basic_analytic_rpc:download',\n    'assets.basic_analytic_dn:download',\n    'assets.basic_analytic_dn_rpc:download',\n    'assets.basic_analytic_xml:download',\n    'assets.basic_analytic_dn_xml:download',\n    'assets.basic_analytic_dn_nitf:download',\n    'assets.basic_analytic_dn_rpc_nitf:download',\n    'assets.basic_analytic_dn_xml_nitf:download',\n    'assets.basic_analytic_nitf:download',\n    'assets.basic_analytic_rpc_nitf:download',\n    'assets.basic_analytic_xml_nitf:download',\n    'assets.basic_udm:download',\n    'assets.analytic_sr:download',\n    'assets.basic_udm2:download',\n    'assets.udm2:download'],\n   'geometry': {'coordinates': [[[12.540225904023979, 42.06258078592222],\n      [12.494555189894387, 41.91173068748933],\n      [12.797587812804181, 41.860102825702114],\n      [12.843740258008406, 42.01109575891422],\n      [12.540225904023979, 42.06258078592222]]],\n    'type': 'Polygon'},\n   'id': '20200415_100513_35_1058',\n   'properties': {'acquired': '2020-04-15T10:05:13.355052Z',\n    'anomalous_pixels': 0,\n    'clear_confidence_percent': 99,\n    'clear_percent': 100,\n    'cloud_cover': 0.03,\n    'cloud_percent': 0,\n    'columns': 9748,\n    'epsg_code': 32633,\n    'ground_control': True,\n    'gsd': 3.9,\n    'heavy_haze_percent': 0,\n    'instrument': 'PS2.SD',\n    'item_type': 'PSScene4Band',\n    'light_haze_percent': 0,\n    'origin_x': 292209,\n    'origin_y': 4659654,\n    'pixel_resolution': 3,\n    'provider': 'planetscope',\n    'published': '2020-04-16T14:55:20Z',\n    'quality_category': 'test',\n    'rows': 7689,\n    'satellite_id': '1058',\n    'shadow_percent': 0,\n    'snow_ice_percent': 0,\n    'strip_id': '3320741',\n    'sun_azimuth': 151.3,\n    'sun_elevation': 55,\n    'updated': '2020-04-16T14:58:05Z',\n    'view_angle': 2.1,\n    'visible_confidence_percent': 99,\n    'visible_percent': 100},\n   'type': 'Feature'},\n  {'_links': {'_self': 'https://api.planet.com/data/v1/item-types/PSScene4Band/items/20200415_091216_83_2257',\n    'assets': 'https://api.planet.com/data/v1/item-types/PSScene4Band/items/20200415_091216_83_2257/assets/',\n    'thumbnail': 'https://tiles.planet.com/data/v1/item-types/PSScene4Band/items/20200415_091216_83_2257/thumb'},\n   '_permissions': ['assets.udm:download',\n    'assets.analytic:download',\n    'assets.analytic_xml:download',\n    'assets.analytic_dn:download',\n    'assets.analytic_dn_xml:download',\n    'assets.basic_analytic:download',\n    'assets.basic_analytic_rpc:download',\n    'assets.basic_analytic_dn:download',\n    'assets.basic_analytic_dn_rpc:download',\n    'assets.basic_analytic_xml:download',\n    'assets.basic_analytic_dn_xml:download',\n    'assets.basic_analytic_dn_nitf:download',\n    'assets.basic_analytic_dn_rpc_nitf:download',\n    'assets.basic_analytic_dn_xml_nitf:download',\n    'assets.basic_analytic_nitf:download',\n    'assets.basic_analytic_rpc_nitf:download',\n    'assets.basic_analytic_xml_nitf:download',\n    'assets.basic_udm:download',\n    'assets.basic_udm2:download',\n    'assets.udm2:download'],\n   'geometry': {'coordinates': [[[12.223018986448736, 42.05293210279332],\n      [12.168748146638572, 41.8738734897071],\n      [12.569461415835097, 41.80578463860307],\n      [12.624472731395553, 41.984627398323056],\n      [12.223018986448736, 42.05293210279332]]],\n    'type': 'Polygon'},\n   'id': '20200415_091216_83_2257',\n   'properties': {'acquired': '2020-04-15T09:12:16.833103Z',\n    'anomalous_pixels': 0,\n    'clear_confidence_percent': 99,\n    'clear_percent': 100,\n    'cloud_cover': 0,\n    'cloud_percent': 0,\n    'columns': 12722,\n    'epsg_code': 32633,\n    'ground_control': True,\n    'gsd': 3.8,\n    'heavy_haze_percent': 0,\n    'instrument': 'PSB.SD',\n    'item_type': 'PSScene4Band',\n    'light_haze_percent': 0,\n    'origin_x': 265047,\n    'origin_y': 4659387,\n    'pixel_resolution': 3,\n    'provider': 'planetscope',\n    'published': '2020-04-16T02:59:09Z',\n    'quality_category': 'test',\n    'rows': 9440,\n    'satellite_id': '2257',\n    'shadow_percent': 0,\n    'snow_ice_percent': 0,\n    'strip_id': '3320153',\n    'sun_azimuth': 132.4,\n    'sun_elevation': 48.9,\n    'updated': '2020-04-16T03:06:50Z',\n    'view_angle': 0.2,\n    'visible_confidence_percent': 87,\n    'visible_percent': 100},\n   'type': 'Feature'},\n  {'_links': {'_self': 'https://api.planet.com/data/v1/item-types/PSScene4Band/items/20200415_100515_37_1058',\n    'assets': 'https://api.planet.com/data/v1/item-types/PSScene4Band/items/20200415_100515_37_1058/assets/',\n    'thumbnail': 'https://tiles.planet.com/data/v1/item-types/PSScene4Band/items/20200415_100515_37_1058/thumb'},\n   '_permissions': ['assets.udm:download',\n    'assets.analytic:download',\n    'assets.analytic_xml:download',\n    'assets.analytic_dn:download',\n    'assets.analytic_dn_xml:download',\n    'assets.basic_analytic:download',\n    'assets.basic_analytic_rpc:download',\n    'assets.basic_analytic_dn:download',\n    'assets.basic_analytic_dn_rpc:download',\n    'assets.basic_analytic_xml:download',\n    'assets.basic_analytic_dn_xml:download',\n    'assets.basic_analytic_dn_nitf:download',\n    'assets.basic_analytic_dn_rpc_nitf:download',\n    'assets.basic_analytic_dn_xml_nitf:download',\n    'assets.basic_analytic_nitf:download',\n    'assets.basic_analytic_rpc_nitf:download',\n    'assets.basic_analytic_xml_nitf:download',\n    'assets.basic_udm:download',\n    'assets.analytic_sr:download',\n    'assets.basic_udm2:download',\n    'assets.udm2:download'],\n   'geometry': {'coordinates': [[[12.501239849130165, 41.93591731387212],\n      [12.455680050088363, 41.785071692608234],\n      [12.757869603792253, 41.73355122475297],\n      [12.80446408066859, 41.88451406065172],\n      [12.501239849130165, 41.93591731387212]]],\n    'type': 'Polygon'},\n   'id': '20200415_100515_37_1058',\n   'properties': {'acquired': '2020-04-15T10:05:15.370415Z',\n    'anomalous_pixels': 0,\n    'clear_confidence_percent': 99,\n    'clear_percent': 100,\n    'cloud_cover': 0.03,\n    'cloud_percent': 0,\n    'columns': 9757,\n    'epsg_code': 32633,\n    'ground_control': True,\n    'gsd': 3.9,\n    'heavy_haze_percent': 0,\n    'instrument': 'PS2.SD',\n    'item_type': 'PSScene4Band',\n    'light_haze_percent': 0,\n    'origin_x': 288567,\n    'origin_y': 4645683,\n    'pixel_resolution': 3,\n    'provider': 'planetscope',\n    'published': '2020-04-15T22:30:27Z',\n    'quality_category': 'test',\n    'rows': 7687,\n    'satellite_id': '1058',\n    'shadow_percent': 0,\n    'snow_ice_percent': 0,\n    'strip_id': '3320741',\n    'sun_azimuth': 151.2,\n    'sun_elevation': 55.1,\n    'updated': '2020-04-16T04:40:36Z',\n    'view_angle': 2,\n    'visible_confidence_percent': 81,\n    'visible_percent': 100},\n   'type': 'Feature'}],\n '_links': {'_first': 'https://api.planet.com/data/v1/searches/da708c34620143eb833ff479b08b89ce/results?_page=eyJwYWdlX3NpemUiOiAyNTAsICJzb3J0X2J5IjogInB1Ymxpc2hlZCIsICJzb3J0X2Rlc2MiOiB0cnVlLCAic29ydF9zdGFydCI6IG51bGwsICJzb3J0X2xhc3RfaWQiOiBudWxsLCAic29ydF9wcmV2IjogZmFsc2UsICJxdWVyeV9wYXJhbXMiOiB7fX0%3D',\n  '_next': 'https://api.planet.com/data/v1/searches/da708c34620143eb833ff479b08b89ce/results?_page=eyJwYWdlX3NpemUiOiAyNTAsICJzb3J0X2J5IjogInB1Ymxpc2hlZCIsICJzb3J0X2Rlc2MiOiB0cnVlLCAic29ydF9zdGFydCI6ICIyMDIwLTA0LTE1VDIyOjMwOjI3LjAwMDAwMFoiLCAic29ydF9sYXN0X2lkIjogIjIwMjAwNDE1XzEwMDUxNV8zN18xMDU4IiwgInNvcnRfcHJldiI6IGZhbHNlLCAicXVlcnlfcGFyYW1zIjoge319',\n  '_self': 'https://api.planet.com/data/v1/searches/da708c34620143eb833ff479b08b89ce/results?_page=eyJwYWdlX3NpemUiOiAyNTAsICJzb3J0X2J5IjogInB1Ymxpc2hlZCIsICJzb3J0X2Rlc2MiOiB0cnVlLCAic29ydF9zdGFydCI6IG51bGwsICJzb3J0X2xhc3RfaWQiOiBudWxsLCAic29ydF9wcmV2IjogZmFsc2UsICJxdWVyeV9wYXJhbXMiOiB7fX0%3D'},\n 'type': 'FeatureCollection'}","content_type":"text/plain"}}}],"key":"dX4w0SeuUE"}],"key":"daq9p8K8GW"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Print out the most interesting metadata\nsearch_results = [(feature[\"id\"], feature[\"properties\"]['acquired'], \\\n                   feature[\"properties\"]['cloud_cover']) \\\n                   for feature in results[\"features\"]]\nprint(\"Product id \\t acquisition date & time \\t cloud cover  \")\nfor item in search_results:\n    print(item[0],   item[1],   item[2])","key":"yfpLMl1inx"},{"type":"output","id":"h-MUNDaBELBWy_nQAPcub","data":[{"name":"stdout","output_type":"stream","text":"Product id \t acquisition date & time \t cloud cover  \n20200416_093843_1003 2020-04-16T09:38:43.436748Z 0\n20200415_100513_35_1058 2020-04-15T10:05:13.355052Z 0.03\n20200415_091216_83_2257 2020-04-15T09:12:16.833103Z 0\n20200415_100515_37_1058 2020-04-15T10:05:15.370415Z 0.03\n"}],"key":"UaED8LqLon"}],"key":"nCApMxIfJt"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Additional filtering of search results by cloud coverage\nitem_ids = [feature['id'] for feature in results[\"features\"] \n            if feature[\"properties\"]['cloud_cover'] == 0]\nitem_ids","key":"tqh2VSHbux"},{"type":"output","id":"x-hGNrg-OlPQJGwDv8KQC","data":[{"output_type":"execute_result","execution_count":115,"metadata":{},"data":{"text/plain":{"content":"['20200416_093843_1003', '20200415_091216_83_2257']","content_type":"text/plain"}}}],"key":"VNEVIcZhJe"}],"key":"YWAAURqsVV"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Order data import","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Ct0bDddXLO"}],"identifier":"order-data-import","label":"Order data import","html_id":"order-data-import","implicit":true,"key":"zcD5A4vnX6"}],"key":"KvMjTW1GiD"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"url = \"https://services.sentinel-hub.com/dataimport/v1/orders\"\n\nquery['data'][0][\"productBundle\"] = \"analytic\"\n\nname = \"EDC demo 1\"\npayload = {\n    \"name\": name,\n    \"input\": query\n}\n\nresponse = oauth.post(url, json=payload)\nresponse.raise_for_status()\n\norder = response.json()","key":"uMljaKPGrL"},{"type":"output","id":"IZZnDEhHWFhY28jNMhQ9T","data":[],"key":"p2W2w9VLlb"}],"key":"MKJcaZt8OJ"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"order_id = order['id']\narea = order['sqkm']\nprint(f\"Order {name}, id: {order_id}, area: {area} km^2\")","key":"R8CFxvrxTv"},{"type":"output","id":"R3sz3KUmjiuJImKSaiO5o","data":[{"name":"stdout","output_type":"stream","text":"Order EDC demo 1, id: 89f6057f-3b50-473f-9cd3-6e4f52666e27, area: 4.968239307460755 km^2\n"}],"key":"hWloICbHCA"}],"key":"nevESfDNbm"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Confirm the order","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gqDinizrq7"}],"identifier":"confirm-the-order","label":"Confirm the order","html_id":"confirm-the-order","implicit":true,"key":"iEOzhKZaMx"}],"key":"vTeuDByY6x"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"url = f\"https://services.sentinel-hub.com/dataimport/v1/orders/{order_id}/confirm\"\n\nresponse = oauth.post(url)\nresponse.raise_for_status()","key":"qxAIvdMsGo"},{"type":"output","id":"XtXIJcIBBGRVAxQlbZ0DN","data":[],"key":"YRDXRt5S3L"}],"key":"uYUYp1QlLV"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"response.json()[\"status\"]","key":"KDHk4vz8xO"},{"type":"output","id":"WzQeHbqkMsOKmMr-YLPHC","data":[],"key":"AkkkhFAdVf"}],"key":"X61BcGNW2D"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Check Status","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"c8fw0icOgK"}],"identifier":"check-status","label":"Check Status","html_id":"check-status","implicit":true,"key":"fv6Ub2ji5I"}],"key":"pQzxDISpey"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"order_id = order_id\n\nurl = f\"https://services.sentinel-hub.com/dataimport/v1/orders/{order_id}\"\n\nresponse = oauth.get(url)\nresponse.raise_for_status()\n\norder_status = response.json()","key":"jsKH6zweo5"},{"type":"output","id":"uXZilb8Van1VImKBpPgPe","data":[],"key":"dHskjACsXZ"}],"key":"E12q0Gw3zG"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"order_status[\"status\"]","key":"Ab64remRP6"},{"type":"output","id":"zAK-S5A0enc8bR1FVIrhb","data":[{"output_type":"execute_result","execution_count":101,"metadata":{},"data":{"text/plain":{"content":"'DONE'","content_type":"text/plain"}}}],"key":"yzXgEbG3Ll"}],"key":"sti00u4O1P"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Save the collection id\ncollection_id = order_status[\"collectionId\"]","key":"exKNwOph40"},{"type":"output","id":"GkwL6f1ZDBJgl6KZpUjaG","data":[],"key":"UoPUUOcGRr"}],"key":"yxlo4VkMtF"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"List all orders","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fasEbajiYT"}],"identifier":"list-all-orders","label":"List all orders","html_id":"list-all-orders","implicit":true,"key":"Q1EVbhCdCu"}],"key":"CwRKNZoR7g"},{"type":"block","kind":"notebook-code","data":{"collapsed":true,"jupyter":{"outputs_hidden":true}},"children":[{"type":"code","lang":"python","executable":true,"value":"url = \"https://services.sentinel-hub.com/dataimport/v1/orders\"\n\nresponse = oauth.get(url)\nresponse.raise_for_status()\n\n#response.json()","key":"kDtzUsGx2O"},{"type":"output","id":"mthNjaOB6OoS9HA06GH-0","data":[{"output_type":"execute_result","execution_count":91,"metadata":{},"data":{"text/plain":{"content_type":"text/plain","hash":"08e9e265025ad3ba72281c30b3a9c43b","path":"/notebooks_test/build/08e9e265025ad3ba72281c30b3a9c43b.txt"}}}],"key":"y2uPLBL0zT"}],"key":"w5hYQ6Tgae"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Access the data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BUJb0IZqzC"}],"identifier":"access-the-data","label":"Access the data","html_id":"access-the-data","implicit":true,"key":"F79VNC7VMF"}],"key":"QLzpqEpWDY"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Prepare a bbox","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RJj8q7ZSo4"}],"identifier":"prepare-a-bbox","label":"Prepare a bbox","html_id":"prepare-a-bbox","implicit":true,"key":"Z8LSWNGfbo"}],"key":"oZH14bDOab"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"minx, miny = aoi[\"coordinates\"][0][0]\nmaxx, maxy = aoi[\"coordinates\"][0][2]","key":"A5vOp0j7Ej"},{"type":"output","id":"DWl9LiKNSVBw_m-c1oRHo","data":[],"key":"cW9vGJzOwJ"}],"key":"rsIibxF6GJ"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Prepare evalscript","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GhpTzmZfgV"}],"identifier":"prepare-evalscript","label":"Prepare evalscript","html_id":"prepare-evalscript","implicit":true,"key":"S9Z9EvmD73"}],"key":"HTF9Ocag5n"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# True color\nevalscript_true_color = \"\"\"\n//VERSION=3\nfunction setup() {\n  return {\n    input: [{\"bands\": [\"B1\", \"B2\", \"B3\"]}],\n    output: { bands: 3}\n  };\n}\n\nvar f = 3000;\nfunction evaluatePixel(sample) {\n  return [sample.B3, sample.B2, sample.B1].map(s => s / f);\n}\n\"\"\"","key":"dX4d43eHm3"},{"type":"output","id":"dc1iB9EEKsIdIM1dCTc_a","data":[],"key":"VaFoBrs0cK"}],"key":"A2Ppu8ToT2"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# NDVI\nevalscript_ndvi = \"\"\"\n//VERSION=3\nfunction setup() {\n  return {\n    input: [{\"bands\": [\"B3\", \"B4\"]}],\n    output: { bands: 3}\n  };\n}\n\nfunction evaluatePixel(sample) {\n  var ndvi = (sample.B4 - sample.B3) / (sample.B4 + sample.B3)\n  return colorBlend(ndvi, [0.0, 0.2, 0.6], [[1,0,0], [1,1,0], [0.1,0.30,0]])\n}\n\"\"\"","key":"ObrZiGgWgR"},{"type":"output","id":"JS6XjEX0iNVL0Km4TR9yb","data":[],"key":"CRONIeJueb"}],"key":"yHWlGQAXbg"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Access data with SH process API","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aXmf3H7QZQ"}],"identifier":"access-data-with-sh-process-api","label":"Access data with SH process API","html_id":"access-data-with-sh-process-api","implicit":true,"key":"P0vOlQBpHd"}],"key":"yUNPP5tMBK"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Prepare process API request\nbody = {\n    \"input\": {\n        \"bounds\": {\n            \"bbox\": [minx, miny, maxx, maxy],\n            \"properties\":{\n                \"crs\": \"http://www.opengis.net/def/crs/OGC/1.3/CRS84\"\n            }\n        },\n        \"data\": [\n            {\n                \"type\": \"CUSTOM\",\n                \"dataFilter\": {\n                    \"collectionId\": collection_id,\n                    \"timeRange\": {\n                        \"from\": date_from,\n                        \"to\": date_to\n                    },\n                }\n            }\n        ]\n    },\n    \"evalscript\": \"\",\n    \"output\": {\n        \"height\": 512,\n        \"width\": 512,\n        \"responses\": [\n          {\n            \"identifier\": \"default\",\n            \"format\": {\n                  \"type\": \"image/jpeg\",\n                   \"quality\": 100\n                }\n          }\n        ]\n    }\n}","key":"SkOb2eHddI"},{"type":"output","id":"sgTZ180msU0lHuGiNJSck","data":[],"key":"GSridVnDac"}],"key":"DdK3OV46go"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"def override_evalscript_in_body (body, evalscript):\n    body [\"evalscript\"] = evalscript\n    return body","key":"Dfe4ykaJLv"},{"type":"output","id":"ZuhV3l97unh6toXiTS346","data":[],"key":"srJAMqd7Nr"}],"key":"ywm033RG9H"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"response_true_color = oauth.post(\n    'https://services.sentinel-hub.com/api/v1/process', \n    json=override_evalscript_in_body(body, evalscript_true_color)\n)\nresponse_ndvi = oauth.post(\n    'https://services.sentinel-hub.com/api/v1/process', \n    json=override_evalscript_in_body(body, evalscript_ndvi)\n)\nif response_true_color.status_code == response_ndvi.status_code == 200:\n    print(\"Success\")","key":"y32Cc84q2T"},{"type":"output","id":"nFa9tTVeeoTuubMtrw99F","data":[{"name":"stdout","output_type":"stream","text":"Success\n"}],"key":"O5a8LJ3ZVI"}],"key":"BztkOle6xY"},{"type":"block","kind":"notebook-code","data":{"jupyter":{"source_hidden":true}},"children":[{"type":"code","lang":"python","executable":true,"value":"response_true_color.json()","key":"KOB7d6Q1cC"},{"type":"output","id":"dYGRQt-listtFiqyO2V6O","data":[],"key":"XCst0ucfUN"}],"key":"kFob9Pi33N"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"import io\nfrom PIL import Image","key":"SjKqwNB2uv"},{"type":"output","id":"rMZ3JMu31xWTCEKWcCwnr","data":[],"key":"FYTi70oPrK"}],"key":"ZDH8VIhlHU"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Display true color and  NDVI\nim1 = Image.open(io.BytesIO(response_true_color.content))\nim2 = Image.open(io.BytesIO(response_ndvi.content))\n\ndef get_concat_h(im1, im2):\n    dst = Image.new('RGB', (im1.width + im2.width+10, im1.height))\n    dst.paste(im1, (0, 0))\n    dst.paste(im2, (im1.width+10, 0))\n    return dst\n\nget_concat_h(im1, im2)","key":"lYY6qhKtxG"},{"type":"output","id":"r2AcQei5-aT6X0FL0-yMi","data":[{"output_type":"execute_result","execution_count":114,"metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"d3945e2d5f7ee8707a64850d1d38b53c","path":"/notebooks_test/build/d3945e2d5f7ee8707a64850d1d38b53c.png"},"text/plain":{"content":"<PIL.Image.Image image mode=RGB size=1034x512 at 0x7F03949F7C10>","content_type":"text/plain"}}}],"key":"WcdKXwGN6r"}],"key":"DlOQAcRZ41"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Request S2 data for comparison","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EVkVbIwkLD"}],"identifier":"request-s2-data-for-comparison","label":"Request S2 data for comparison","html_id":"request-s2-data-for-comparison","implicit":true,"key":"sfE32XzoZn"}],"key":"vnpCukmjpe"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"date_from = \"2020-04-10T00:00:00.000Z\" # We extend the time range, as there \n                                       # was no S2 image available for given\n                                       # aoi and time range\n\nevalscript_s2_true_color = \"\"\"\n//VERSION=3\nfunction setup() {\n  return {\n    input: [{\"bands\": [\"B02\", \"B03\", \"B04\"]}],\n    output: { bands: 3}\n  };\n}\n\nfunction evaluatePixel(sample) {\n  return [sample.B04*2.5, sample.B03*2.5, sample.B02*2.5];\n}\n\"\"\"\n\n\n# Prepare process API request\nbody = {\n    \"input\": {\n        \"bounds\": {\n            \"bbox\": [minx, miny, maxx, maxy],\n            \"properties\":{\n                \"crs\": \"http://www.opengis.net/def/crs/OGC/1.3/CRS84\"\n            }\n        },\n        \"data\": [\n            {\n                \"type\": \"S2L1C\",\n                \"dataFilter\": {\n                    \"timeRange\": {\n                        \"from\": date_from,\n                        \"to\": date_to\n                    },\n                }\n            }\n        ]\n    },\n    \"evalscript\": \"\",\n    \"output\": {\n        \"height\": 512,\n        \"width\": 512,\n        \"responses\": [\n          {\n            \"identifier\": \"default\",\n            \"format\": {\n                  \"type\": \"image/jpeg\",\n                   \"quality\": 100\n                }\n          }\n        ]\n    }\n}","key":"WDhJLhpvMt"},{"type":"output","id":"ItLPBj0E-iwdsDYxFaku6","data":[],"key":"gMdAYzHJBN"}],"key":"plAVsvynFw"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"response_s2_true_color = oauth.post( \\\n            'https://services.sentinel-hub.com/api/v1/process',\n            json=override_evalscript_in_body(body, \n                                             evalscript_s2_true_color))","key":"Ho83iIhEdm"},{"type":"output","id":"piPvgc03VxaXoBdbe3X9H","data":[],"key":"ps7LUmwsQ1"}],"key":"S29qLe7G6z"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"stream = io.BytesIO(response_s2_true_color.content)\nimg_s2_true_color = Image.open(stream)","key":"GaMchBzSiF"},{"type":"output","id":"7eWJoPG1tyD98tWf0VrhP","data":[],"key":"aGkkEVGkZ2"}],"key":"L0cHbEeWBS"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Display PlanetScope true color on the left and S2 L1C on the right\nget_concat_h(im1, img_s2_true_color)","key":"DaJF3Y3CRH"},{"type":"output","id":"UWxmGEpubEjpSAdin4nGA","data":[{"output_type":"execute_result","execution_count":104,"metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"d9c9d28b9adb428da804b1c26f394c27","path":"/notebooks_test/build/d9c9d28b9adb428da804b1c26f394c27.png"},"text/plain":{"content":"<PIL.Image.Image image mode=RGB size=1034x512 at 0x7F03948F9650>","content_type":"text/plain"}}}],"key":"t3HXgv4JIy"}],"key":"hFdErxgLTs"}],"key":"Pjk3W2rsmy"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Finished Goods Inventory indicator for RACE","url":"/external-notebooks/eurodatacube/notebooks/notebooks/contributions/race-finishedgoodsinventory-inidcator","group":"Contributions"},"next":{"title":"Using xcube to access non-commercial and commercial data sets","url":"/external-notebooks/eurodatacube/notebooks/notebooks/contributions/xcube-access-datasets","group":"Contributions"}}},"domain":"http://localhost:3000"}